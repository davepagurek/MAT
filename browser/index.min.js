!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.MAT=n():t.MAT=n()}(self,(()=>(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};function e(t){let n="";for(let e=0;e<t.length;e++){const r=t[e];0===e&&(n="M "+r[0][0].toString()+" "+r[0][1].toString()+"\n"),4===r.length?n+="C "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" "+r[3][0].toString()+" "+r[3][1].toString()+" \n":3===r.length?n+="Q "+r[1][0].toString()+" "+r[1][1].toString()+" "+r[2][0].toString()+" "+r[2][1].toString()+" \n":2===r.length&&(n+="L "+r[1][0].toString()+" "+r[1][1].toString()+" \n")}return n+" z\n"}t.r(n),t.d(n,{beziersToSvgPathStr:()=>e,cpNodeComparator:()=>wn,createCpNode:()=>Sn,createPos:()=>Se,drawBranch:()=>Xm,drawElemFunctions:()=>km,drawMat:()=>Ym,enableDebugForMat:()=>Lm,enhanceCpNode:()=>Xn,findMats:()=>Kv,getAllOnLoop:()=>Pn,getBoundaryBezierPartsToNext:()=>$m,getBoundaryBeziersToNext:()=>qm,getBoundaryPieceBeziers:()=>Gd,getBranches:()=>am,getChildren:()=>Mn,getClosestBoundaryPointCertified:()=>Dm,getClosestSquareDistanceToRect:()=>Ad,getCpNodesOnCircle:()=>Cn,getCurveBetween:()=>In,getCurveToNext:()=>Nn,getFirstExit:()=>zn,getPathsFromStr:()=>l,getProngCount:()=>Fn,getRealProngCount:()=>Vn,getShapeBounds:()=>xg,insertCpNode:()=>Tn,isFullyTerminating:()=>Bn,isOnSameCircle:()=>On,isSharp:()=>Yn,isTerminating:()=>An,loopFromBeziers:()=>Cp,matCurveToNextVertex:()=>En,removeCpNode:()=>kn,simplifyMat:()=>ib,simplifyMatMapOnly:()=>ub,sweepLine:()=>pb,toScaleAxis:()=>hm,traverseCp:()=>Dn,traverseEdges:()=>fm,traverseVertices:()=>lm,trimMat:()=>om,vertexChildren:()=>yn});class r{constructor(){this.initialPoint=void 0,this.vals=void 0,this.prev2ndCubicControlPoint=void 0,this.prev2ndQuadraticControlPoint=void 0,this.p=[0,0]}}function o(t){const n=[t.p,t.initialPoint];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n}function i(t){t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0;const n=(e=t.p,t.vals[0],t.vals[1],t.vals[2],t.vals[3],t.vals[4],[[e,[t.vals[5],t.vals[6]]]]);var e;const r=n[n.length-1];return t.p=r[r.length-1],n}const c={c:function(t){const n=[t.p,[t.vals[0],t.vals[1]],[t.vals[2],t.vals[3]],[t.vals[4],t.vals[5]]];return t.prev2ndCubicControlPoint=n[2],t.prev2ndQuadraticControlPoint=void 0,n},h:function(t){const n=[t.p,[t.vals[0],t.p[1]]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},l:function(t){const n=[t.p,t.vals];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},q:function(t){const n=[t.vals[0],t.vals[1]],e=[t.vals[2],t.vals[3]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=n,[t.p,n,e]},s:function(t){const n=t.prev2ndCubicControlPoint?[t.p[0]-t.prev2ndCubicControlPoint[0]+t.p[0],t.p[1]-t.prev2ndCubicControlPoint[1]+t.p[1]]:t.p,e=[t.p,n,[t.vals[0],t.vals[1]],[t.vals[2],t.vals[3]]];return t.prev2ndCubicControlPoint=e[2],t.prev2ndQuadraticControlPoint=void 0,e},t:function(t){const n=t.prev2ndQuadraticControlPoint?[t.p[0]-t.prev2ndQuadraticControlPoint[0]+t.p[0],t.p[1]-t.prev2ndQuadraticControlPoint[1]+t.p[1]]:t.p,e=[t.vals[0],t.vals[1]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=n,[t.p,n,e]},v:function(t){const n=[t.p,[t.p[0],t.vals[0]]];return t.prev2ndCubicControlPoint=void 0,t.prev2ndQuadraticControlPoint=void 0,n},z:o};function s(t){let n=0,e=0,r=1,o=0,i=1,c=1;const s=t._currentIndex;if(t._skipOptionalSpaces(),t._currentIndex<t._endIndex&&"+"===t._string[t._currentIndex]?t._currentIndex+=1:t._currentIndex<t._endIndex&&"-"===t._string[t._currentIndex]&&(t._currentIndex+=1,i=-1),t._currentIndex===t._endIndex||(t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")&&"."!==t._string[t._currentIndex])throw new Error("The first character of a number must be one of [0-9+-.].");const u=t._currentIndex;for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)t._currentIndex+=1;if(t._currentIndex!==u){let n=t._currentIndex-1,r=1;for(;n>=u;)e+=r*(Number(t._string[n])-0),n-=1,r*=10}if(t._currentIndex<t._endIndex&&"."===t._string[t._currentIndex]){if(t._currentIndex+=1,t._currentIndex>=t._endIndex||t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")throw new Error("There must be a least one digit following the .");for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)r*=10,o+=Number(t._string.charAt(t._currentIndex))/r,t._currentIndex+=1}if(t._currentIndex!==s&&t._currentIndex+1<t._endIndex&&("e"===t._string[t._currentIndex]||"E"===t._string[t._currentIndex])&&"x"!==t._string[t._currentIndex+1]&&"m"!==t._string[t._currentIndex+1]){if(t._currentIndex+=1,"+"===t._string[t._currentIndex]?t._currentIndex+=1:"-"===t._string[t._currentIndex]&&(t._currentIndex+=1,c=-1),t._currentIndex>=t._endIndex||t._string[t._currentIndex]<"0"||t._string[t._currentIndex]>"9")throw new Error("There must be an exponent.");for(;t._currentIndex<t._endIndex&&t._string[t._currentIndex]>="0"&&t._string[t._currentIndex]<="9";)n*=10,n+=Number(t._string[t._currentIndex]),t._currentIndex+=1}let f=e+o;if(f*=i,n&&(f*=Math.pow(10,c*n)),s===t._currentIndex)throw new Error("Internal error: startIndex === source._currentIndex");return t._skipOptionalSpacesOrDelimiter(),f}const u={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"};class f{constructor(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=void 0,this._skipOptionalSpaces()}parseSegment(){const t=this._string[this._currentIndex];let n,e=u[t];if(void 0===e){if(void 0===this._prevCommand)throw new Error("Implicit command not allowed for first commands.");if(!("+"===t||"-"===t||"."===t||t>="0"&&t<="9")||"Z"===this._prevCommand)throw new Error("Remaining coordinates not found for implicit command");e="M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand}else this._currentIndex+=1;this._prevCommand=e;const r=e.toUpperCase();if("H"===r||"V"===r?n=[s(this)]:"M"===r||"L"===r||"T"===r?n=[s(this),s(this)]:"S"===r||"Q"===r?n=[s(this),s(this),s(this),s(this)]:"C"===r?n=[s(this),s(this),s(this),s(this),s(this),s(this)]:"A"===r?n=[s(this),s(this),s(this),this._parseArcFlag(),this._parseArcFlag(),s(this),s(this)]:"Z"===r&&(this._skipOptionalSpaces(),n=[]),void 0===n)throw new Error("Unknown command");return{type:e,values:n}}hasMoreData(){return this._currentIndex<this._endIndex}initialCommandIsMoveTo(){if(!this.hasMoreData())return!0;const t=u[this._string[this._currentIndex]];return"M"===t||"m"===t}_isCurrentSpace(){const t=this._string[this._currentIndex];return t<=" "&&(" "===t||"\n"===t||"\t"===t||"\r"===t||"\f"===t)}_skipOptionalSpaces(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex}_skipOptionalSpacesOrDelimiter(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)}_parseArcFlag(){if(this._currentIndex>=this._endIndex)throw new Error("Unable to parse arc flag");let t;const n=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===n)t=0;else{if("1"!==n)throw new Error("Unable to parse arc flag - arc flag must be 0 or 1");t=1}return this._skipOptionalSpacesOrDelimiter(),t}}function l(t){return function(t){if(0===t.length)return[];if("m"!==t[0].type.toLowerCase())throw new Error("Invalid SVG - every new path must start with an M or m.");const n=new r,e=[];let s,u=[];for(let r=0;r<t.length;r++){const f=t[r],l=f.type.toLowerCase();if(n.vals=f.values,f.type===l)if("v"===l)n.vals[0]+=n.p[1];else if("a"===l)n.vals[5]+=n.p[0],n.vals[6]+=n.p[1];else for(let t=0;t<n.vals.length;t++)n.vals[t]+=n.p[t%2];if("m"!==l){if("a"===l)u.push(...i(n));else{const t=c[l];if(!t)throw new Error("Invalid SVG - command not recognized.");const e=t(n);n.p=e[e.length-1],u.push(e)}s=l}else u.length&&("z"!==s&&u.push(o(n)),e.push(u),u=[]),n.initialPoint=n.p=n.vals,s=l}return u.length>0&&("z"!==s&&u.push(o(n)),e.push(u)),e}(function(t){if(!t.length)return[];const n=new f(t),e=[];if(!n.initialCommandIsMoveTo())throw new Error("Path must start with m or M");for(;n.hasMoreData();)e.push(n.parseSegment());return e}(t))}function h(t,n){let e=function(t,n){let e;return e=t.curve.idx-n.curve.idx,0!==e||(e=t.t-n.t),e}(t.pointOnShape,n.pointOnShape);return 0!==e?e:(e=t.order-n.order,0!==e?e:t.order2-n.order2)}function p(t,n){const[[e,r],[o,i]]=t,[[c,s],[u,f]]=n,l=o-e,h=i-r,p=u-c,a=f-s,d=p*h-a*l;if(0===d)return;const g=((s-r)*l-(c-e)*h)/d;return[c+g*p,s+g*a]}function a(t,n){const e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function d(t,n){return[n[0]-t[0],n[1]-t[1]]}function g(t,n,e){return[t[0]+(n[0]-t[0])*e,t[1]+(n[1]-t[1])*e]}function v(t,n){return t[0]===n[0]&&t[1]===n[1]}function m(t,n,e){let r,o=Number.POSITIVE_INFINITY;for(let i=0;i<n.length;i++){const c=n[i],s=a(t,e(c));s<o&&(r=c,o=s)}return r}function b(t,n){return t[0]*n[0]+t[1]*n[1]}function _(t){return[-t[1],t[0]]}function x(t,n){return t[0]*n[1]-t[1]*n[0]}function I(t,n){function e(n){return[t[0]+n[0],t[1]+n[1]]}return void 0===n?e:e(n)}function N(t){const n=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]*n,t[1]*n]}function S(t,n,e){function r(e){return[e[0]*n-e[1]*t,e[0]*t+e[1]*n]}return void 0===e?r:r(e)}function E(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+t[r];return e}function w(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[3*(s-n+3*(r-i)),6*(i+n-2*r),3*(r-n)],[3*(u-e+3*(o-c)),6*(c+e-2*o),3*(o-e)]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[2*(i+n-2*r),2*(r-n)],[2*(c+e-2*o),2*(o-e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n],[o-e]]}(t);if(1===t.length)return[[0],[0]];throw new Error("The bezier curve must be of order <= 3.")}function M(t,n){const[e,r]=w(t);return[E(e,n),E(r,n)]}function y(t){const n=new WeakMap;return function(e){let r=n.get(e);return void 0!==r||(r=t(e),n.set(e,r)),r}}function P(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]}function T(t){return t[t.length-1]}function C(t){const n=new ArrayBuffer(8);return new DataView(n).setFloat64(0,t,!1),Array.from(new Uint8Array(n))}function O(t){return C(t).map(A).join("")}function A(t){let n=t.toString(2);for(;n.length<8;n="0"+n);return n}function B(t){const n=C(t),e=n[0],r=n[1],o=e>>7,i=((127&e)<<4)+((240&r)>>4),c=0===i?0:16,s=0===i?i-1022:i-1023,u=n.slice(1);return u[0]=(15&r)+c,{sign:o,exponent:s,significand:u}}function z(t){return B(t).significand}function Y(t){return Math.log2(t&-t)}function F(t){if(0===t||!Number.isFinite(t))return NaN;const n=z(t),e=n.length;for(let t=e-1;t>=0;t--){if(0===n[t])continue;const r=Y(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function V(t){return t>=128?7:t>=64?6:t>=32?5:t>=16?4:t>=8?3:t>=4?2:t>=2?1:t>=1?0:NaN}function k(t){if(0===t||!Number.isFinite(t))return NaN;const n=z(t),e=n.length;for(let t=0;t<e;t++){const r=V(n[t]);if(Number.isFinite(r))return 8*(e-t-1)+r}return NaN}function L(t){return B(t).exponent}function X(t){if(0===t||!Number.isFinite(t))return NaN;const n=L(t);return k(t)-52+n}function D(t){const n=t.slice(),e=n.length;if(1===e)return n;let r=n[e-1],o=e;for(let t=e-2;t>=0;--t){const e=r,i=n[t];r=e+i;const c=i-(r-e);c&&(n[--o]=r,r=c)}let i=0;for(let t=o;t<e;++t){const e=n[t],o=r;r=e+o;const c=o-(r-e);c&&(n[i++]=c)}return n[i++]=r,n.length=i,n}function q(t,n){const e=(2**(53-n)+1)*t;return e-(e-t)}const $=T,Q=D;function H(t,n){if(t=Q(t),0===$(t))return[0];const e=X(t[t.length-1]);let r=e,o=t.length-1;for(;o>0;){const i=X(t[o-1]);if(e-i>n)break;r=i,o--}const i=Math.min(n-(e-r),53);let c=t[o];c=q(c,i);const s=t.slice(o);return s[0]=c,s}function G(t){let n=t[0];for(let e=1;e<t.length;e++)n+=t[e];return n}function R(t,n){const e=t.length,r=n.length;let o=0,i=0;const c=[];for(;o<e&&i<r;)0!==t[o]?0!==n[i]?Math.abs(t[o])<=Math.abs(n[i])?(c.push(t[o]),o++):(c.push(n[i]),i++):i++:o++;for(;o<e;)c.push(t[o]),o++;for(;i<r;)c.push(n[i]),i++;if(0===c.length)return[0];const s=c.length;if(1===s)return c;const u=[],f=c[1],l=c[0];let h=f+l;const p=l-(h-f);0!==p&&u.push(p),i=0;for(let t=2;t<s;t++){const n=c[t],e=h+n,r=e-h,o=h-(e-r)+(n-r);0!==o&&u.push(o),h=e}return 0===h&&0!==u.length||u.push(h),u}const j=134217729;function U(t,n){const e=t.length;let r;const o=t[0];let i=o*n;const c=j*o,s=c-(c-o),u=o-s,f=j*n,l=f-(f-n),h=n-l,p=[],a=u*h-(i-s*l-u*l-s*h);0!==a&&p.push(a);for(let o=1;o<e;o++){const e=t[o],c=e*n,s=j*e,u=s-(s-e),f=e-u,l=j*n,h=l-(l-n),a=n-h,d=f*a-(c-u*h-f*h-u*a),g=i+d,v=g-i,m=i-(g-v)+(d-v);0!==m&&p.push(m),r=g;const b=c+r,_=r-(b-c);0!==_&&p.push(_),i=b}return 0===i&&0!==p.length||p.push(i),p}function Z(t,n){const e=n.length;let r;const o=n[0];let i=o*t;const c=j*o,s=c-(c-o),u=o-s,f=j*t,l=f-(f-t),h=t-l,p=[],a=u*h-(i-s*l-u*l-s*h);0!==a&&p.push(a);for(let o=1;o<e;o++){const e=n[o],c=e*t,s=j*e,u=s-(s-e),f=e-u,l=j*t,h=l-(l-t),a=t-h,d=f*a-(c-u*h-f*h-u*a),g=i+d,v=g-i,m=i-(g-v)+(d-v);0!==m&&p.push(m),r=g;const b=c+r,_=r-(b-c);0!==_&&p.push(_),i=b}return 0===i&&0!==p.length||p.push(i),p}const W=U,J=R;function K(t,n){let e=[0];for(let r=0;r<t.length;r++)e=J(e,W(n,t[r]));return e}function tt(t){const n=t.length,e=new Array(n);for(let r=0;r<n;r++)e[r]=-t[r];return e}const nt=tt,et=R;function rt(t,n){const e=nt(n);return et(t,e)}function ot(t){return 0===t?0:k(t)-F(t)+1}function it(t){const n=D(t);if(0===T(n))return 0;const e=n[n.length-1],r=n[0];return L(e)-L(r)+(53-F(r))}const ct=K,st=H,ut=it,ft=rt,lt=G;function ht(t,n,e){let r=n,o=t,i=!1,c=0;e||(c=ut(o)-ut(r)+1,e=c/53+1,i=!0);let s=[1/lt(r)],u=1;for(;;){if(o=ct(o,s),u>e)return i?(o=st(o,c),o):o.slice(o.length-e,o.length);r=ct(r,s),s=ft([2],r),u*=2}}function pt(t,n){const e=t.length;let r=n;const o=[];for(let n=0;n<e;n++){const e=t[n],i=r+e,c=i-r,s=r-(i-c)+(e-c);0!==s&&o.push(s),r=i}return 0===r&&0!==o.length||o.push(r),o}function at(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]}const dt=at,gt=pt,vt=R;function mt(t){let n=[0];for(let e=0;e<t.length;e++){const r=t[e];n=1===r.length?1===n.length?dt(n[0],r[0]):gt(n,r[0]):1===n.length?gt(r,n[0]):vt(n,r)}return n}const bt=tt,_t=R,xt=D,It=pt,Nt=mt,St=U,Et=rt,wt=Math.sign;function Mt(t,n){t=xt(t);const e=(n=xt(n))[n.length-1];if(1===n.length){if(0===e)throw new Error("division by zero");if(1===e)return{div:t,rem:[0]};if(-1===e)return{div:bt(t),rem:[0]}}const r=wt(t[t.length-1]);if(0===r)return{div:[0],rem:[0]};const o=wt(e),i=[];let c=0;for(;;){const r=[];for(let o=t.length-1;o>=0;o--){const c=t[o],s=Math.round((c-c%e)/e);if(r.push(St(n,s)),0===s)break;i.push(s)}if(t=xt(Et(t,Nt(r))),c===i.length)break;c=i.length}let s=t,u=[0];for(let t=0;t<i.length;t++)u=It(u,i[t]);u=xt(u);const f=wt(s[s.length-1]);return 0!==f&&f!==r&&(r>0?o>0?(u=It(u,-1),s=_t(s,n)):(u=It(u,1),s=_t(s,bt(n))):r<0&&(o>0?(u=It(u,1),s=_t(s,bt(n))):(u=It(u,-1),s=_t(s,n)))),{div:u,rem:s}}const yt=Mt,Pt=Mt;function Tt(t,n){return T(rt(t,n))}const Ct=tt;function Ot(t){return t[t.length-1]<0?Ct(t):t}function At(t){const n=[];for(let e=0;e<t.length;e++)n.push(2*t[e]);return n}function Bt(t){const n=[];for(let e=0;e<t.length;e++)n.push(-2*t[e]);return n}function zt(t){const n=[];for(let e=0;e<t.length;e++)n.push(.5*t[e]);return n}const Yt=134217729;function Ft(t,n){const e=t*n,r=Yt*t,o=r-(r-t),i=t-o,c=Yt*n,s=c-(c-n),u=n-s;return[i*u-(e-o*s-i*s-o*u),e]}const Vt=K,kt=Ft,Lt=U,Xt=at,Dt=pt,qt=R,$t=K,Qt=Ft,Ht=U,Gt=D;function Rt(t){let n=t[0];for(let e=1;e<t.length;e++){const r=t[e];n=1==r.length?1===n.length?Qt(n[0],r[0]):Ht(n,r[0]):1===n.length?Ht(r,n[0]):$t(r,n)}return Gt(n)}const jt=K,Ut=Rt,Zt=D;function Wt(t){const n=(t=Zt(t)).length;return 2===n?t:1===n?[0,t[0]]:[t[n-2],t[n-1]]}const Jt=3330669073875472e-31,Kt=2220446049250315e-31,tn=1109335647967049e-46,nn=3330669073875471e-31;function en(t,n,e){const r=(t[0]-e[0])*(n[1]-e[1]),o=(t[1]-e[1])*(n[0]-e[0]),i=r-o;let c;if(r>0){if(o<=0)return i;c=r+o}else{if(!(r<0))return i;if(o>=0)return i;c=-r-o}return Math.abs(i)>=Jt*c?i:function(t,n,e,r){const o=t[0]-e[0],i=n[0]-e[0],c=t[1]-e[1],s=n[1]-e[1],u=rt(Ft(o,s),Ft(c,i));let f=G(u);if(Math.abs(f)>=Kt*r)return f;const l=P(t[0],e[0])[0],h=P(n[0],e[0])[0],p=P(t[1],e[1])[0],a=P(n[1],e[1])[0];if(0===l&&0===p&&0===h&&0===a)return f;const d=tn*r+nn*Math.abs(f);if(f+=o*a+s*l-(c*h+i*p),Math.abs(f)>=d)return f;const g=R(u,rt(Ft(l,s),Ft(p,i))),v=R(g,rt(Ft(o,a),Ft(c,h)));let m=R(v,rt(Ft(l,a),Ft(p,h)));return m=D(m),m[m.length-1]}(t,n,e,c)}function rn(t,n){return!function(t,n){if(0===t||0===n)return!0;Math.abs(n)>Math.abs(t)&&([t,n]=[n,t]);const e=F(t),r=k(n);return e+(L(t)-L(n))>r}(t,n)}const on=R,cn=K,sn=Z,un={fastTwoDiff:function(t,n){const e=t-n;return[t-e-n,e]},fastTwoSum:function(t,n){const e=t+n;return[n-(e-t),e]},split:function(t){const n=134217729*t,e=n-(n-t);return[e,t-e]},twoDiff:P,twoProduct:Ft,twoSum:at,reduceSignificand:q,fastExpansionSum:R,eAdd:on,growExpansion:pt,eAddDouble:pt,expansionProduct:K,eMult:cn,scaleExpansion:U,eMultDouble1:U,scaleExpansion2:Z,eMultDouble2:sn,eDiv:ht,eLongDivide:Mt,eIntDiv:function(t,n){return yt(t,n).div},eRem:function(t,n){return Pt(t,n).rem},eCompress:D,eEstimate:G,eDiff:rt,eNegativeOf:tt,eMultBy2:At,eMultByNeg2:Bt,eDivBy2:zt,eSign:T,eCompare:Tt,eAbs:Ot,eToBitlength:H,eIntPow:function(t,n){if(0===n)return[1];if(1===n)return t;if(2===n)return jt(t,t);const e=[];for(let r=0;r<n;r++)e.push(t);return Ut(e)},eCalculate:function(t){let n=[0];for(let e=0;e<t.length;e++){const r=t[e];let o=r[0];for(let t=1;t<r.length;t++){const n=r[t];o=1==n.length?1===o.length?kt(o[0],n[0]):Lt(o,n[0]):1===o.length?Lt(n,o[0]):Vt(n,o)}n=1===o.length?1===n.length?Xt(n[0],o[0]):Dt(n,o[0]):1===n.length?Dt(o,n[0]):qt(n,o)}return n},eSum:mt,eProduct:Rt,eToDd:Wt,parseDouble:B,parseDoubleDetailed:function(t){const n=O(t),[,e,r,o]=n.match(/^(.)(.{11})(.{52})$/),i=0===parseInt(r,2)?"0":"1";return{full:e+r+i+o,sign:e,exponent:r,hidden:i,significand:o}},isBitAligned:function(t,n,e){if(0===t)return!0;const r=L(t),o=k(t)-52+r;return F(t)-52+r>=e&&o<=n-1+e},msbExponent:X,lsbExponent:function(t){if(0===t||!Number.isFinite(t))return NaN;const n=L(t);return F(t)-52+n},bitLength:ot,expBitLength:it,doubleToBinaryString:O,doubleToOctets:C,getHighestSetBit:k,getLowestSetBit:F,exponent:L,significand:z,orient2d:en,isAdjacent:function(t,n){return rn(t,n)||rn(t,2*n)||rn(2*t,n)},isNonOverlappingAll:function(t){for(let n=1;n<t.length;n++)if(rn(t[n-1],t[n]))return!1;return!0},eIsInteger:function(t){t=D(t);for(let n=0;n<t.length;n++)if(t[n]%1!=0)return!1;return!0}};function fn(t){if(4===t.length){const[[n,e],[r,o]]=t;return[3*(r-n),3*(o-e)]}if(3===t.length){const[[n,e],[r,o]]=t;return[2*(r-n),2*(o-e)]}if(2===t.length){const[[n,e],[r,o]]=t;return[r-n,o-e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}function ln(t){if(4===t.length){const[[n,e],[r,o],[i,c]]=t;return[6*(i+n-2*r),6*(c+e-2*o)]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[2*(i+n-2*r),2*(c+e-2*o)]}if(t.length<=2)return[0,0];throw new Error("The given bezier curve must be of order <= 3")}function hn(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[6*(s-n+3*(r-i))],[6*(u-e+3*(o-c))]]}if(t.length<=3)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}const pn=.0698;function an(t,n){const e=function(t,n){const e=t[t.length-2],r=n[0],o=n[1],i=[r[0]-e[0],r[1]-e[1]],c=[o[0]-r[0],o[1]-r[1]],s=function(t,n,e){const r=P(t[0],e[0]),o=P(n[1],e[1]),i=P(t[1],e[1]),c=P(n[0],e[0]),s=cn(r,o),u=cn(i,c);return G(on(s,tt(u)))}(e,r,o);return 0!==s?s:b(i,c)>0?0:function(t,n){const[e,r]=fn(t),[o,i]=ln(t),[c,s]=fn(n),[u,f]=ln(n),l=rt(Ft(e,i),Ft(r,o)),h=rt(Ft(c,f),Ft(s,u)),p=T(l),a=T(h);if(p!==a)return p-a;const d=R(Ft(c,c),Ft(s,s)),g=R(Ft(e,e),Ft(r,r)),v=K(d,d),m=K(v,d),b=K(g,g),_=K(b,g);if(0!==p||0!==a){const t=K(l,l),n=K(h,h),e=T(rt(K(t,m),K(n,_)));if(0!==e)return p>0?e:-e}const[[x],[I]]=hn(t),[[N],[S]]=hn(n),E=rt(Ft(e,I),Ft(r,x)),w=R(Ft(e,o),Ft(r,i)),M=rt(Ft(c,S),Ft(s,N)),y=R(Ft(c,u),Ft(s,f)),P=rt(K(g,E),U(K(l,w),3)),C=rt(K(d,M),U(K(h,y),3)),O=T(P),A=T(C);if(p!==a)return O-A;if(0===O&&0===A)return 0;const B=K(P,P),z=K(v,m),Y=K(C,C),F=K(b,_),V=T(rt(K(B,z),K(Y,F)));return O>0?V:-V}(t.slice().reverse(),n)}(t,n),r=e<0,o=e>0,i=t[t.length-2],c=t[t.length-1],s=[c[0]-i[0],c[1]-i[1]],u=n[0],f=n[1],l=[f[0]-u[0],f[1]-u[1]],h=[N(s),N(l)],p=x(h[0],h[1]);let a,d;return b(s,l)>0?(a=p<-pn,d=p>+pn):(a=r,d=o),{tangents:h,crossTangents:p,isSharp:r,isDull:o,isQuiteSharp:a,isQuiteDull:d}}const dn=y((function(t){return an(t.ps,t.next.ps)}));function gn(t){return dn(1===t.t?t.curve:t.curve.prev)}function vn(t){return 0===t.t||1===t.t}const mn=y((t=>!!vn(t)&&gn(t).isSharp));function bn(t){const n=t.cp.circle.center,e=t,r=t.nextOnCircle,o=e.cp.pointOnShape,i=r.cp.pointOnShape,c=o.p,s=i.p;let u;if(mn(o)){let t,n;0===o.t?(t=o.curve,n=o.curve.prev):1===o.t&&(t=o.curve.next,n=o.curve);const e=N(M(t.ps,0)),r=[-(f=N(M(n.ps,1)))[0],-f[1]],i=b(e,r),c=Math.sqrt((1+i)/2);u=S(Math.sqrt((1-i)/2),c,r)}else u=c[0]===s[0]&&c[1]===s[1]?d(c,n):_(d(c,s));var f;return[n,I(N(u),n)]}const _n=.01,xn=1e-4;function In(t,n){const e=t.cp.circle.center,r=bn(t),o=n.cp.circle.center,i=bn(n.prevOnCircle),c=p(r,i),s=d(e,o);let u;if(c){const t=d(e,c),n=d(o,c);u=b(t,s)<0||b(n,s)>0}else u=!0;if(!u)return[e,c,o];const f=_(s),l=d(r[0],r[1]),h=d(i[0],i[1]),a=Math.abs(x(s,l))/9,v=Math.abs(x(s,h))/9;if(a>_n||v>_n)return[e,o];if(a>xn||v>xn){const t=g(e,o,1/3),n=g(e,o,2/3),c=I(f,t),s=[n,I(f,n)];return[e,p(r,[t,c]),p(i,s),o]}return[e,o]}function Nn(t){return In(t,t.next)}function Sn(t,n,e,r=void 0,o=void 0,i=void 0,c=void 0){return{cp:t,isHoleClosing:n,isIntersection:e,prev:r,next:o,prevOnCircle:i,nextOnCircle:c}}function En(t){return Nn(t)}const wn=(t,n)=>h(t.cp,n.cp);function Mn(t){const n=[],e=t.next;let r=e;do{n.push(r),r=r.nextOnCircle}while(r.nextOnCircle!==e);return n}function yn(t){if(An(t))return[];const n=[];let e=t;for(;e!==t.prevOnCircle;)An(e)||n.push(e.next),e=e.nextOnCircle;return n}function Pn(t){const n=t,e=[n];let r=t.next;for(;r!==n;)e.push(r),r=r.next;return e}function Tn(t,n,e,r,o){const i=Sn(r,t,n);let c,s;return"undefined"!=typeof _debug_&&_debug_.generated.elems.cpNode.push({generated:_debug_.generated,cpNode:i}),o?(c=o,s=c.next):(c=i,s=i),s.prev=i,c.next=i,i.prev=c,i.next=s,e.insert(i),i}function Cn(t,n=!1){const e=t;let r=e;const o=[];do{n?n=!1:o.push(r),r=r.nextOnCircle}while(r!==e);return o}function On(t,n){return Cn(t,!0).indexOf(n)>=0}function An(t){return t===t.next.prevOnCircle}function Bn(t){return Cn(t.prevOnCircle,!0).every((t=>An(t)))}function zn(t){const n=t;let e=n;for(;e.next===e.prevOnCircle;)if(e=e.next,e===n)return;return e}function Yn(t){return 0===t.cp.circle.radius}function Fn(t){const n=t;let e=n,r=0;do{r++,e=e.nextOnCircle}while(e!==n);return r}function Vn(t){return function(t){const n=t;if(0===n.cp.circle.radius)return!0;const e=n.nextOnCircle,r=n.cp.pointOnShape.p,o=e.cp.pointOnShape.p;return r[0]===o[0]&&r[1]===o[1]}(t)?1:Fn(t)}function kn(t,n){const e=t.prev,r=t.next;e.next=r,r.prev=e;const o=r.prevOnCircle,i=e.nextOnCircle;o.next=i,i.prev=o,n&&n.remove(t,!1)}function Ln(t){const n=t.cp,e=n.pointOnShape;return{idx:e.curve.idx,t:e.t,order:n.order,order2:n.order2}}function Xn(t){const n=t.cp.pointOnShape.curve;return{...t,isTerminating:An(t),isFullyTerminating:Bn(t),isSharp:Yn(t),prongCount:Fn(t),getRealProngCount:Vn(t),ordering:Ln(t),curve:n,loop:n.loop}}function Dn(t){let n=t;if(n===n.next.prevOnCircle)return[n];const e=[];do{e.push(n);const t=n.next.prevOnCircle;n=n=n===t?n.next.next:t}while(n!==t);return e}function qn(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=r-i,s=c-r,u=e-o,f=u-e,l=r-(c-s)+(-i-s)+u,h=c+l,p=e-(u-f)+(-o-f)+(l-(h-c)),a=h+p;return[p-(a-h),a]}const $n=qn,Qn=qn;Number.EPSILON;const Hn=2**27+1;const Gn=134217729,Rn=134217729;function jn(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=r/i,s=i*c,u=Rn*i,f=u-(u-i),l=i-f,h=Rn*c,p=h-(h-c),a=c-p,d=o*c,g=s+d,v=d-(g-s)+(l*a-(s-f*p-l*p-f*a)),m=g+v,b=(r-m+(e-(v-(m-g))))/i,_=c+b;return[b-(_-c),_]}const Un=134217729,Zn=jn,Wn=Number.EPSILON/2,Jn=Wn*Wn,Kn=Number.EPSILON/2,te=function(t,n){const e=n[0],r=n[1],o=r*t,i=Gn*r,c=i-(i-r),s=r-c,u=Gn*t,f=u-(u-t),l=t-f,h=s*l-(o-c*f-s*f-c*l)+e*t,p=o+h;return[h-(p-o),p]},ne=function(t){const n=t[0],e=t[1];if(0===e)return[0,0];const r=Math.sqrt(e),o=r*r,i=134217729*r,c=i-(i-r),s=r-c,u=.5*(e-o-(s*s-(o-c*c-c*s*2))+n)/r;return[u-(r+u-r),r+u]},ee=function(t,n){if(t-n<=0){const e=t>0?Math.sqrt(t):0;return{est:e,err:Math.max(Math.sqrt(t+n)-e,e)}}const e=Math.sqrt(t),r=Math.sqrt(t-n),o=Math.sqrt(t+n);return{est:e,err:Math.max(Math.abs(r-e),Math.abs(o-e))}},re=function(t,n){const e=t[0],r=t[1],o=r+n,i=o-r,c=e+(r-(o-i)+(n-i)),s=o+c;return[c-(s-o),s]},oe=function(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=r+i,s=c-r,u=e+o,f=u-e,l=r-(c-s)+(i-s)+u,h=c+l,p=e-(u-f)+(o-f)+(l-(h-c)),a=h+p;return[p-(a-h),a]},ie=qn,ce=function(t,n){const e=n[0],r=n[1],o=r*t,i=Gn*r,c=i-(i-r),s=r-c,u=Gn*t,f=u-(u-t),l=t-f,h=e*t,p=o+h,a=h-(p-o)+(s*l-(o-c*f-s*f-c*l)),d=p+a;return[a-(d-p),d]},se=function(t){return[2*t[0],2*t[1]]},ue=function(t){return[4*t[0],4*t[1]]},fe=function(t){return[-2*t[0],-2*t[1]]},le=function(t,n){const e=t[1],r=n[1],o=e*r,i=Hn*e,c=i-(i-e),s=e-c,u=Hn*r,f=u-(u-r),l=r-f,h=s*l-(o-c*f-s*f-c*l)+(e*n[0]+t[0]*r),p=o+h;return[h-(p-o),p]},he=jn,pe=function(t){return[-t[0],-t[1]]},ae=function(t,n){const e=t-n,r=t-e;return[t-(e+r)+(r-n),e]},de=function(t,n){const e=t*n,r=Un*t,o=r-(r-t),i=t-o,c=Un*n,s=c-(c-n),u=n-s;return[i*u-(e-o*s-i*s-o*u),e]},ge=function(t,n){const e=t+n,r=e-t;return[t-(e-r)+(n-r),e]},ve=function(t,n,e,r){const o=t/n,i=Math.abs(t),c=Math.abs(n),s=c-r;return s<=0?{est:o,err:Number.POSITIVE_INFINITY}:{est:o,err:(c*e+i*r)/s**2+Kn*Math.abs(i/c)}},me=le,be=oe,_e=ie,xe=ae,Ie=re;function Ne(t,n){if(0===n[0]&&0===n[1])return t[0].map((t=>[0,t]));if(0===n[0]&&1===n[1])return t[t.length-1].map((t=>[0,t]));if(4===t.length){const[[e,r],[o,i],[c,s],[u,f]]=t,l=Ie(me(xe(o,e),n),e),h=Ie(me(xe(c,o),n),o),p=Ie(me(xe(u,c),n),c),a=be(l,me(_e(h,l),n)),d=be(h,me(_e(p,h),n)),g=be(a,me(_e(d,a),n)),v=Ie(me(xe(i,r),n),r),m=Ie(me(xe(s,i),n),i),b=Ie(me(xe(f,s),n),s),_=be(v,me(_e(m,v),n)),x=be(m,me(_e(b,m),n));return[g,be(_,me(_e(x,_),n))]}if(3===t.length){const[[e,r],[o,i],[c,s]]=t,u=be([0,e],me(xe(o,e),n)),f=be([0,o],me(xe(c,o),n)),l=be(u,me(_e(f,u),n)),h=be([0,r],me(xe(i,r),n)),p=be([0,i],me(xe(s,i),n));return[l,be(h,me(_e(p,h),n))]}if(2===t.length){const[[e,r],[o,i]]=t;return[Ie(me(xe(o,e),n),e),Ie(me(xe(i,r),n),r)]}if(1===t.length){const[n,e]=t[0];return[[0,n],[0,e]]}throw new Error("The given bezier curve must be of order <= 3.")}function Se(t,n,e){return{curve:t,t:n,p:Ne(t.ps,[0,n]).map((t=>t[1])),source:e}}const Ee=Number.EPSILON/2,we=Ee*Ee,Me=te,ye=G,Pe=function(t){const n=3*we;return n/(1-n)}(),Te=U,Ce=at,Oe=Ft,Ae=Math.abs,Be=Number.EPSILON/2;function ze(t,n){let e=t[0],r=.5*Ae(e);for(let o=1;o<t.length;o++)e=e*n+t[o],r=r*Ae(n)+Ae(e);return r=Be*(2*r-Ae(e)),[e,r]}const Ye=Math.abs,Fe=function(t){const n=t*Ee;return n/(1-n)},Ve=ze,ke=E,Le=Fe(1),Xe=Fe(2);function De(t,n,e=void 0,r=1){const o=Math.abs(n),i=t[0],[c,s]=Ve(i,n),u=Xe*function(t,n){let e=0;for(let r=0;r<t.length;r++)e=e*n+Ye(t[r]);return e}(i,o),f=void 0!==e?ke(e,o):0;if((s+u+f)*r<Math.abs(c))return c;const l=function(t,n){const e=[],r=[];let o,i=t[0];for(let c=1;c<t.length;c++){const[s,u]=Oe(i,n);[o,i]=Ce(u,t[c]),e.push(s),r.push(o)}return{r̂:i,pπ:e,pσ:r}}(i,n),{pπ:h,pσ:p}=l;let{r̂:a}=l;const[d,g]=Ve(h,n),[v,m]=Ve(p,n),[b,_]=Ve(t[1],n);let x=g+m+_+f;return a=d+v+b+a,x+=Le*a,x*r<Math.abs(a)?a:0}const qe=R,$e=U;function Qe(t,n){let e=[0];for(let r=0;r<t.length;r++)e=qe(t[r],$e(e,n));return e}const He=De,Ge=Qe,Re=G,je=De,Ue=Qe,Ze=G,We=Number.EPSILON,Je=Math.abs,Ke=Math.max;function tr(t){const n=[];for(let e=0;e<t.length;e++)n.push(-t[e]);return n}const nr=tr,er=function(t){return n=>1/t(function(t){return t.slice().reverse()}(n))};function rr(t){const n=t.length-1;if(n<1)return 0;t[0]<0&&(t=nr(t));const e=[];for(let t=0;t<n;t++)e.push(1);let r=0;for(let o=0;o<=n;o++){if(t[o]>=0)continue;let n=Number.POSITIVE_INFINITY,i=!1;for(let r=0;r<o;r++){if(t[r]<=0)continue;const c=(-t[o]/(t[r]/2**e[r]))**(1/(o-r));e[r]++,n>c&&(n=c),i=!0}i&&r<n&&(r=n)}return r}er(rr);const or=(Ir=rr,t=>-Ir(function(t){const n=t.length-1;if(n<0)return[];const e=t.slice();for(let t=0;t<n+1;t++)t%2&&(e[t]=-e[t]);return e}(t))),ir=(er(or),function(t){const{p:n,pE:e}=t,r=[],o=[],i=n.length-1;for(let t=0;t<i;t++){const c=i-t,s=Me(c,n[t]);r.push(s);const u=0==(c&c-1)?0:Pe,f=ye(s);o.push(c*e[t]+Math.abs(f)*u)}return{p:r,pE:o}}),cr=De,sr=Qe,ur=function(t){const n=t[0].length,e=[];for(let r=0;r<n;r++){const o=[];for(let e=0;e<t.length;e++)o.push(t[e][n-(r+1)]);e.push(o)}return e},fr=function(t,n,e,r){const o=He(t,e,n,4);return 0!==o?o:Re(Ge(r(),e))},lr=function(t,n,e,r,o,i,c,s){let u=e,f=r,l=u,h=o,p=f-u,a=p;for(;;){let d;Je(h)<Je(i)&&(u=f,f=l,l=u,o=i,i=h,h=o);const g=Ke(Je(u),Je(f));d=g<=1?We:We*2**Math.ceil(Math.log2(g));const v=.5*(l-f);if(Je(v)<=d)return f<l?[f,l]:[l,f];if(Je(p)<d||Je(o)<=Je(i))p=v,a=p;else{let t,n,e=i/o;if(u===l)t=2*v*e,n=1-e;else{n=o/h;const r=i/h;t=e*(2*v*n*(n-r)-(f-u)*(r-1)),n=(n-1)*(r-1)*(e-1)}0<t?n=-n:t=-t,e=p,p=a,2*t<3*v*n-Je(d*n)&&t<Je(.5*e*n)?a=t/n:(p=v,a=p)}if(u=f,o=i,d<Je(a)?f+=a:0<v?f+=d:f-=d,0===(i=s?Ze(Ue(c(),f)):je(t,f,n))){if(s)return[f,f];const o=Math.max(e,f-d),u=Math.min(r,f+d);if(je(t,o,n)*je(t,u,n)!=0)return[o,u];if(s=!0,0===(i=Ze(Ue(c(),f))))return[f,f]}(0<i&&0<h||i<=0&&h<=0)&&(l=u,h=o,p=f-u,a=p)}},hr=or,pr=rr,ar=function(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push(Te(t[r],e-r));return n},dr=G,gr=ze,vr=T,mr=Math.max,br=Math.min,_r=Math.abs,xr=1+Number.EPSILON;var Ir;function Nr(t,n=0,e=1,r,o,i){o||(o=()=>t),r=r||new Array(t.length).fill(0);let c,s,u=0;for(;t.length>0&&_r(t[0][1])<=r[0]&&(s=s||o(),0===vr(s[0]));)(t=t.slice()).shift(),(r=r.slice()).shift(),s.shift();if(0===t.length)return i?void 0:[];if(1===t.length)return[];if(n===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY){const r=t.map((t=>t[1]));n===Number.NEGATIVE_INFINITY&&(n=hr(r)),e===Number.POSITIVE_INFINITY&&(e=pr(r))}const f=ur(t);let l,h;const p=t.length-1;let a,d;l=0,h=!1;do{if(a=h?dr(sr(x(),n)):cr(f,n,r),0===a){if(l++,l>=3&&!h){h=!0;continue}n-=2*Number.EPSILON*mr(1,_r(n))}}while(0===a);l=0,h=!1;do{if(d=h?dr(sr(x(),e)):cr(f,e,r),0===d){if(l++,l>=3&&!h){h=!0;continue}e+=2*Number.EPSILON*mr(1,_r(e))}}while(0===d);const g=[{p:t,pE:r}],v=[ur(t)];for(let t=1;t<=p;t++){const n=ir(g[t-1]);g.push(n),v.push(ur(n.p))}let m,b,_=[];for(u=p-1;u>=0;u--)m=g[u].pE,b=v[u],_=I();function x(){if(void 0!==c)return c[u];let t=s||o();for(c=[t];t.length>1;)t=ar(t),c.push(t);return c[u]}return _;function I(){const t=[],r=fr(b,m,n,x);if(!_.length){const t=fr(b,m,e,x);if(r*t>=0)return[];const[o,i]=lr(b,m,n,e,r,t,x);return[{tS:o,tE:i,multiplicity:1}]}let o=_[0].tS,i=fr(b,m,o,x);if(r*i>0);else if(r*i<0){const[e,c]=lr(b,m,n,o,r,i,x);t.push({tS:e,tE:c,multiplicity:1})}let c,s=n,f=r,l=o,h=i;for(let n=0;n<_.length;n++){const r=_[n+1];c=_[n],o=l,s=_[n].tE,l=r?r.tS:e;const u=f;if(i=h,f=fr(b,m,s,x),h=fr(b,m,l,x),i*f>0)if(f*h>0)s!==o&&c.multiplicity%2==1&&a();else if(f*h<0){s!==o&&c.multiplicity%2==1&&a();const[n,e]=lr(b,m,s,l,f,h,x);t.push({tS:n,tE:e,multiplicity:1})}else s!==o&&c.multiplicity%2==1&&a();else if(i*f<0){if(t.push({tS:c.tS,tE:c.tE,multiplicity:3}),f*h<0){const[n,e]=lr(b,m,s,l,f,h,x);t.push({tS:n,tE:e,multiplicity:1})}}else if(0===f)0===i?t.push({tS:c.tS,tE:c.tE,multiplicity:c.multiplicity+1}):i*h>0?t.push({tS:c.tS,tE:c.tE,multiplicity:2}):t.push({tS:c.tS,tE:c.tE,multiplicity:3});else{if(f*h<0){const[n,e]=lr(b,m,s,l,f,h,x);t.push({tS:n,tE:e,multiplicity:1})}u*f>0?t.push({tS:c.tS,tE:c.tE,multiplicity:2}):t.push({tS:c.tS,tE:c.tE,multiplicity:3})}}for(let n=0;n<t.length-1;n++){const e=t[n],r=t[n+1];if(e.tE>=r.tS)return Sr(t)}return t;function a(){const n=(s-o)*xr;let e=1,r=0;for(let t=u+2;t<=p;t++){const i=v[t][0],c=gr(i,o);r+=(_r(c[0])+c[1])*e,e*=n*xr}const l=f>0?br(i,f):mr(i,f),h=2*Number.EPSILON*mr(1,_r(s)),a=r*(2*h);(l+(f>0?2*-a*h:2*a*h))*f<0&&t.push({tS:c.tS,tE:c.tE,multiplicity:2})}}}function Sr(t){const n=[],e=t[0];let r={tS:e.tS,tE:e.tE,multiplicity:e.multiplicity};for(let e=0;e<t.length-1;e++){const o=t[e],i=t[e+1];o.tE<i.tS?(n.push(r),r={tS:i.tS,tE:i.tE,multiplicity:i.multiplicity}):(r.tE=i.tE,r.multiplicity=o.multiplicity+i.multiplicity)}return n.push(r),n}function Er(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){return Nr(t.map((t=>[0,t])),n,e,void 0,void 0,r)}function wr(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[3*(s-n+3*(r-i)),6*(i+n-2*r),3*(r-n)],[3*(u-e+3*(o-c)),6*(c+e-2*o),3*(o-e)]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[2*(i+n-2*r),2*(r-n)],[2*(c+e-2*o),2*(o-e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n],[o-e]]}(t);if(1===t.length)return[[0],[0]];throw new Error("The bezier curve must be of order <= 3.")}function Mr(t,n){if(0===n)return t[0];if(1===n)return t[t.length-1];if(4===t.length){const[[e,r],[o,i],[c,s],[u,f]]=t,l=e+(o-e)*n,h=o+(c-o)*n,p=l+(h-l)*n,a=r+(i-r)*n,d=i+(s-i)*n,g=a+(d-a)*n;return[p+(h+(c+(u-c)*n-h)*n-p)*n,g+(d+(s+(f-s)*n-d)*n-g)*n]}if(3===t.length){const[[e,r],[o,i],[c,s]]=t,u=e+(o-e)*n,f=r+(i-r)*n;return[u+(o+(c-o)*n-u)*n,f+(i+(s-i)*n-f)*n]}if(2===t.length){const[[e,r],[o,i]]=t;return[e+(o-e)*n,r+(i-r)*n]}if(1===t.length)return t[0];throw new Error("The given bezier curve must be of order <= 3.")}const yr=Math.abs;function Pr(t,n){if(0===n[0]&&0===n[1])return[0,0];if(0===n[0]&&1===n[1])return[0,0];const e=yr(n[1]);if(4===t.length){const[[n,r],[o,i],[c,s],[u,f]]=t,l=yr(n),h=yr(r),p=yr(o),a=yr(i),d=yr(c),g=yr(s),v=l+(p+l)*e,m=p+(d+p)*e,b=v+(m+v)*e,_=h+(a+h)*e,x=a+(g+a)*e,I=_+(x+_)*e;return[b+(m+(d+(yr(u)+d)*e+m)*e+b)*e,I+(x+(g+(yr(f)+g)*e+x)*e+I)*e]}if(3===t.length){const[[n,r],[o,i],[c,s]]=t,u=yr(n),f=yr(r),l=yr(o),h=yr(i),p=u+(l+u)*e,a=f+(h+f)*e;return[p+(l+(yr(c)+l)*e+p)*e,a+(h+(yr(s)+h)*e+a)*e]}if(2===t.length){const[[n,r],[o,i]]=t,c=yr(n),s=yr(r);return[c+(yr(o)+c)*e,s+(yr(i)+s)*e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}const Tr=Number.EPSILON/2,Cr=Tr*Tr;function Or(t){const n=t*Tr;return n/(1-n)}function Ar(t){const n=t*Cr;return n/(1-n)}Or(1),Ar(3);const Br=Math.abs,zr=[[0,0],[0,0],[0,0],[0,0]];const Yr=Math.abs,Fr=[[0,0],[0,0],[0,0]];const Vr=Math.abs,kr=[[0,0],[0,0]];const Lr=Number.EPSILON/2,Xr=Or(1);function Dr(t,n){return n[0]!==n[1]?4===t.length?function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:zr}:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],d=c-n*(c-u),g=u-n*(u-l),v=d-n*(d-g),m=v-n*(v-(g-n*(g-(l-n*(l-p))))),b=s-n*(s-f),_=f-n*(f-h),x=b-n*(b-_),I=x-n*(x-(_-n*(_-(h-n*(h-a))))),N=Br(n),S=Br(c),E=Br(u),w=Br(l),M=Br(p),y=Br(s),P=Br(f),T=Br(h),C=S+N*(S+E),O=E+N*(E+w),A=C+N*(C+O),B=y+N*(y+P),z=P+N*(P+T),Y=B+N*(B+z);return{ps:[[c,s],[d,b],[v,x],[m,I]],_ps:[[0,0],[C,B],[A,Y],[A+N*(A+(O+N*(O+(w+N*(w+M))))),Y+N*(Y+(z+N*(z+(T+N*(T+Br(a))))))]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],d=c-n*(c-u),g=u-n*(u-l),v=l-n*(l-p),m=d-n*(d-g),b=g-n*(g-v),_=m-n*(m-b),x=s-n*(s-f),I=f-n*(f-h),N=h-n*(h-a),S=x-n*(x-I),E=I-n*(I-N),w=S-n*(S-E),M=Br(n),y=Br(c),P=Br(u),T=Br(l),C=Br(p),O=Br(s),A=Br(f),B=Br(h),z=y+M*(y+P),Y=P+M*(P+T),F=T+M*(T+C),V=z+M*(z+Y),k=Y+M*(Y+F),L=O+M*(O+A),X=A+M*(A+B),D=B+M*(B+Br(a)),q=L+M*(L+X),$=X+M*(X+D);return{ps:[[_,w],[b,E],[v,N],[p,a]],_ps:[[V+M*(V+k),q+M*(q+$)],[k,$],[F,D],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=t[3],s=r[0],u=r[1],f=o[0],l=o[1],h=i[0],p=i[1],a=n*n,d=n*a,g=e*e,v=e*g,m=n*e,b=s-f,_=h-f,x=c[0]-s,I=b+_,N=n*b,S=e*b,E=x-3*_,w=u-l,M=p-l,y=c[1]-u,P=w+M,T=n*w,C=e*w,O=y-3*M,A=d*E+(3*n*(n*I-b)+s),B=m*(n*E+2*I)+(a*I+s-(S+2*N)),z=m*(e*E+2*I)+(g*I+s-(2*S+N)),Y=v*E+(3*e*(e*I-b)+s),F=d*O+(3*n*(n*P-w)+u),V=m*(n*O+2*P)+(a*P+u-(C+2*T)),k=m*(e*O+2*P)+(g*P+u-(2*C+T)),L=v*O+(3*e*(e*P-w)+u),X=Br(n),D=Br(e),q=Br(m),$=Br(d),Q=Br(v),H=Br(s),G=Br(f),R=H+G,j=Br(h)+G,U=R+j,Z=X*R,W=D*R,J=Br(x)+3*j,K=Br(u),tt=Br(l),nt=K+tt,et=Br(p)+tt,rt=nt+et,ot=X*nt,it=D*nt,ct=Br(y)+3*et;return{ps:[[A,F],[B,V],[z,k],[Y,L]],_ps:[[$*J+(3*X*(X*U+R)+H),$*ct+(3*X*(X*rt+nt)+K)],[q*(X*J+2*U)+(a*U+H+(W+2*Z)),q*(X*ct+2*rt)+(a*rt+K+(it+2*ot))],[q*(D*J+2*U)+(g*U+H+(2*W+Z)),q*(D*ct+2*rt)+(g*rt+K+(2*it+ot))],[Q*J+(3*D*(D*U+R)+H),Q*ct+(3*D*(D*rt+nt)+K)]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=e[2][0],s=e[3][0],u=9*Lr*r[0][0],f=9*Lr*r[1][0],l=9*Lr*r[2][0],h=9*Lr*r[3][0],p=e[0][1],a=e[1][1],d=e[2][1],g=e[3][1],v=9*Lr*r[0][1],m=9*Lr*r[1][1],b=9*Lr*r[2][1],_=9*Lr*r[3][1],x=Math.min(o-u,i-f,c-l,s-h),I=Math.max(o+u,i+f,c+l,s+h);return[[x,Math.min(p-v,a-m,d-b,g-_)],[I,Math.max(p+v,a+m,d+b,g+_)]]}(t,n):3===t.length?function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:Fr}:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],h=n*n,p=i-s,a=c-u,d=[[i,c],[-n*p+i,-n*a+c],[h*(p+(f-s))-(2*n*p-i),h*(a+(l-u))-(2*n*a-c)]],g=Yr(n),v=Yr(i),m=Yr(s),b=Yr(f),_=v+m,x=Yr(c),I=Yr(u),N=x+I;return{ps:d,_ps:[[0,0],[g*_+v,g*N+x],[h*(_+(b+m))+(2*g*_+v),h*(N+(Yr(l)+I))+(2*g*N+x)]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],h=n*n,p=i-s,a=f-s,d=c-u,g=l-u,v=[[h*(p+a)-(2*n*p-i),h*(d+g)-(2*n*d-c)],[n*a+s,n*g+u],[f,l]],m=Yr(n),b=Yr(i),_=Yr(s),x=b+_,I=Yr(f)+_,N=Yr(c),S=Yr(u),E=N+S;return{ps:v,_ps:[[h*(x+I)+(2*m*x+b),h*(E+(Yr(l)+S))+(2*m*E+N)],[m*I+_,0],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=r[0],s=r[1],u=o[0],f=o[1],l=i[0],h=i[1],p=n*n,a=e*e,d=n*e,g=c-u,v=g+(l-u),m=s-f,b=m+(h-f),_=p*v-(2*n*g-c),x=d*v-(g*(e+n)-c),I=a*v-(2*e*g-c),N=p*b-(2*n*m-s),S=d*b-(m*(e+n)-s),E=a*b-(2*e*m-s),w=Yr(n),M=Yr(e),y=Yr(d),P=Yr(c),T=Yr(u),C=P+T,O=C+Yr(l)+T,A=Yr(s),B=Yr(f),z=A+B,Y=z+Yr(h)+B;return{ps:[[_,N],[x,S],[I,E]],_ps:[[p*O+(2*w*C+P),p*Y+(2*w*z+A)],[y*O+(C*(M+w)+P),y*b+(z*(M+w)+A)],[a*O+(2*M*C+P),a*Y+(2*M*z+A)]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=e[2][0],s=5*Lr*r[0][0],u=5*Lr*r[1][0],f=5*Lr*r[2][0],l=e[0][1],h=e[1][1],p=e[2][1],a=5*Lr*r[0][1],d=5*Lr*r[1][1],g=5*Lr*r[2][1],v=Math.min(o-s,i-u,c-f),m=Math.max(o+s,i+u,c+f);return[[v,Math.min(l-a,h-d,p-g)],[m,Math.max(l+a,h+d,p+g)]]}(t,n):function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:kr}:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=[[o,i],[n*(c-o)+o,n*(s-i)+i]],f=Vr(n),l=Vr(o),h=Vr(c),p=Vr(i);return{ps:u,_ps:[[0,0],[f*(h+l)+l,f*(Vr(s)+p)+p]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=[[n*(c-o)+o,n*(s-i)+i],[c,s]],f=Vr(n),l=Vr(o),h=Vr(c),p=Vr(i);return{ps:u,_ps:[[f*(h+l)+l,f*(Vr(s)+p)+p],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],c=r[1],s=o[0],u=o[1],f=[[n*(s-i)+i,n*(u-c)+c],[e*(s-i)+i,e*(u-c)+c]],l=Vr(n),h=Vr(e),p=Vr(i),a=Vr(s),d=Vr(c),g=Vr(u);return{ps:f,_ps:[[l*(a+p)+p,l*(g+d)+d],[h*(a+p)+p,h*(g+d)+d]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=3*Lr*r[0][0],s=3*Lr*r[1][0],u=e[0][1],f=e[1][1],l=3*Lr*r[0][1],h=3*Lr*r[1][1],p=Math.min(o-c,i-s),a=Math.max(o+c,i+s);return[[p,Math.min(u-l,f-h)],[a,Math.max(u+l,f+h)]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n)return[e,e];if(1===n)return[r,r];const o=Mr(t,n);let i;if(4===t.length)i=Pr(t,[0,n]).map((t=>8*Xr*t));else if(3===t.length)i=Pr(t,[0,n]).map((t=>5*Xr*t));else if(2===t.length)i=Pr(t,[0,n]).map((t=>2*Xr*t));else if(1===t.length)return[o,o];return[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]]}(t,n[0])}function qr(t){const n=t[0],e=t[t.length-1];let r,o;if(n[1]<e[1]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minY:r,maxY:o};const[,i]=wr(t),c=Er(i,0,1);for(let n=0;n<c.length;n++){const e=c[n],i=[e.tS,e.tE],s=Dr(t,i);s[0][1]<r.box[0][1]&&(r={ts:i,box:s}),s[1][1]>o.box[0][1]&&(o={ts:i,box:s})}return{minY:r,maxY:o}}function $r(t){const n=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[0]<e[0]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minX:r,maxX:o};const[i]=wr(t),c=Er(i,0,1);for(let n=0;n<c.length;n++){const e=c[n],i=[e.tS,e.tE],s=Dr(t,i);s[0][0]<r.box[0][0]&&(r={ts:i,box:s}),s[1][0]>o.box[0][0]&&(o={ts:i,box:s})}return{minX:r,maxX:o}}(t),e=qr(t);return[[n.minX.box[0][0],e.minY.box[0][1]],[n.maxX.box[1][0],e.maxY.box[1][1]]]}function Qr(t,n){const e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function Hr(t){const[n,e]=t[0],[r,o]=t[t.length-1];let i,c;const s=function(t){let n=0;for(let e=0;e<t.length-1;e++)n+=Qr(t[e],t[e+1]);return n}(t);if(256*a(t[0],t[t.length-1])<s*s){const[r,o]=Mr(t,.5),s=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/s,c=(r-n)/s}else{const t=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/t,c=(r-n)/t}const u=function(t,n,e){const r=I(t[0].map((t=>-t)));return $r(t.map((t=>S(-n,e,r(t)))))}(t,i,c),[[f,l],[h,p]]=u,d=[u[0],[h,l],u[1],[f,p]],g=S(i,c);return d.map((n=>I(t[0],g(n))))}function Gr(t,n,e){if(n===e)return;const r=t[n];t[n]=t[e],t[e]=r}function Rr(t,n=!1){if(!t.length)return;function e(t,e,r){const o=en(t,e,r);return n?o<0:o<=0}const r=t.slice(),o=r.length,i=function(t){let n,e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<t.length;r++){const o=t[r][1];(o<e[1]||o===e[1]&&t[r][0]<e[0])&&(n=r,e=t[r])}return n}(r),[c]=r.splice(i,1);r.sort(((t,n)=>{let e=-en(c,t,n);return 0!==e?e:(e=t[1]-n[1],0!==e?e:t[0]-n[0])})),r.unshift(c);let s=1;for(let t=2;t<o;t++){for(;e(r[s-1],r[s],r[t]);)if(s>1)s-=1;else{if(t===o-1){s-=1;break}t+=1}s+=1,Gr(r,s,t)}return r.slice(0,s+1)}const jr=Rr,Ur=ae,Zr=oe,Wr=te,Jr=le,Kr=se,to=ue,no=ie,eo=ae,ro=oe,oo=te,io=le,co=se,so=ie,uo=ue,fo=de,lo=oe,ho=fe,po=ie,ao=P,go=cn,vo=Z,mo=At,bo=Bt,_o=on,xo=rt,Io=P,No=cn,So=Z,Eo=At,wo=on,Mo=rt;function yo(t){const n=[];for(let e=0;e<t.length;e++)n.push(4*t[e]);return n}const Po=P,To=cn,Co=Bt,Oo=on,Ao=rt,Bo=Math.abs;function zo(t){return(t.tS+t.tE)/2}function Yo(t){const n=t[0],e=t[1];return[(n[0]+e[0])/2,(n[1]+e[1])/2]}const Fo=G,Vo=P,ko=cn,Lo=on,Xo=Number.EPSILON,{sqrt:Do}=Math,qo=Ar(6);function $o(t,n){const e=t.length-1;let r;if(3===e)r=Nr(function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],[d,g]=n,v=Ur(c,d),m=Ur(u,d),b=Ur(l,d),_=Ur(p,d),x=Ur(s,g),I=Ur(f,g),N=Ur(h,g),S=Ur(a,g),E=Jr(v,v),w=Wr(6,Jr(v,m)),M=Wr(6,Jr(v,b)),y=Kr(Jr(v,_)),P=Wr(9,Jr(m,m)),T=Wr(18,Jr(m,b)),C=Wr(6,Jr(m,_)),O=Wr(9,Jr(b,b)),A=Wr(6,Jr(b,_)),B=Jr(_,_),z=Jr(x,x),Y=Wr(6,Jr(x,I)),F=Wr(6,Jr(x,N)),V=Kr(Jr(x,S)),k=Wr(9,Jr(I,I)),L=Wr(18,Jr(I,N)),X=Wr(6,Jr(I,S)),D=Wr(9,Jr(N,N)),q=Wr(6,Jr(N,S)),$=Jr(S,S),Q=Zr(C,O),H=Zr(y,T),G=Zr(M,P),R=Zr(X,D),j=Zr(V,L),U=Zr(F,k);return[Wr(6,Zr(Zr(Zr(Zr(no(B,A),no(E,w)),Q),no(G,H)),Zr(Zr(Zr(no($,q),no(z,Y)),R),no(U,j)))),Wr(5,Zr(no(Zr(Zr(A,Wr(5,w)),Wr(3,H)),Kr(Zr(Zr(Q,Kr(G)),Wr(3,E)))),no(Zr(Zr(q,Wr(5,Y)),Wr(3,j)),Kr(Zr(Zr(R,Kr(U)),Wr(3,z)))))),to(Zr(no(no(Q,Wr(3,no(H,Kr(G)))),Wr(5,no(Kr(w),Wr(3,E)))),no(no(R,Wr(3,no(j,Kr(U)))),Wr(5,no(Kr(Y),Wr(3,z)))))),Wr(3,Zr(no(H,Kr(no(Kr(G),Wr(5,no(w,Kr(E)))))),no(j,Kr(no(Kr(U),Wr(5,no(Y,Kr(z)))))))),Kr(Zr(no(G,Wr(5,no(w,Wr(3,E)))),no(U,Wr(5,no(Y,Wr(3,z)))))),Zr(no(w,Wr(6,E)),no(Y,Wr(6,z)))]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=Bo(e[0]),s=Bo(e[1]),u=Bo(r[0]),f=Bo(r[1]),l=Bo(o[0]),h=Bo(o[1]),p=Bo(i[0]),a=Bo(i[1]),d=Bo(n[0]),g=Bo(n[1]),v=c+d,m=u+d,b=l+d,_=p+d,x=s+g,I=f+g,N=h+g,S=a+g,E=v*v,w=6*v*m,M=6*b*_,y=x*x,P=6*x*I,T=6*N*S,C=6*m*_+9*b*b,O=2*v*_+18*m*b,A=6*v*b+9*m*m,B=6*I*S+9*N*N,z=2*x*S+18*I*N,Y=6*x*N+9*I*I;return[6*(_*_+M+(E+w)+C+(A+O)+(S*S+T+(y+P)+B+(Y+z))),5*(M+5*w+3*O+2*(C+2*A+3*E)+(T+5*P+3*z+2*(B+2*Y+3*y))),4*(C+3*(O+2*A)+5*(2*w+3*E)+(B+3*(z+2*Y)+5*(2*P+3*y))),3*(O+2*(2*A+5*(w+2*E))+(z+2*(2*Y+5*(P+2*y)))),2*(A+5*(w+3*E)+(Y+5*(P+3*y))),w+6*E+(P+6*y)]}(t,n).map((t=>10*qo*t)),(()=>function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],[d,g]=n,v=ao(c,d),m=ao(u,d),b=ao(l,d),_=ao(p,d),x=ao(s,g),I=ao(f,g),N=ao(h,g),S=ao(a,g),E=go(v,v),w=vo(6,go(v,m)),M=vo(6,go(v,b)),y=mo(go(v,_)),P=vo(9,go(m,m)),T=vo(18,go(m,b)),C=vo(6,go(m,_)),O=vo(9,go(b,b)),A=vo(6,go(b,_)),B=go(_,_),z=go(x,x),Y=vo(6,go(x,I)),F=vo(6,go(x,N)),V=mo(go(x,S)),k=vo(9,go(I,I)),L=vo(18,go(I,N)),X=vo(6,go(I,S)),D=vo(9,go(N,N)),q=vo(6,go(N,S)),$=go(S,S),Q=_o(C,O),H=_o(y,T),G=_o(M,P),R=_o(X,D),j=_o(V,L),U=_o(F,k),Z=xo(_o(_o(B,E),_o(Q,G)),_o(_o(H,A),w)),W=xo(_o(_o($,z),_o(R,U)),_o(_o(j,q),Y)),J=vo(6,_o(Z,W)),K=_o(bo(_o(_o(Q,mo(G)),vo(3,E))),_o(_o(A,vo(3,H)),vo(5,w))),tt=_o(bo(_o(_o(R,mo(U)),vo(3,z))),_o(_o(q,vo(3,j)),vo(5,Y))),nt=vo(5,_o(K,tt)),et=_o(_o(Q,vo(3,xo(mo(G),H))),vo(5,xo(vo(3,E),mo(w)))),rt=_o(_o(R,vo(3,xo(mo(U),j))),vo(5,xo(vo(3,z),mo(Y)))),ot=vo(4,_o(et,rt)),it=xo(H,mo(xo(mo(G),vo(5,xo(w,mo(E)))))),ct=xo(j,mo(xo(mo(U),vo(5,xo(Y,mo(z)))))),st=vo(3,_o(it,ct)),ut=xo(G,vo(5,xo(w,vo(3,E)))),ft=xo(U,vo(5,xo(Y,vo(3,z)))),lt=mo(_o(ut,ft)),ht=xo(w,vo(6,E)),pt=xo(Y,vo(6,z));return[J,nt,ot,st,lt,_o(ht,pt)]}(t,n)));else if(2===e)r=Nr(function(t,n){const[[e,r],[o,i],[c,s]]=t,[u,f]=n,l=eo(e,u),h=eo(o,u),p=eo(c,u),a=eo(r,f),d=eo(i,f),g=eo(s,f),v=io(l,l),m=io(l,h),b=io(l,p),_=io(h,h),x=io(h,p),I=io(p,p),N=io(a,a),S=io(a,d),E=io(a,g),w=io(d,d),M=io(d,g),y=io(g,g),P=ro(E,co(w)),T=ro(b,co(_));return[ro(so(ro(ro(y,N),co(P)),uo(ro(M,S))),so(ro(ro(I,v),co(T)),uo(ro(x,m)))),oo(3,ro(ro(so(M,P),so(oo(3,S),N)),ro(so(x,T),so(oo(3,m),v)))),ro(so(P,oo(3,so(co(S),N))),so(T,oo(3,so(co(m),v)))),ro(so(S,N),so(m,v))]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=t[2],i=Bo(e[0]),c=Bo(e[1]),s=Bo(r[0]),u=Bo(r[1]),f=Bo(o[0]),l=Bo(o[1]),h=Bo(n[0]),p=Bo(n[1]),a=i+h,d=s+h,g=f+h,v=c+p,m=u+p,b=l+p,_=a*a,x=a*d,I=d*g,N=v*v,S=v*m,E=m*b,w=v*b+m*m*2,M=a*g+d*d*2;return[b*b+N+2*w+4*(E+S)+(g*g+_+2*M+4*(I+x)),3*(E+w+(3*S+N)+(I+M+(3*x+_))),w+3*(2*S+N)+(M+3*(2*x+_)),S+N+(x+_)]}(t,n).map((t=>8*qo*t)),(()=>function(t,n){const[[e,r],[o,i],[c,s]]=t,[u,f]=n,l=Io(e,u),h=Io(o,u),p=Io(c,u),a=Io(r,f),d=Io(i,f),g=Io(s,f),v=No(l,l),m=No(l,h),b=No(l,p),_=No(h,h),x=No(h,p),I=No(p,p),N=No(a,a),S=No(a,d),E=No(a,g),w=No(d,d),M=No(d,g),y=No(g,g),P=wo(E,Eo(w)),T=wo(b,Eo(_)),C=wo(Mo(wo(I,Eo(T)),yo(wo(x,m))),v),O=wo(Mo(wo(y,Eo(P)),yo(wo(M,S))),N),A=wo(C,O),B=wo(Mo(x,T),Mo(So(3,m),v)),z=wo(Mo(M,P),Mo(So(3,S),N)),Y=So(3,wo(B,z)),F=Mo(P,So(3,Mo(Eo(S),N))),V=Mo(T,So(3,Mo(Eo(m),v))),k=wo(F,V),L=Mo(S,N),X=Mo(m,v);return[A,Y,k,wo(L,X)]}(t,n)));else{if(1!==e){if(0===e)return[];throw new Error("The given bezier curve must be of order <= 3")}r=Nr(function(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=e-c,f=o-c,l=r-s,h=i-s,p=fo(u,u),a=fo(u,f),d=fo(f,f),g=fo(l,l),v=fo(l,h),m=fo(h,h),b=lo(a,v),_=lo(g,p);return[lo(lo(d,m),lo(_,ho(b))),po(b,_)]}(t,n),0,1,function(t,n){const e=t[0],r=t[1],o=Bo(e[0]),i=Bo(e[1]),c=Bo(r[0]),s=Bo(r[1]),u=Bo(n[0]),f=Bo(n[1]),l=o+u,h=c+u,p=i+f,a=s+f,d=l*h+p*a,g=p*p+l*l;return[h*h+a*a+2*d+g,d+g]}(t,n).map((t=>6*qo*t)),(()=>function(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=Po(e,c),f=Po(o,c),l=Po(r,s),h=Po(i,s),p=To(u,u),a=To(u,f),d=To(f,f),g=To(l,l),v=To(l,h),m=To(h,h),b=Oo(a,v),_=Oo(g,p);return[Oo(Oo(d,m),Oo(Co(b),_)),Ao(b,_)]}(t,n)))}r.push({tS:0,tE:0,multiplicity:1}),r.push({tS:1,tE:1,multiplicity:1});const o=r.map((e=>{const r=Dr(t,[e.tS,e.tE]),o=function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=n[0],f=n[1];let l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(const[t,n]of[[o,i],[o,s],[c,i],[c,s]]){const e=Vo(t,u),r=Vo(n,f),o=Lo(ko(e,e),ko(r,r)),i=Fo(o),c=i*(1-Xo),s=i*(1+Xo);c<=l&&(l=c),s>=h&&(h=s)}return[l,h]}(r,n);return{p:Yo(r),t:zo(e),d:(Do(o[0])+Do(o[1]))/2,dSquaredI:o,box:r,ri:e}}));let i=Number.POSITIVE_INFINITY;for(let t=0;t<o.length;t++){const n=o[t].dSquaredI[1];n<i&&(i=n)}const c=[];for(let t=0;t<o.length;t++){const n=o[t];n.dSquaredI[0]<=i&&c.push(n)}return c}const Qo=function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=c-n*(c-u),a=u-n*(u-l),d=p-n*(p-a),g=s-n*(s-f),v=f-n*(f-h),m=g-n*(g-v);return[[c,s],[p,g],[d,m],[d-n*(d-(a-n*(a-(l-n*(l-i[0]))))),m-n*(m-(v-n*(v-(h-n*(h-i[1])))))]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],d=c-n*(c-u),g=u-n*(u-l),v=l-n*(l-p),m=d-n*(d-g),b=g-n*(g-v),_=s-n*(s-f),x=f-n*(f-h),I=h-n*(h-a),N=_-n*(_-x),S=x-n*(x-I);return[[m-n*(m-b),N-n*(N-S)],[b,S],[v,I],[p,a]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=t[3],s=r[0],u=r[1],f=o[0],l=o[1],h=i[0],p=i[1],a=n*n,d=n*a,g=e*e,v=e*g,m=n*e,b=s-f,_=h-f,x=b+_,I=n*b,N=e*b,S=c[0]-s-3*_,E=u-l,w=p-l,M=E+w,y=n*E,P=e*E,T=c[1]-u-3*w;return[[d*S+(3*n*(n*x-b)+s),d*T+(3*n*(n*M-E)+u)],[m*(n*S+2*x)+(a*x+s-(N+2*I)),m*(n*T+2*M)+(a*M+u-(P+2*y))],[m*(e*S+2*x)+(g*x+s-(2*N+I)),m*(e*T+2*M)+(g*M+u-(2*P+y))],[v*S+(3*e*(e*x-b)+s),v*T+(3*e*(e*M-E)+u)]]}(t,n,e)},Ho=function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=n*n,l=i-s,h=c-u;return[[i,c],[-n*l+i,-n*h+c],[f*(l+(o[0]-s))-(2*n*l-i),f*(h+(o[1]-u))-(2*n*h-c)]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],h=n*n,p=i-s,a=f-s,d=c-u,g=l-u;return[[h*(p+a)-(2*n*p-i),h*(d+g)-(2*n*d-c)],[n*a+s,n*g+u],[f,l]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=r[0],s=r[1],u=o[0],f=o[1],l=n*n,h=e*e,p=n*e,a=c-u,d=a+(i[0]-u),g=s-f,v=g+(i[1]-f);return[[l*d-(2*n*a-c),l*v-(2*n*g-s)],[p*d-(a*(e+n)-c),p*v-(g*(e+n)-s)],[h*d-(2*e*a-c),h*v-(2*e*g-s)]]}(t,n,e)},Go=function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1];return[[o,i],[n*(r[0]-o)+o,n*(r[1]-i)+i]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1];return[[n*(c-o)+o,n*(s-i)+i],[c,s]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],c=r[1],s=o[0],u=o[1];return[[n*(s-i)+i,n*(u-c)+c],[e*(s-i)+i,e*(u-c)+c]]}(t,n,e)};function Ro(t,n,e){if(4===t.length)return Qo(t,n,e);if(3===t.length)return Ho(t,n,e);if(2===t.length)return Go(t,n,e);if(1===t.length)return t;throw new Error("The given bezier curve must be of order <= 3.")}function jo(t,n){const e=n.xs;return e.length<=2&&7!==e[0].x.kind}function Uo(t,n,e,r,o){const i=function(t,n,e){return(r,o,i)=>{n.has(r)||r.orientation||(r.orientation=o*t.orientation,r.parent=i,r.windingNum=i.windingNum+r.orientation,e.push(r))}}(e,o,r);let c,s,u=0,f=1,l=n;for(;l=1===e.orientation?l.nextAround:l.prevAround,l!==n;)u=f,f-=l.dir,-1!==l.dir&&(s?1===u&&0===f?i(l,1,e.parent):0===u&&-1===f&&i(l,-1,e.parent):0===f?s=l:1===f&&i(l,1,e));return jo(0,n.container)||(c=[n.p,s.p]),{out_:s,additionalBezier:c}}function Zo(t,n){const e=n.next,r=e._x_.curve,o=e._x_.x.ri.tS;let i=n._x_.curve,c=n._x_.x.ri.tS;jo(0,n.container)||(c=zo($o(i.ps,n.p)[0].ri));const s=[];let u;for(;;){if(i===r&&(c<o||c===o&&s.length))return u=Ro(i.ps,c,o),{beziers:s,in_:e,inBez:u};{const t=Ro(i.ps,c,1);s.push(t)}c=0,i=i.next}}function Wo(t,n,e){const r=[],o=[];let i,c=e;do{n.add(c);const{beziers:t,in_:s,inBez:u}=Zo(0,c);if(o.push(...t),({out_:c,additionalBezier:i}=Uo(0,s,e,r,n)),i){const t=Ro(u,0,zo($o(u,i[0])[0].ri));o.push(t),o.push(i)}else o.push(u)}while(c!==e);return{beziers:o,additionalOutsToCheck:r}}function Jo(t,n,e,r){const o=[n];for(;o.length;){const t=o.pop();if(e.add(t._x_.curve.loop),r.has(t))continue;t.children=new Set;const{beziers:n,additionalOutsToCheck:i}=Wo(0,r,t);t.beziers=n,t.parent.children=t.parent.children||new Set,t.parent.children.add(t),o.push(...i)}}function Ko(t){let n=0;for(let e=0;e<=t.length-1&&0===t[e];e++)n++;return 0!==n&&(t=t.slice(n)),t}const ti=Ko;function ni(t,n){const e=t.length-1,r=n.length-1;if(e<0||r<0)return[];const o=e+r,i=new Array(o+1).fill(0);for(let c=0;c<e+1;c++)for(let s=0;s<r+1;s++)i[o-(c+s)]+=t[e-c]*n[r-s];return ti(i)}const ei=ni;function ri(t){let n=[1];for(let e=0;e<t.length;e++)n=ei(n,[1,-t[e]]);return n}const oi=123456789,ii=4294967296;function ci(t){return function(n,e,r,o,i=oi,c=0){const s=[];for(let u=0;u<n;u++){const n=t(e,r,o,i,c),u=n.p;i=n.seed,s.push(u)}return s}}function si(t){return(134775813*t+1)%ii}function ui(t,n,e,r,o=0){let i=[];for(let c=0;c<t;c++)r=fi(r=si(r),i,r/ii*(e-n)+n,o);return i=i.slice(0,t),{vs:i,seed:r}}function fi(t,n,e,r){return t=si(t),n.push(e),t/ii<r&&(t=fi(t,n,e,r)),t}function li(t,n=-1,e=1,r=oi){const o=ui(t,n,e,r);return r=o.seed,{p:o.vs,seed:r}}function hi(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push((e-r)*t[r]);return n}ci((function(t,n=0,e=1,r=oi,o=0){const i=ui(t,n,e,r,o);return r=i.seed,{p:ri(i.vs),seed:r}})),ci(li);const pi=E,ai=Number.EPSILON/2,di=Math.abs,gi=Math.max,vi=hi,mi=E,bi=function(t,n,e,r=pi(t,n),o=pi(t,e)){let i=n,c=e,s=i,u=r,f=c-i,l=f;for(;;){di(u)<di(o)&&(i=c,c=s,s=i,r=o,o=u,u=r);const n=2*ai*gi(1,di(i),di(c)),e=.5*(s-c);if(di(e)<=n)return c;if(di(f)<n||di(r)<=di(o))f=e,l=f;else{let t,h,p=o/r;if(i===s)t=2*e*p,h=1-p;else{h=r/u;const n=o/u;t=p*(2*e*h*(h-n)-(c-i)*(n-1)),h=(h-1)*(n-1)*(p-1)}0<t?h=-h:t=-t,p=f,f=l,2*t<3*e*h-di(n*h)&&t<di(.5*p*h)?l=t/h:(f=e,l=f)}if(i=c,r=o,n<di(l)?c+=l:0<e?c+=n:c-=n,0===(o=pi(t,c)))return c;o*u>0&&(s=i,u=r,f=c-i,l=f)}},_i=or,xi=rr,Ii=Ko;function Ni(t,n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){t=Ii(t);let r=0;for(;0===t[t.length-1];)t=t.slice(0,-1),r++;if(t.length<=1){const t=[];for(let n=0;n<r;n++)t.push(0);return t}n===Number.NEGATIVE_INFINITY&&(n=_i(t)),e===Number.POSITIVE_INFINITY&&(e=xi(t));const o=[t];for(let n=1;n<=t.length-1;n++)o.push(vi(o[n-1]));let i=[];for(let r=t.length-2;r>=0;r--){const t=o[r],c=[];let s=n,u=mi(t,s);0===u&&0===r&&c.push(n);for(let n=0;n<i.length;n++){const e=i[n],r=mi(t,e);0===r?c.push(e):u*r<0&&c.push(bi(t,s,e,u,r)),s=e,u=r}const f=mi(t,e);u*f<0&&c.push(bi(t,s,e,u,f)),0===f&&0===r&&c.push(e),i=c}if(r>0&&n<=0&&e>=0){const t=[];let n=!1;for(let e=0;e<i.length;e++){if(!n&&i[e]>=0){for(let n=0;n<r;n++)t.push(0);n=!0}t.push(i[e])}return t}return i}function Si(t){if(4===t.length)return Ei(t);if(3===t.length)return wi(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[r-n,n],[o-e,e]]}(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[n],[e]]}(t);throw new Error("The given bezier curve must be of order <= 3.")}function Ei(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[s-n+3*(r-i),3*(i+n-2*r),3*(r-n),n],[u-e+3*(o-c),3*(c+e-2*o),3*(o-e),e]]}function wi(t){const[[n,e],[r,o],[i,c]]=t;return[[i+n-2*r,2*(r-n),n],[c+e-2*o,2*(o-e),e]]}function Mi(t,n){const[e,r]=wr(t);return[E(e,n),E(r,n)]}const yi=y($r),Pi=y((function(t){const n=wr(t),e=Ni(n[0],0,1),r=Ni(n[1],0,1);e.push(0,1),r.push(0,1);let o,i,c,s,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n],[c]=Mr(t,r);c<u&&(u=c,o=r),c>f&&(f=c,i=r)}for(let n=0;n<r.length;n++){const e=r[n],[,o]=Mr(t,e);o<l&&(l=o,c=e),o>h&&(h=o,s=e)}return{ts:[[o,c],[i,s]],box:[[u,l],[f,h]]}})),Ti=1e-6;function Ci(t){const n=t.map((t=>Pi(t)));return{minX:Math.min(...n.map((t=>t.box[0][0]))),maxX:Math.max(...n.map((t=>t.box[1][0]))),minY:Math.min(...n.map((t=>t.box[0][1]))),maxY:Math.max(...n.map((t=>t.box[1][1])))}}function Oi(t,n){let e;const r=[t];for(;r.length;)o(r.pop());return e;function o(o){if(o===t||function(t,n){let e=0,r=1231;do{e++;const i=li(1,0,1,r),c=i.p[0];r=i.seed;const s=li(1,0,t.length,r),u=Math.floor(s.p[0]);r=s.seed;const f=o(t,n,Mr(t[u],c));if(void 0!==f)return f}while(e<100);return;function o(t,n,e){if(function(t,n){const e=[t,n].map(Ci);return e[0].minX<e[1].minX||e[0].maxX>e[1].maxX||e[0].minY<e[1].minY||e[0].maxY>e[1].maxY}(t,n))return!1;const r=function(t,n,e){const[r,o]=n;let i=0;for(let e=0;e<t.length;e++){const c=t[e],[[s,u],[f,l]]=yi(c);let h=u>o||l<o||!1;if(h=h||s>r||!1,h)continue;const p=[];let a,d,g;const v=!0;a=t=>Si(t)[1],d=[0,-o],g=0;const m=c.map(I(d)),b=Ni(a(m),0-Ti,1+Ti);for(let t=0;t<b.length;t++){const e=b[t];if(Math.abs(e)<Ti||Math.abs(e-1)<Ti)return;const r=Mr(m,e);(v&&n[g]>=r[g]||!v&&n[g]<=r[g])&&p.push(e)}if(1===p.length||3===p.length)for(const t of p){const n=N(Mi(c,t));if(Math.abs(n[1])<Ti)return}i+=p.length}return i}(n,e);return void 0!==r?r%2!=0:void 0}}(n.beziers,o.beziers)){e=o;for(const t of o.children)r.push(t)}}}function Ai(t,n){return Bi(t)-Bi(n)}function Bi(t){let n=Number.POSITIVE_INFINITY;for(const e of t){const t=Pi(e).box[0][1];t<n&&(n=t)}return n}function zi(t){const n=[t],e=Array.from(t.children);for(;e.length;){const t=e.pop();0===t.windingNum&&n.push(t);for(const n of t.children)e.push(n)}return n}function Yi(t,n,e){let[[r,o],[i,c]]=n,[[s,u],[f,l]]=e;o>c&&([o,c]=[c,o]),u>l&&([u,l]=[l,u]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]);const h=t||r===i&&s===f,p=t||o===c&&u===l;return(h?r<=f:r<f)&&(h?i>=s:i>s)&&(p?u<=c:u<c)&&(p?l>=o:l>o)}function Fi(t,n){return Yi(!0,t.box,n.box)}function Vi(t,n){for(let e=0;e<n.length;e++){const r=n[e];ki(t,[r.a,r.b])}}function ki(t,n){const[e,r]=n;let o=t.get(e);o||(o=[],t.set(e,o));let i=t.get(r);i||(i=[],t.set(r,i)),o.push(r),i.push(e)}function Li(t,n,e,r){e.add(n),r.push(n);const o=t.get(n);for(let n=0;n<o.length;n++){const i=o[n];e.has(i)||Li(t,i,e,r)}}function Xi(t){const n=[],e=new Set;for(const r of t){const o=r[0];e.has(o)||(n.push([]),Li(t,o,e,n[n.length-1]))}return n}function Di(t,n){const e=new Set;for(const t of n)for(const n of t)e.add(n);const r=[];for(let n=0;n<t.length;n++){const o=t[n];e.has(o)||r.push(o)}return r}function qi(t){const n=[];for(const e of t){let t=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const c=[];for(const n of e){const[[e,s],[u,f]]=n.box;e<t&&(t=e),s<r&&(r=s),u>o&&(o=u),f>i&&(i=f),c.push(...n.xs)}const s={box:[[t,r],[o,i]],xs:c,inOuts:void 0};n.push(s)}return n}function $i(t){return{tS:[0,t.tS],tE:[0,t.tE],multiplicity:t.multiplicity}}const Qi=K,Hi=R,Gi=Z,Ri=function(t,n,e){const r=t.length-1;if(r<0)return[];const o=[];for(let t=0;t<r+1;t++)o.push(new Array(r+1).fill([0]));o[0][0]=[1];for(let t=1;t<=r;t++){o[0][t]=Gi(e,o[0][t-1]);for(let r=1;r<=t;r++)o[r][t]=Hi(Gi(e,o[r][t-1]),Gi(n,o[r-1][t-1]))}const i=new Array(r+1).fill([0]);for(let n=0;n<=r;n++){i[r-n]=[0];for(let e=n;e<=r;e++){const c=Qi(o[n][e],t[r-e]);i[r-n]=Hi(i[r-n],c)}}return i},ji=Nr,Ui=Wt,Zi=at,Wi=Number.EPSILON;function Ji(t,n){const e=t.tS,r=t.tE-e;if(0===r)return[{tS:[0,e],tE:[0,e],multiplicity:t.multiplicity}];const o=Ri(n,r,e),i=o.map(Ui),c=i.map((t=>Wi*Wi*t[1])),s=ji(i,0,1,c,(()=>o)),u=[];for(const t of s)u.push({tS:Zi(e,t.tS*r),tE:Zi(e,t.tE*r),multiplicity:t.multiplicity});return u}const Ki=ae,tc=te,nc=oe,ec=re,rc=Math.abs;function oc(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=Ki(s,n),l=Ki(r,i),h=3*(r-i),p=tc(3,l),a=rc(h),d=nc(f,p),g=a+rc(s-n+h),v=Ki(i,2*r),m=ec(v,n),b=rc(i-2*r+n),_=tc(3,m),x=6*b,I=Ki(r,n),N=tc(3,I),S=rc(3*(r-n)),E=Ki(u,e),w=Ki(o,c),M=3*(o-c),y=tc(3,w),P=rc(M),T=nc(E,y),C=P+rc(u-e+M),O=Ki(c,2*o),A=ec(O,e),B=rc(c-2*o+e),z=tc(3,A),Y=6*B,F=Ki(o,e);return{coeffs:[[d,_,N,[0,n]],[T,z,tc(3,F),[0,e]]],errorBound:[[g,x,S,0],[C,Y,rc(3*(o-e)),0]]}}function ic(t){const[[n,e],[r,o],[i,c]]=t,s=i-2*r,u=Ki(i,2*r),f=ec(u,n),l=rc(s+n),h=Ki(2*r,2*n),p=c-2*o,a=Ki(c,2*o),d=ec(a,e),g=rc(p+e);return{coeffs:[[f,h,[0,n]],[d,Ki(2*o,2*e),[0,e]]],errorBound:[[l,0,0],[g,0,0]]}}function cc(t){const[[n,e],[r,o]]=t;return[[Ki(r,n),[0,n]],[Ki(o,e),[0,e]]]}const sc=ie,uc=te,fc=tt,lc=Math.abs;function hc(t){const[[n,[,e]],[r,[,o]]]=cc(t),i=fc(r),c=n,s=uc(o,n),u=lc(s[1]),f=uc(e,r),l=lc(f[1]),h=sc(f,s);return{coeffs:{vₓ:i,vᵧ:c,v:h},errorBound:{v_:u+l+lc(h[1])}}}const pc=oe,ac=te,dc=le,gc=Math.abs,vc=Ar(3),mc=pe,bc=se,_c=te,xc=le,Ic=ie,Nc=Math.abs;function Sc(t){const{coeffs:[[n,e,[,r]],[o,i,[,c]]],errorBound:[[s],[u]]}=ic(t),f=n[1],l=e[1],h=o[1],p=i[1],a=Nc(r),d=Nc(l),g=Nc(f),v=Nc(c),m=Nc(p),b=Nc(h),_=xc(n,i),x=s*m+2*Nc(f*p),I=xc(e,o),N=d*u+2*Nc(l*h),S=_c(c,n),E=v*s+Nc(c*f),w=_c(r,o),M=a*u+Nc(r*h),y=_c(c,e),P=Nc(c*l),T=_c(r,i),C=Nc(r*p),O=xc(n,n),A=2*(s*g+Nc(f*f)),B=xc(n,o),z=s*b+g*u+2*Nc(f*h),Y=xc(o,o),F=2*(u*b+Nc(h*h)),V=f*p-l*h,k=f*c-r*h,L=l*c-r*p,X=Ic(_,I),D=Nc(V),q=x+N+Nc(V),$=Ic(S,w),Q=Nc(k),H=E+M+Nc(k),G=Ic(y,T),R=Nc(L),j=P+C+Nc(L),U=mc(Y),Z=F,W=bc(B),J=z,K=mc(O),tt=A,nt=p*V,et=xc(i,X),rt=m*q+2*Nc(nt),ot=2*k*h,it=bc(xc(o,$)),ct=2*(u*Q+b*H+2*Nc(ot)),st=nt-ot,ut=Ic(et,it),ft=rt+ct+Nc(st),lt=2*f*k,ht=bc(xc(n,$)),pt=2*(s*Q+g*H+2*Nc(lt)),at=l*V,dt=xc(e,X),gt=d*q+2*Nc(at),vt=lt-at,mt=Ic(ht,dt),bt=pt+gt+Nc(vt),_t=V*L,xt=xc(X,G),It=q*R+D*j+2*Nc(_t),Nt=k*k,St=xc($,$),Et=2*(H*Q+Nc(Nt)),wt=_t-Nt;return{coeffs:{vₓₓ:U,vₓᵧ:W,vᵧᵧ:K,vₓ:ut,vᵧ:mt,v:Ic(xt,St)},errorBound:{vₓₓ_:Z,vₓᵧ_:J,vᵧᵧ_:tt,vₓ_:ft,vᵧ_:bt,v_:It+Et+Nc(wt)}}}const Ec=de,wc=se,Mc=te,yc=le,Pc=oe,Tc=Math.abs,Cc=Ar(3),Oc=Math.abs,Ac=pe,Bc=se,zc=function(t){return[t[0]/2,t[1]/2]},Yc=te,Fc=le,Vc=ie,kc=oe;function Lc(t){const{coeffs:[[n,e,r,[,o]],[i,c,s,[,u]]],errorBound:[[f,l,h],[p,a,d]]}=oc(t),g=r[1],v=e[1],m=n[1],b=s[1],_=c[1],x=i[1],I=Oc(o),N=Oc(g),S=Oc(v),E=Oc(m),w=Oc(u),M=Oc(b),y=Oc(_),P=Oc(x),T=Fc(n,s),C=m*b,O=f*M+E*d+2*Oc(C),A=Fc(r,i),B=g*x,z=h*P+N*p+2*Oc(B),Y=Fc(n,c),F=m*_,V=f*y+E*a+2*Oc(F),k=Fc(e,c),L=v*_,X=l*y+S*a+2*Oc(L),D=Fc(e,i),q=v*x,$=l*P+S*p+2*Oc(q),Q=Fc(n,n),H=m*m,G=Oc(H),R=f*E+E*f+2*Oc(H),j=Fc(c,c),U=_*_,Z=a*y+y*a+2*Oc(U),W=Fc(i,i),J=x*x,K=Oc(J),tt=p*P+P*p+2*Oc(J),nt=Fc(r,n),et=g*m,rt=h*E+N*f+2*Oc(et),ot=Fc(e,e),it=v*v,ct=l*S+S*l+2*Oc(it),st=Fc(s,i),ut=b*x,ft=d*P+M*p+2*Oc(ut),lt=Fc(c,i),ht=Oc(_*x),pt=a*P+y*p+2*ht,at=Fc(e,n),dt=Oc(v*m),gt=l*E+S*f+2*dt,vt=Fc(n,i),mt=Oc(m*x),bt=f*P+E*p+2*mt,_t=Yc(u,n),xt=m*u,It=f*w+Oc(xt),Nt=Yc(o,i),St=o*x,Et=I*p+Oc(St),wt=Yc(u,e),Mt=v*u,yt=l*w+Oc(Mt),Pt=Yc(o,c),Tt=o*_,Ct=I*a+Oc(Tt),Ot=Fc(e,s),At=v*b,Bt=l*M+S*d+2*Oc(At),zt=Fc(r,c),Yt=g*_,Ft=h*y+N*a+2*Oc(Yt),Vt=Yc(u,r),kt=g*u,Lt=h*w+Oc(kt),Xt=Yc(o,s),Dt=o*b,qt=I*d+Oc(Dt),$t=Vc(_t,Nt),Qt=It+Et+Oc(xt-St),Ht=Vc(T,A),Gt=O+z+Oc(C-B),Rt=Vc(Y,D),jt=V+$+Oc(F-q),Ut=Vc(wt,Pt),Zt=yt+Ct+Oc(Mt-Tt),Wt=Vc(Ot,zt),Jt=Bt+Ft+Oc(At-Yt),Kt=Vc(Vt,Xt),tn=Lt+qt+Oc(kt-Dt),nn=Oc(ut-U),en=Vc(st,j),rn=ft+Z+nn,on=Oc(et-it),cn=Vc(nt,ot),sn=rt+ct+Oc(et-it),un=Oc(q+F),fn=kc(D,Y),ln=$+V+Oc(q+F),hn=B+C,pn=Oc(hn),an=kc(A,T),dn=z+O+pn,gn=Bc(Ht),vn=2*Gt,mn=xt-St,bn=C-B,_n=F-q,xn=Mt-Tt,In=At-Yt,Nn=kt-Dt,Sn=Oc(mn),En=Oc(bn),wn=Oc(_n),Mn=Oc(xn),yn=Oc(In),Pn=Oc(Nn),Tn=2*En,Cn=Fc($t,$t),On=Fc($t,Ht),An=Fc($t,Rt),Bn=Fc($t,Wt),zn=Fc(Ht,Ht),Yn=Fc(gn,Ut),Fn=Fc(Rt,Ut),Vn=Fc(Rt,Wt),kn=Fc(Rt,Kt),Ln=Qt*Sn+Sn*Qt+2*Oc(Cn[1]),Xn=Qt*En+Sn*Gt+2*Oc(On[1]),Dn=Qt*wn+Sn*jt+2*Oc(An[1]),qn=Qt*yn+Sn*Jt+2*Oc(Bn[1]),$n=Gt*En+En*Gt+2*Oc(zn[1]),Qn=vn*Mn+Tn*Zt+2*Oc(Yn[1]),Hn=jt*Mn+wn*Zt+2*Oc(Fn[1]),Gn=jt*yn+wn*Jt+2*Oc(Vn[1]),Rn=jt*Pn+wn*tn+2*Oc(Fn[1]),jn=Fc(Ac(i),W),Un=p*K+P*tt+2*Oc(jn[1]),Zn=3*E,Wn=Yc(3,n),Jn=3*f+Zn,Kn=Fc(Wn,W),te=Jn*K+Zn*tt+2*Oc(Kn[1]),ne=3*P,ee=Yc(-3,i),re=3*p+ne,oe=Fc(ee,Q),ie=re*G+ne*R+2*Oc(oe[1]),ce=Fc(n,Q),se=f*G+E*R+2*Oc(ce[1]),ue=-3*mn,fe=3*Sn,le=Yc(-3,$t),he=3*Qt+fe,pe=Vc(le,Wt),ae=Oc(ue-In),de=he+Jt+ae,ge=Fc(pe,W),ve=de*K+ae*tt+2*Oc(ge[1]),me=Fc(Rt,en),be=jt*nn+wn*rn+2*Oc(me[1]),_e=kc(ge,me),xe=ve+be+Oc(_e[1]),Ie=Fc(gn,lt),Ne=vn*ht+Tn*pt+2*Oc(Ie[1]),Se=kc(_e,Ie),Ee=xe+Ne+Oc(Se[1]),we=Fc(pe,Q),Me=de*G+ae*R+2*Oc(we[1]),ye=Fc(Rt,cn),Pe=jt*on+wn*sn+2*Oc(ye[1]),Te=kc(we,ye),Ce=Me+Pe+Oc(Te[1]),Oe=Fc(gn,at),Ae=vn*dt+Tn*gt+2*Oc(Oe[1]),Be=kc(Te,Oe),ze=Ce+Ae+Oc(Be[1]),Ye=Oc(L-hn/2),Fe=Vc(k,zc(an)),Ve=X+dn/2+Oc(Fe[1]),ke=Fc(pe,vt),Le=de*mt+ae*bt+2*Oc(ke[1]),Xe=Fc(Ht,fn),De=Gt*un+En*ln+2*Oc(Xe[1]),qe=kc(ke,Xe),$e=Le+De+Oc(qe[1]),Qe=Fc(Rt,Fe),He=jt*Ye+wn*Ve+2*Oc(Qe[1]),Ge=Bc(Vc(Qe,qe)),Re=2*(He+$e)+Oc(Ge[1]),je=Yc(-3,Cn),Ue=3*Ln+Oc(je[1]),Ze=Vc(je,Bc(Bn)),We=Ue+2*qn+Oc(Ze[1]),Je=kc(Yn,kn),Ke=Qn+Rn+Oc(Je[1]),tr=kc(Ze,Je),nr=Oc(tr[1]),er=We+Ke+nr,rr=Bc(Vc(On,Fn)),or=Oc(rr[1]),ir=2*(Xn+Hn)+or,cr=Vc(An,zn),sr=Dn+$n+Oc(cr[1]),ur=kc(cr,Vn),fr=Oc(ur[1]),lr=sr+Gn+fr,hr=Fc(i,tr),pr=p*nr+P*er+2*Oc(hr[1]),ar=Fc(c,rr),dr=a*or+y*ir+2*Oc(ar[1]),gr=Fc(s,ur),vr=d*fr+M*lr+2*Oc(gr[1]),mr=kc(ar,gr),br=dr+vr+Oc(mr[1]),_r=kc(hr,mr),xr=pr+br+Oc(_r[1]),Ir=Fc(n,tr),Nr=f*nr+E*er+2*Oc(Ir[1]),Sr=Fc(e,rr),Er=l*or+S*ir+2*Oc(Sr[1]),wr=Fc(r,ur),Mr=h*fr+N*lr+2*Oc(wr[1]),yr=kc(Sr,wr),Pr=Er+Mr+Oc(yr[1]),Tr=Ac(kc(Ir,yr)),Cr=Nr+Pr+Oc(Tr[1]),Or=Vc(Yn,Cn),Ar=Vc(Or,Bn),Br=Oc(Ar[1]),zr=Fc(ur,Kt),Yr=Fc(Fn,Ut),Fr=Vc(zr,Yr),Vr=lr*Oc(Kt[1])+2*Oc(zr[1])+Hn*Oc(Ut[1])+2*Oc(Yr[1])+Oc(Fr[1]),kr=Fc($t,Ar),Lr=Qt*Br+Sn*Qn+Ln+Oc(Or[1])+qn+Br+2*Oc(kr[1]),Xr=kc(kr,Fr);return{coeffs:{vₓₓₓ:jn,vₓₓᵧ:Kn,vₓᵧᵧ:oe,vᵧᵧᵧ:ce,vₓₓ:Se,vₓᵧ:Ge,vᵧᵧ:Be,vₓ:_r,vᵧ:Tr,v:Xr},errorBound:{vₓₓₓ_:Un,vₓₓᵧ_:te,vₓᵧᵧ_:ie,vᵧᵧᵧ_:se,vₓₓ_:Ee,vₓᵧ_:Re,vᵧᵧ_:ze,vₓ_:xr,vᵧ_:Cr,v_:Lr+Vr+Oc(Xr[1])}}}const Xc=de,Dc=se,qc=te,$c=le,Qc=oe,Hc=Math.abs,Gc=Ar(3),Rc=oe,jc=te,Uc=le,Zc=Math.abs,Wc=Ar(3),Jc=de,Kc=se,ts=te,ns=le,es=oe,rs=Math.abs,os=Ar(3),is=de,cs=se,ss=te,us=le,fs=oe,ls=Math.abs,hs=Ar(3),ps=oe,as=te,ds=le,gs=Math.abs,vs=Ar(3),ms=de,bs=se,_s=te,xs=le,Is=oe,Ns=Math.abs,Ss=Ar(3),Es=de,ws=se,Ms=te,ys=le,Ps=oe,Ts=Math.abs,Cs=Ar(3),Os=P,As=at,Bs=Z,zs=pt,Ys=on;function Fs(t){if(4===t.length)return Vs(t);if(3===t.length)return ks(t);if(2===t.length)return Ls(t);if(1===t.length)return function(t){const[[n,e]]=t;return[[[n]],[[e]]]}(t);throw new Error("The given bezier curve must be of order <= cubic.")}function Vs(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[Ys(Os(s,n),Bs(3,Os(r,i))),Bs(3,zs(As(i,n),-2*r)),Bs(3,Os(r,n)),[n]],[Ys(Os(u,e),Bs(3,Os(o,c))),Bs(3,zs(As(c,e),-2*o)),Bs(3,Os(o,e)),[e]]]}function ks(t){const[[n,e],[r,o],[i,c]]=t;return[[zs(As(i,n),-2*r),Os(2*r,2*n),[n]],[zs(As(c,e),-2*o),Os(2*o,2*e),[e]]]}function Ls(t){const[[n,e],[r,o]]=t;return[[Os(r,n),[n]],[Os(o,e),[e]]]}const Xs=Z,Ds=rt,qs=tt,$s=T;function Qs(t){const[[n,[e]],[r,[o]]]=t;if(0!==$s(n)||0!==$s(r))return{vₓ:qs(r),vᵧ:n,v:Ds(Xs(e,r),Xs(o,n))}}const Hs=Z,Gs=K,Rs=R;function js(t,n){const e=Ls(t),[[r,[o]],[i,[c]]]=Ls(n),{vₓ:s,vᵧ:u,v:f}=Qs(e),l=Gs(r,s),h=Gs(i,u),p=Rs(l,h),a=Hs(o,s),d=Hs(c,u),g=Rs(a,d);return[p,Rs(g,f)]}const Us=Z,Zs=At,Ws=rt,Js=K,Ks=tt;function tu(t){const[[n,e,[r]],[o,i,[c]]]=t;if(0===T(n)&&0===T(o))return Qs([[e,[r]],[i,[c]]]);const s=Js(n,i),u=Js(e,o),f=Us(c,n),l=Us(r,o),h=Us(c,e),p=Us(r,i),a=Js(n,n),d=Js(n,o),g=Js(o,o),v=Ws(s,u),m=Ws(f,l),b=Ws(h,p),_=Ks(g),x=Zs(d),I=Ks(a),N=Js(i,v),S=Zs(Js(o,m)),E=Ws(N,S),w=Zs(Js(n,m)),M=Js(e,v),y=Ws(w,M),P=Js(v,b),C=Js(m,m);return{vₓₓ:_,vₓᵧ:x,vᵧᵧ:I,vₓ:E,vᵧ:y,v:Ws(P,C)}}const nu=Ft,eu=Z,ru=K,ou=R,iu=At,cu=T;function su(t,n){const e=ks(t);if(0===cu(e[0][0])&&0===cu(e[1][0]))return js([t[0],t[2]],n);const[[r,[o]],[i,[c]]]=Ls(n),{vₓₓ:s,vₓᵧ:u,vᵧᵧ:f,vₓ:l,vᵧ:h,v:p}=tu(e),a=nu(o,o),d=eu(o,r),g=nu(o,c),v=eu(o,i),m=ru(r,r),b=eu(c,r),_=ru(r,i),x=nu(c,c),I=eu(c,i),N=ru(i,i),S=ru(m,s),E=ru(N,f),w=ru(_,u),M=ou(S,E),y=ou(M,w),P=ru(d,s),T=ru(I,f),C=ou(v,b),O=ru(C,u),A=iu(ou(P,T)),B=ou(A,O),z=ru(r,l),Y=ru(i,h),F=ou(z,Y),V=ou(B,F),k=ru(a,s),L=ru(g,u),X=ru(x,f),D=ou(k,L),q=ou(D,X),$=eu(o,l),Q=eu(c,h),H=ou($,Q),G=ou(q,H);return[y,V,ou(G,p)]}const uu=K,fu=P,lu=rt,hu=T,pu=G,au=U,du=at;function gu(t,n=!1){if(!n){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[n,e],[pu(lu(au(du(r/4,i/4),3),du(n/4,s/4))),pu(lu(au(du(o/4,c/4),3),du(e/4,u/4)))],[s,u]]}const[e,r,o,i]=t,c=function(t,n){const[[e,r],[o,i]]=t,[[c,s],[u,f]]=n,l=fu(o,e),h=fu(i,r),p=fu(u,c),a=fu(f,s),d=lu(uu(p,h),uu(a,l));if(0===hu(d))return;const g=fu(c,e),v=fu(s,r),m=lu(uu(v,l),uu(g,h)),b=pu(m)/pu(d);return[c+b*pu(p),s+b*pu(a)]}([e,r],[i,o]);if(void 0!==c)return[e,c,i]}const vu=Z,mu=K,bu=R,_u=rt,xu=tt,Iu=At,Nu=zt,Su=T;function Eu(t){const[[n,e,r,[o]],[i,c,s,[u]]]=t;if(0===Su(n)&&0===Su(i))return tu([[e,r,[o]],[c,s,[u]]]);const f=mu(n,s),l=mu(r,i),h=mu(n,c),p=mu(e,c),a=mu(e,i),d=mu(n,n),g=mu(c,c),v=mu(i,i),m=mu(r,n),b=mu(e,e),_=mu(s,i),x=mu(c,i),I=mu(e,n),N=mu(n,i),S=vu(u,n),E=vu(o,i),w=vu(u,e),M=vu(o,c),y=mu(e,s),P=mu(r,c),T=vu(u,r),C=vu(o,s),O=_u(S,E),A=_u(f,l),B=_u(h,a),z=_u(w,M),Y=_u(y,P),F=_u(T,C),V=_u(_,g),k=_u(m,b),L=bu(a,h),X=bu(l,f),D=Iu(A),q=mu(O,O),$=mu(O,A),Q=mu(O,B),H=mu(O,Y),G=mu(A,A),R=mu(D,z),j=mu(B,z),U=mu(B,Y),Z=mu(B,F),W=mu(xu(i),v),J=mu(vu(3,n),v),K=mu(vu(-3,i),d),tt=mu(n,d),nt=_u(vu(-3,O),Y),et=mu(nt,v),rt=mu(B,V),ot=bu(et,rt),it=mu(D,x),ct=bu(ot,it),st=mu(nt,d),ut=mu(B,k),ft=bu(st,ut),lt=mu(D,I),ht=bu(ft,lt),pt=_u(p,Nu(X)),at=mu(nt,N),dt=mu(A,L),gt=bu(at,dt),vt=mu(B,pt),mt=Iu(_u(vt,gt)),bt=vu(-3,q),_t=_u(bt,Iu(H)),xt=bu(R,Z),It=bu(_t,xt),Nt=Iu(_u($,j)),St=_u(Q,G),Et=bu(St,U),wt=mu(i,It),Mt=mu(c,Nt),yt=mu(s,Et),Pt=bu(Mt,yt),Tt=bu(wt,Pt),Ct=mu(n,It),Ot=mu(e,Nt),At=mu(r,Et),Bt=bu(Ot,At),zt=xu(bu(Ct,Bt)),Yt=_u(R,q),Ft=_u(Yt,H),Vt=mu(Et,F),kt=mu(j,z),Lt=_u(Vt,kt),Xt=mu(O,Ft);return{vₓₓₓ:W,vₓₓᵧ:J,vₓᵧᵧ:K,vᵧᵧᵧ:tt,vₓₓ:ct,vₓᵧ:mt,vᵧᵧ:ht,vₓ:Tt,vᵧ:zt,v:bu(Xt,Lt)}}const wu=Ft,Mu=Z,yu=K,Pu=R,Tu=At,Cu=T;function Ou(t,n){const e=Vs(t);if(0===Cu(e[0][0])&&0===Cu(e[1][0]))return su(gu(t),n);const[[r,[o]],[i,[c]]]=Ls(n),{vₓₓₓ:s,vₓₓᵧ:u,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:p,vᵧᵧ:a,vₓ:d,vᵧ:g,v}=Eu(e),m=wu(o,o),b=Mu(o,r),_=wu(o,c),x=Mu(o,i),I=yu(r,r),N=Mu(c,r),S=yu(r,i),E=wu(c,c),w=Mu(c,i),M=yu(i,i),y=Mu(o,s),P=yu(wu(3,o),s),T=Mu(o,u),C=Mu(c,u),O=Mu(o,f),A=Mu(c,f),B=Mu(c,l),z=yu(wu(3,c),l),Y=yu(r,s),F=yu(r,f),V=yu(i,u),k=yu(i,l),L=Pu(Y,V),X=Pu(F,k),D=yu(I,L),q=yu(M,X),$=Pu(D,q),Q=Pu(P,C),H=Tu(Pu(T,A)),G=Pu(O,z),R=Pu(Q,h),j=Pu(H,p),U=Pu(G,a),Z=yu(I,R),W=yu(S,j),J=yu(M,U),K=Pu(Z,W),tt=Pu(K,J),nt=Tu(Pu(C,h)),et=Tu(Pu(O,a)),rt=Pu(P,nt),ot=Pu(z,et),it=Pu(T,p),ct=Pu(A,p),st=yu(b,rt),ut=yu(w,ot),ft=yu(x,it),lt=yu(N,ct),ht=yu(r,d),pt=yu(i,g),at=Pu(st,ut),dt=Pu(ft,lt),gt=Pu(at,dt),vt=Pu(ht,pt),mt=Pu(gt,vt),bt=Pu(y,C),_t=Pu(B,O),xt=Pu(bt,h),It=Pu(_t,a),Nt=yu(m,xt),St=yu(E,It),Et=yu(_,p),wt=Pu(Nt,St),Mt=Pu(wt,Et),yt=Mu(o,d),Pt=Mu(c,g),Tt=Pu(yt,Pt),Ct=Pu(Mt,Tt);return[$,tt,mt,Pu(Ct,v)]}const Au=Z,Bu=K,zu=R,Yu=T;function Fu(t,n){const e=Ls(t),[[r,o,[i]],[c,s,[u]]]=ks(n);if(0===Yu(r)&&0===Yu(c))return js(t,[n[0],n[2]]);const{vₓ:f,vᵧ:l,v:h}=Qs(e),p=Bu(r,f),a=Bu(c,l),d=zu(p,a),g=Bu(o,f),v=Bu(s,l),m=zu(g,v),b=Au(i,f),_=Au(u,l),x=zu(b,_);return[d,m,zu(x,h)]}const Vu=Ft,ku=Z,Lu=K,Xu=R,Du=At,qu=T;function $u(t,n){const e=ks(t);if(0===qu(e[0][0])&&0===qu(e[1][0]))return Fu([t[0],t[2]],n);const[[r,o,[i]],[c,s,[u]]]=ks(n);if(0===qu(r)&&0===qu(c))return su(t,[n[0],n[2]]);const{vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:p,vᵧ:a,v:d}=tu(e),g=Vu(i,i),v=ku(i,o),m=ku(i,r),b=Vu(i,u),_=ku(i,s),x=ku(i,c),I=Lu(o,o),N=Lu(o,r),S=ku(u,o),E=Lu(o,s),w=Lu(o,c),M=Lu(r,s),y=Lu(r,r),P=ku(u,r),T=Lu(r,c),C=Vu(u,u),O=ku(u,s),A=ku(u,c),B=Lu(s,s),z=Lu(s,c),Y=Lu(c,c),F=Lu(y,f),V=Lu(T,l),k=Lu(Y,h),L=Xu(F,V),X=Xu(L,k),D=Lu(N,f),q=Lu(z,h),$=Xu(w,M),Q=Lu($,l),H=Du(Xu(D,q)),G=Xu(H,Q),R=Xu(Du(m),I),j=Xu(Du(A),B),U=Xu(x,E),Z=Xu(U,P),W=Lu(R,f),J=Lu(j,h),K=Lu(Z,l),tt=Lu(r,p),nt=Lu(c,a),et=Xu(W,J),rt=Xu(et,K),ot=Xu(tt,nt),it=Xu(rt,ot),ct=Lu(v,f),st=Lu(O,h),ut=Xu(_,S),ft=Lu(ut,l),lt=Du(Xu(ct,st)),ht=Lu(o,p),pt=Lu(s,a),at=Xu(lt,ft),dt=Xu(ht,pt),gt=Xu(at,dt),vt=Lu(g,f),mt=Lu(b,l),bt=Lu(C,h),_t=ku(i,p),xt=ku(u,a),It=Xu(vt,mt),Nt=Xu(It,bt),St=Xu(_t,xt),Et=Xu(Nt,St);return[X,G,it,gt,Xu(Et,d)]}const Qu=Ft,Hu=Z,Gu=K,Ru=R,ju=At,Uu=T;function Zu(t,n){const e=Vs(t);if(0===Uu(e[0][0])&&0===Uu(e[1][0]))return $u(gu(t),n);const[[r,o,[i]],[c,s,[u]]]=ks(n);if(0===Uu(r)&&0===Uu(c))return Ou(t,[n[0],n[2]]);const{vₓₓₓ:f,vₓₓᵧ:l,vₓᵧᵧ:h,vᵧᵧᵧ:p,vₓₓ:a,vₓᵧ:d,vᵧᵧ:g,vₓ:v,vᵧ:m,v:b}=Eu(e),_=Qu(i,i),x=Hu(i,o),I=Hu(i,r),N=Qu(i,u),S=Hu(i,s),E=Hu(i,c),w=Gu(o,o),M=Gu(o,r),y=Hu(u,o),P=Gu(o,s),T=Gu(o,c),C=Gu(r,s),O=Gu(r,r),A=Hu(u,r),B=Gu(r,c),z=Qu(u,u),Y=Hu(u,s),F=Hu(u,c),V=Gu(s,s),k=Gu(s,c),L=Gu(c,c),X=Gu(r,f),D=Gu(r,h),q=Gu(c,l),$=Gu(c,p),Q=Ru(X,q),H=Ru(D,$),G=Gu(O,Q),R=Gu(L,H),j=Ru(G,R),U=Ru(I,w),Z=Ru(F,V),W=Ru(ju(I),w),J=Ru(ju(F),V),K=Ru(ju(P),A),tt=Ru(ju(P),E),nt=Ru(ju(A),P),et=Ru(Hu(6,I),w),rt=Ru(Hu(6,F),V),ot=Ru(T,C),it=Ru(E,A),ct=Ru(ju(y),S),st=Ru(ju(S),y),ut=Ru(E,P),ft=Ru(ut,A),lt=Hu(3,O),ht=Hu(3,L),pt=Gu(lt,f),at=Gu(O,l),dt=ju(Gu(B,l)),gt=ju(Gu(B,h)),vt=Gu(L,h),mt=Gu(ht,p),bt=Ru(pt,dt),_t=Ru(at,gt),xt=Ru(bt,vt),It=Ru(_t,mt),Nt=Gu(o,xt),St=Gu(s,It),Et=Ru(Nt,St),wt=Gu(c,W),Mt=Gu(c,tt),yt=Gu(r,K),Pt=Gu(r,J),Tt=Gu(Hu(3,r),U),Ct=Gu(Hu(3,c),Z),Ot=Ru(wt,yt),At=Ru(Mt,Pt),Bt=Gu(Tt,f),zt=Gu(Ct,p),Yt=Gu(Ot,l),Ft=Gu(At,h),Vt=Ru(Bt,zt),kt=Ru(Yt,Ft),Lt=Gu(O,a),Xt=Gu(L,g),Dt=Gu(B,d),qt=Ru(Lt,Xt),$t=Ru(Vt,kt),Qt=Ru(qt,Dt),Ht=Ru($t,Qt),Gt=Gu(o,et),Rt=Gu(s,rt),jt=Hu(2*i,ot),Ut=Gu(ju(s),it),Zt=Gu(o,nt),Wt=Gu(o,J),Jt=Ru(jt,Zt),Kt=Ru(Ut,Wt),tn=Gu(k,g),nn=Gu(M,a),en=Gu(ot,d),rn=Ru(tn,nn),on=Gu(Gt,f),cn=Gu(Jt,l),sn=Gu(Rt,p),un=Gu(Kt,h),fn=Ru(on,sn),ln=Ru(cn,un),hn=Ru(fn,ln),pn=Ru(ju(rn),en),an=Ru(hn,pn),dn=Gu(Qu(3,i),U),gn=Gu(Qu(3,u),Z),vn=Hu(i,tt),mn=Hu(i,J),bn=Hu(u,W),_n=Hu(u,K),xn=Ru(vn,bn),In=Ru(mn,_n),Nn=Gu(dn,f),Sn=Gu(gn,p),En=Gu(xn,l),wn=Gu(In,h),Mn=Gu(W,a),yn=Gu(J,g),Pn=Gu(ft,d),Tn=Gu(r,v),Cn=Gu(c,m),On=Ru(Nn,Sn),An=Ru(En,wn),Bn=Ru(Mn,yn),zn=Ru(On,An),Yn=Ru(Bn,Pn),Fn=Ru(Tn,Cn),Vn=Ru(zn,Yn),kn=Ru(Vn,Fn),Ln=Gu(Qu(3,i),x),Xn=Gu(Qu(3,u),Y),Dn=Hu(i,ct),qn=Hu(u,st),$n=Gu(x,a),Qn=Gu(Y,g),Hn=Gu(S,d),Gn=Gu(y,d),Rn=ju(Ru($n,Qn)),jn=Ru(Hn,Gn),Un=Gu(o,v),Zn=Gu(s,m),Wn=Gu(Ln,f),Jn=Gu(Xn,p),Kn=Gu(Dn,l),te=Gu(qn,h),ne=Ru(Wn,Jn),ee=Ru(Kn,te),re=Ru(ne,ee),oe=Ru(Rn,jn),ie=Ru(Un,Zn),ce=Ru(re,oe),se=Ru(ce,ie),ue=Hu(i,f),fe=Hu(i,h),le=Hu(u,l),he=Hu(u,p),pe=Ru(ue,le),ae=Ru(fe,he),de=Ru(pe,a),ge=Ru(ae,g),ve=Gu(_,de),me=Gu(z,ge),be=Gu(N,d),_e=Hu(i,v),xe=Hu(u,m),Ie=Ru(ve,me),Ne=Ru(Ie,be),Se=Ru(_e,xe),Ee=Ru(Ne,Se);return[j,Et,Ht,an,kn,se,Ru(Ee,b)]}const Wu=Z,Ju=K,Ku=R,tf=T;function nf(t,n){const e=Ls(t),[[r,o,i,[c]],[s,u,f,[l]]]=Vs(n);if(0===tf(r)&&0===tf(s))return Fu(t,gu(n));const{vₓ:h,vᵧ:p,v:a}=Qs(e),d=Ju(r,h),g=Ju(s,p),v=Ku(d,g),m=Ju(o,h),b=Ju(u,p),_=Ku(m,b),x=Ju(i,h),I=Ju(f,p),N=Ku(x,I),S=Wu(c,h),E=Wu(l,p),w=Ku(S,E);return[v,_,N,Ku(w,a)]}const ef=Ft,rf=Z,of=K,cf=R,sf=At,uf=T;function ff(t,n){const e=ks(t);if(0===uf(e[0][0])&&0===uf(e[1][0]))return nf([t[0],t[2]],n);const[[r,o,i,[c]],[s,u,f,[l]]]=Vs(n);if(0===uf(r)&&0===uf(s))return $u(t,gu(n));const{vₓₓ:h,vₓᵧ:p,vᵧᵧ:a,vₓ:d,vᵧ:g,v}=tu(e),m=ef(c,c),b=rf(c,i),_=rf(c,o),x=rf(c,r),I=ef(c,l),N=rf(c,f),S=rf(c,u),E=rf(c,s),w=of(i,i),M=of(i,o),y=of(i,r),P=rf(l,i),T=of(i,f),C=of(i,u),O=of(i,s),A=of(o,f),B=of(o,o),z=of(o,r),Y=rf(l,o),F=of(o,u),V=of(o,s),k=of(r,r),L=rf(l,r),X=of(r,f),D=of(r,u),q=of(r,s),$=ef(l,l),Q=rf(l,f),H=rf(l,u),G=rf(l,s),R=of(f,f),j=of(f,u),U=of(s,s),Z=of(u,u),W=of(u,s),J=of(f,s),K=of(k,h),tt=of(q,p),nt=of(U,a),et=cf(K,tt),rt=cf(et,nt),ot=of(z,h),it=of(W,a),ct=cf(ot,it),st=cf(V,D),ut=of(st,p),ft=cf(sf(ct),ut),lt=cf(sf(y),B),ht=cf(sf(J),Z),pt=cf(O,F),at=cf(pt,X),dt=of(lt,h),gt=of(ht,a),vt=cf(dt,gt),mt=of(at,p),bt=cf(vt,mt),_t=cf(x,M),xt=cf(G,j),It=cf(E,C),Nt=cf(A,L),St=cf(It,Nt),Et=of(_t,h),wt=of(xt,a),Mt=sf(cf(Et,wt)),yt=of(St,p),Pt=of(r,d),Tt=of(s,g),Ct=cf(Pt,Tt),Ot=cf(Mt,yt),At=cf(Ot,Ct),Bt=cf(sf(_),w),zt=cf(sf(H),R),Yt=cf(S,T),Ft=cf(Yt,Y),Vt=of(Bt,h),kt=of(zt,a),Lt=of(Ft,p),Xt=cf(Vt,kt),Dt=cf(Xt,Lt),qt=of(o,d),$t=of(u,g),Qt=cf(qt,$t),Ht=cf(Dt,Qt),Gt=of(b,h),Rt=of(Q,a),jt=cf(N,P),Ut=of(jt,p),Zt=sf(cf(Gt,Rt)),Wt=cf(Zt,Ut),Jt=of(i,d),Kt=of(f,g),tn=cf(Jt,Kt),nn=cf(Wt,tn),en=of(m,h),rn=of(I,p),on=of($,a),cn=rf(c,d),sn=rf(l,g),un=cf(en,rn),fn=cf(un,on),ln=cf(cn,sn),hn=cf(fn,ln);return[rt,ft,bt,At,Ht,nn,cf(hn,v)]}const lf=Ft,hf=Z,pf=K,af=R,df=At,gf=T,vf=[[function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=hc(t),[[c,[,s]],[u,[,f]]]=cc(n),l=c[1],h=u[1],p=e[1],a=r[1],d=o[1],g=l*p,v=2*gc(g),m=dc(c,e),b=h*a,_=2*gc(b),x=dc(u,r),I=g+b,N=pc(m,x),S=v+_+gc(I),E=s*p,w=ac(s,e),M=gc(E),y=f*a,P=ac(f,r),T=gc(y),C=E+y,O=pc(w,P),A=M+T+gc(C),B=pc(O,o),z=A+i+gc(C+d);return{coeffs:[N,B],errBound:[vc*S,vc*z]}},function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=hc(t),{coeffs:[[c,s,[,u]],[f,l,[,h]]],errorBound:[[p],[a]]}=ic(n),d=e[1],g=r[1],v=o[1],m=Zc(d),b=Zc(g),_=(Zc(v),s[1]),x=c[1],I=l[1],N=f[1],S=x*d,E=Uc(c,e),w=p*m+2*Zc(S),M=N*g,y=Uc(f,r),P=a*b+2*Zc(M),T=S+M,C=Rc(E,y),O=w+P+Zc(T),A=_*d,B=Uc(s,e),z=2*Zc(A),Y=I*g,F=Uc(l,r),V=2*Zc(Y),k=A+Y,L=Rc(B,F),X=z+V+Zc(k),D=jc(u,e),q=u*d,$=Zc(q),Q=jc(h,r),H=h*g,G=Zc(H),R=q+H,j=Rc(D,Q),U=$+G+Zc(R),Z=R+v,W=Rc(j,o),J=U+i+Zc(Z);return{coeffs:[C,L,W],errBound:[Wc*O,Wc*X,Wc*J]}},function(t,n){const{coeffs:{vₓ:e,vᵧ:r,v:o},errorBound:{v_:i}}=hc(t),{coeffs:[[c,s,u,[,f]],[l,h,p,[,a]]],errorBound:[[d,g,v],[m,b,_]]}=oc(n),x=gs(e[1]),I=gs(r[1]),N=ds(c,e),S=d*x+2*gs(N[1]),E=ds(l,r),w=m*I+2*gs(E[1]),M=ps(N,E),y=S+w+gs(M[1]),P=ds(s,e),T=g*x+2*gs(P[1]),C=ds(h,r),O=b*I+2*gs(C[1]),A=ps(P,C),B=T+O+gs(A[1]),z=ds(u,e),Y=v*x+2*gs(z[1]),F=ds(p,r),V=_*I+2*gs(F[1]),k=ps(z,F),L=Y+V+gs(k[1]),X=as(f,e),D=gs(X[1]),q=as(a,r),$=gs(q[1]),Q=ps(X,q),H=D+$+gs(Q[1]),G=ps(Q,o),R=H+i+gs(G[1]);return{coeffs:[M,A,k,G],errBound:[vs*y,vs*B,vs*L,vs*R]}}],[function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:c,v:s},errorBound:{vₓₓ_:u,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:p,v_:a}}=Sc(t),[[d,[,g]],[v,[,m]]]=cc(n),b=e[1],_=r[1],x=o[1],I=i[1],N=c[1],S=s[1],E=Tc(b),w=Tc(_),M=Tc(x),y=d[1],P=v[1],T=Tc(g),C=Tc(y),O=Tc(m),A=Tc(P),B=g*g,z=g*y,Y=g*m,F=g*P,V=y*y,k=y*m,L=y*P,X=m*m,D=m*P,q=P*P,$=Ec(g,g),Q=Mc(g,d),H=Tc(z),G=Ec(g,m),R=Mc(g,v),j=Tc(F),U=Tc(V),Z=yc(d,d),W=2*U,J=Mc(m,d),K=Tc(k),tt=Tc(L),nt=yc(d,v),et=2*tt,rt=Ec(m,m),ot=Mc(m,v),it=Tc(D),ct=Tc(q),st=yc(v,v),ut=2*ct,ft=V*b,lt=yc(Z,e),ht=W*E*U*u+2*Tc(ft),pt=q*x,at=yc(st,o),dt=ut*M*ct*l+2*Tc(pt),gt=L*_,vt=yc(nt,r),mt=et*w*tt*f+2*Tc(gt),bt=ft+pt,_t=Pc(lt,at),xt=ht+dt+Tc(bt),It=bt+gt,Nt=Pc(_t,vt),St=xt+mt+Tc(It),Et=z*b,wt=yc(Q,e),Mt=H*(E+u)+2*Tc(Et),yt=D*x,Pt=yc(ot,o),Tt=it*(M+l)+2*Tc(yt),Ct=F+k,Ot=Pc(R,J),At=j+K+Tc(Ct),Bt=Ct*_,zt=yc(Ot,r),Yt=At*w+Tc(Ct)*f+2*Tc(Bt),Ft=2*(Et+yt),Vt=wc(Pc(wt,Pt)),kt=2*(Mt+Tt)+Tc(Ft),Lt=Ft+Bt,Xt=Pc(Vt,zt),Dt=kt+Yt+Tc(Lt),qt=y*I,$t=yc(d,i),Qt=C*h+2*Tc(qt),Ht=P*N,Gt=yc(v,c),Rt=A*p+2*Tc(Ht),jt=qt+Ht,Ut=Pc($t,Gt),Zt=Qt+Rt+Tc(jt),Wt=Lt+jt,Jt=Pc(Xt,Ut),Kt=Dt+Zt+Tc(Wt),tn=B*b,nn=yc($,e),en=2*Tc(tn),rn=Y*_,on=yc(G,r),cn=2*Tc(rn),sn=X*x,un=yc(rt,o),fn=2*Tc(sn),ln=tn+rn,hn=Pc(nn,on),pn=en+cn+Tc(ln),an=ln+sn,dn=Pc(hn,un),gn=pn+fn+Tc(an),vn=g*I,mn=Mc(g,i),bn=T*h+Tc(vn),_n=m*N,xn=Mc(m,c),In=O*p+Tc(_n),Nn=vn+_n,Sn=Pc(mn,xn),En=bn+In+Tc(Nn),wn=an+Nn,Mn=Pc(dn,Sn),yn=gn+En+Tc(wn),Pn=wn+S,Tn=Pc(Mn,s),Cn=yn+a+Tc(Pn);return{coeffs:[Nt,Jt,Tn],errBound:[Cc*St,Cc*Kt,Cc*Cn]}},function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:c,v:s},errorBound:{vₓₓ_:u,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:p,v_:a}}=Sc(t),{coeffs:[[d,g,[,v]],[m,b,[,_]]],errorBound:[[x],[I]]}=ic(n),N=e[1],S=r[1],E=o[1],w=i[1],M=c[1],y=s[1],P=rs(N),T=rs(S),C=rs(E),O=rs(w),A=rs(M),B=g[1],z=d[1],Y=b[1],F=m[1],V=rs(v),k=rs(B),L=rs(z),X=rs(_),D=rs(Y),q=rs(F),$=v*v,Q=v*B,H=v*z,G=v*_,R=v*Y,j=v*F,U=B*B,Z=B*z,W=B*_,J=B*Y,K=B*F,tt=z*Y,nt=z*z,et=z*_,rt=z*F,ot=_*_,it=_*Y,ct=_*F,st=Y*Y,ut=Y*F,ft=F*F,lt=rs($),ht=rs(G),pt=rs(ot),at=Jc(v,v),dt=ts(v,g),gt=rs(Q),vt=ts(v,d),mt=rs(H),bt=Jc(v,_),_t=ts(v,b),xt=rs(R),It=ts(v,m),Nt=rs(j),St=ns(g,g),Et=2*rs(U),wt=ns(g,d),Mt=rs(Z),yt=k*x+2*Mt,Pt=ts(_,g),Tt=rs(W),Ct=ns(g,b),Ot=2*rs(J),At=ns(g,m),Bt=k*I+2*rs(K),zt=ns(d,b),Yt=x*D+2*rs(tt),Ft=ns(d,d),Vt=rs(nt),kt=2*(x*L+Vt),Lt=ts(_,d),Xt=rs(et),Dt=ns(d,m),qt=rs(rt),$t=x*q+L*I+2*qt,Qt=Jc(_,_),Ht=ts(_,b),Gt=rs(it),Rt=ts(_,m),jt=rs(ct),Ut=ns(b,b),Zt=2*rs(st),Wt=ns(b,m),Jt=rs(ut),Kt=D*I+2*Jt,tn=ns(m,m),nn=rs(ft),en=2*(I*q+nn),rn=nt*N,on=ns(Ft,e),cn=kt*P+Vt*u+2*rs(rn),sn=rt*S,un=ns(Dt,r),fn=$t*T+qt*f+2*rs(sn),ln=ft*E,hn=ns(tn,o),pn=en*C+nn*l+2*rs(ln),an=rn+sn,dn=es(on,un),gn=cn+fn+rs(an),vn=an+ln,mn=es(dn,hn),bn=gn+pn+rs(vn),_n=Z*N,xn=ns(wt,e),In=yt*P+Mt*u+2*rs(_n),Nn=ut*E,Sn=ns(Wt,o),En=Kt*C+Jt*l+2*rs(Nn),wn=K+tt,Mn=es(At,zt),yn=rs(wn),Pn=Bt+Yt+yn,Tn=wn*S,Cn=ns(Mn,r),On=Pn*T+yn*f+2*rs(Tn),An=2*(_n+Nn),Bn=Kc(es(xn,Sn)),zn=2*(In+En)+rs(An),Yn=An+Tn,Fn=es(Bn,Cn),Vn=zn+On+rs(Yn),kn=2*H+U,Ln=rs(kn),Xn=es(Kc(vt),St),Dn=2*mt+Et+rs(kn),qn=2*ct+st,$n=rs(qn),Qn=es(Kc(Rt),Ut),Hn=2*jt+Zt+rs(qn),Gn=j+J,Rn=(rs(Gn),es(It,Ct)),jn=Nt+Ot+rs(Gn),Un=Gn+et,Zn=es(Rn,Lt),Wn=rs(Un),Jn=jn+Xt+Wn,Kn=kn*N,te=ns(Xn,e),ne=Dn*P+Ln*u+2*rs(Kn),ee=qn*E,re=ns(Qn,o),oe=Hn*C+$n*l+2*rs(ee),ie=Un*S,ce=ns(Zn,r),se=Jn*T+Wn*f+2*rs(ie),ue=z*w,fe=ns(d,i),le=x*O+L*h+rs(ue),he=F*M,pe=ns(m,c),ae=I*A+q*p+rs(he),de=Kn+ee,ge=es(te,re),ve=ne+oe+rs(de),me=de+ie,be=es(ge,ce),_e=ve+se+rs(me),xe=ue+he,Ie=es(fe,pe),Ne=le+ae+rs(xe),Se=me+xe,Ee=es(be,Ie),we=_e+Ne+rs(Se),Me=Q*N,ye=ns(dt,e),Pe=gt*(P+u)+2*rs(Me),Te=it*E,Ce=ns(Ht,o),Oe=Gt*(C+l)+2*rs(Te),Ae=R+W,Be=es(_t,Pt),ze=rs(Ae),Ye=xt+Tt+ze,Fe=Ae*S,Ve=ns(Be,r),ke=Ye*T+ze*f+2*rs(Fe),Le=2*(Me+Te),Xe=Kc(es(ye,Ce)),De=2*(Pe+Oe)+rs(Le),qe=B*w,$e=ns(g,i),Qe=k*h+2*rs(qe),He=Y*M,Ge=ns(b,c),Re=D*p+2*rs(He),je=Le+Fe,Ue=es(Xe,Ve),Ze=De+ke+rs(je),We=qe+He,Je=es($e,Ge),Ke=Qe+Re+rs(We),tr=je+We,nr=es(Ue,Je),er=Ze+Ke+rs(tr),rr=$*N,or=ns(at,e),ir=lt*u+2*rs(rr),cr=G*S,sr=ns(bt,r),ur=ht*f+2*rs(cr),fr=ot*E,lr=ns(Qt,o),hr=pt*l+2*rs(fr),pr=v*w,ar=ts(v,i),dr=V*h+rs(pr),gr=_*M,vr=ts(_,c),mr=X*p+rs(gr),br=rr+cr,_r=es(or,sr),xr=ir+ur+rs(br),Ir=br+fr,Nr=es(_r,lr),Sr=xr+hr+rs(Ir),Er=pr+gr,wr=es(ar,vr),Mr=dr+mr+rs(Er),yr=Ir+Er,Pr=es(Nr,wr),Tr=Sr+Mr+rs(yr),Cr=yr+y,Or=es(Pr,s),Ar=Tr+a+rs(Cr);return{coeffs:[mn,Fn,Ee,nr,Or],errBound:[os*bn,os*Vn,os*we,os*er,os*Ar]}},function(t,n){const{coeffs:{vₓₓ:e,vₓᵧ:r,vᵧᵧ:o,vₓ:i,vᵧ:c,v:s},errorBound:{vₓₓ_:u,vₓᵧ_:f,vᵧᵧ_:l,vₓ_:h,vᵧ_:p,v_:a}}=Sc(t),{coeffs:[[d,g,v,[,m]],[b,_,x,[,I]]],errorBound:[[N,S,E],[w,M,y]]}=oc(n),P=e[1],T=r[1],C=o[1],O=i[1],A=c[1],B=s[1],z=Ns(P),Y=Ns(T),F=Ns(C),V=Ns(O),k=Ns(A),L=v[1],X=g[1],D=d[1],q=x[1],$=_[1],Q=b[1],H=Ns(m),G=Ns(L),R=Ns(X),j=Ns(D),U=Ns(I),Z=Ns(q),W=Ns($),J=Ns(Q),K=m*m,tt=m*L,nt=m*X,et=m*D,rt=m*I,ot=m*q,it=m*$,ct=m*Q,st=L*L,ut=L*X,ft=L*D,lt=L*I,ht=L*q,pt=L*$,at=L*Q,dt=X*q,gt=X*X,vt=X*D,mt=X*I,bt=X*$,_t=X*Q,xt=D*D,It=D*I,Nt=D*q,St=D*$,Et=D*Q,wt=I*I,Mt=I*q,yt=I*$,Pt=I*Q,Tt=q*q,Ct=q*$,Ot=Q*Q,At=$*$,Bt=$*Q,zt=q*Q,Yt=ms(m,m),Ft=Ns(K),Vt=_s(m,v),kt=Ns(tt),Lt=H*E+kt,Xt=_s(m,g),Dt=H*S+Ns(nt),qt=_s(m,d),$t=H*N+Ns(et),Qt=ms(m,I),Ht=Ns(rt),Gt=_s(m,x),Rt=H*y+Ns(ot),jt=_s(m,_),Ut=H*M+Ns(it),Zt=_s(m,b),Wt=H*w+Ns(ct),Jt=xs(v,v),Kt=E*G+G*E+2*Ns(st),tn=xs(v,g),nn=E*R+G*S+2*Ns(ut),en=xs(v,d),rn=E*j+G*N+2*Ns(ft),on=_s(I,v),cn=U*E+Ns(lt),sn=xs(v,x),un=E*Z+G*y+2*Ns(ht),fn=xs(v,_),ln=E*W+G*M+2*Ns(pt),hn=xs(v,b),pn=E*J+G*w+2*Ns(at),an=xs(g,x),dn=S*Z+R*y+2*Ns(dt),gn=xs(g,g),vn=S*R+R*S+2*Ns(gt),mn=xs(g,d),bn=Ns(vt),_n=S*j+R*N+2*bn,xn=_s(I,g),In=U*S+Ns(mt),Nn=xs(g,_),Sn=S*W+R*M+2*Ns(bt),En=xs(g,b),wn=S*J+R*w+2*Ns(_t),Mn=xs(d,d),yn=Ns(xt),Pn=N*j+j*N+2*yn,Tn=_s(I,d),Cn=U*N+Ns(It),On=xs(d,x),An=N*Z+j*y+2*Ns(Nt),Bn=xs(d,_),zn=N*W+j*M+2*Ns(St),Yn=xs(d,b),Fn=Ns(Et),Vn=N*J+j*w+2*Fn,kn=ms(I,I),Ln=Ns(wt),Xn=_s(I,x),Dn=Ns(Mt),qn=U*y+Dn,$n=_s(I,_),Qn=U*M+Ns(yt),Hn=_s(I,b),Gn=U*w+Ns(Pt),Rn=xs(x,x),jn=y*Z+Z*y+2*Ns(Tt),Un=xs(x,_),Zn=y*W+Z*M+2*Ns(Ct),Wn=xs(b,b),Jn=Ns(Ot),Kn=w*J+J*w+2*Jn,te=xs(_,_),ne=M*W+W*M+2*Ns(At),ee=xs(_,b),re=Ns(Bt),oe=M*J+W*w+2*re,ie=xs(x,b),ce=y*J+Z*w+2*Ns(zt),se=xt*P,ue=xs(Mn,e),fe=Pn*z+yn*u+2*Ns(se),le=Et*T,he=xs(Yn,r),pe=Vn*Y+Fn*f+2*Ns(le),ae=Ot*C,de=xs(Wn,o),ge=Kn*F+Jn*l+2*Ns(ae),ve=se+le,me=Is(ue,he),be=fe+pe+Ns(ve),_e=ve+ae,xe=Is(me,de),Ie=be+ge+Ns(_e),Ne=vt*P,Se=xs(mn,e),Ee=_n*z+bn*u+2*Ns(Ne),we=Bt*C,Me=xs(ee,o),ye=oe*F+re*l+2*Ns(we),Pe=Ne+we,Te=Is(Se,Me),Ce=Ee+ye+Ns(Pe),Oe=_t+St,Ae=Is(En,Bn),Be=Ns(Oe),ze=wn+zn+Be,Ye=Oe*T,Fe=xs(Ae,r),Ve=ze*Y+Be*f+2*Ns(Ye),ke=2*Pe+Ye,Le=Is(bs(Te),Fe),Xe=2*Ce+Ve+Ns(ke),De=2*ft+gt,qe=Is(bs(en),gn),$e=Ns(De),Qe=2*rn+vn+Ns(De),He=2*zt+At,Ge=Is(bs(ie),te),Re=Ns(He),je=2*ce+ne+Ns(He),Ue=at+bt,Ze=Is(hn,Nn),We=pn+Sn+Ns(Ue),Je=Ue+Nt,Ke=Is(Ze,On),tr=Ns(Je),nr=We+An+tr,er=De*P,rr=xs(qe,e),or=Qe*z+$e*u+2*Ns(er),ir=He*C,cr=xs(Ge,o),sr=je*F+Re*l+2*Ns(ir),ur=er+ir,fr=Is(rr,cr),lr=or+sr+Ns(ur),hr=Je*T,pr=xs(Ke,r),ar=nr*Y+tr*f+2*Ns(hr),dr=ur+hr,gr=Is(fr,pr),vr=lr+ar+Ns(dr),mr=et+ut,br=Is(qt,tn),_r=Ns(mr),xr=$t+nn+_r,Ir=Pt+Ct,Nr=Is(Hn,Un),Sr=Ns(Ir),Er=Gn+Zn+Sr,wr=ct+pt,Mr=Is(Zt,fn),yr=Wt+ln+Ns(wr),Pr=dt+It,Tr=Is(an,Tn),Cr=dn+Cn+Ns(Pr),Or=wr+Pr,Ar=Is(Mr,Tr),Br=Ns(Or),zr=yr+Cr+Br,Yr=mr*P,Fr=xs(br,e),Vr=xr*z+_r*u+2*Ns(Yr),kr=Ir*C,Lr=xs(Nr,o),Xr=Er*F+Sr*l+2*Ns(kr),Dr=2*(Yr+kr),qr=bs(Is(Fr,Lr)),$r=2*(Vr+Xr)+Ns(Dr),Qr=Or*T,Hr=xs(Ar,r),Gr=zr*Y+Br*f+2*Ns(Qr),Rr=D*O,jr=xs(d,i),Ur=N*V+j*h+2*Ns(Rr),Zr=Q*A,Wr=xs(b,c),Jr=w*k+J*p+2*Ns(Zr),Kr=Rr+Zr,to=Is(jr,Wr),no=Ur+Jr+Ns(Kr),eo=Dr+Qr,ro=Is(qr,Hr),oo=$r+Gr+Ns(eo),io=eo+Kr,co=Is(ro,to),so=oo+no+Ns(io),uo=2*nt+st,fo=Is(bs(Xt),Jt),lo=Ns(uo),ho=2*Dt+Kt+lo,po=2*yt+Tt,ao=Is(bs($n),Rn),go=Ns(po),vo=2*Qn+jn+go,mo=it+ht,bo=Is(jt,sn),_o=Ut+un+Ns(mo),xo=mo+mt,Io=Is(bo,xn),No=Ns(xo),So=_o+In+No,Eo=uo*P,wo=xs(fo,e),Mo=ho*z+lo*u+2*Ns(Eo),yo=po*C,Po=xs(ao,o),To=vo*F+go*l+2*Ns(yo),Co=xo*T,Oo=xs(Io,r),Ao=So*Y+No*f+2*Ns(Co),Bo=Eo+yo,zo=Is(wo,Po),Yo=Mo+To+Ns(Bo),Fo=Bo+Co,Vo=Is(zo,Oo),ko=Yo+Ao+Ns(Fo),Lo=X*O,Xo=xs(g,i),Do=S*V+R*h+2*Ns(Lo),qo=$*A,$o=xs(_,c),Qo=M*k+W*p+2*Ns(qo),Ho=Lo+qo,Go=Is(Xo,$o),Ro=Do+Qo+Ns(Ho),jo=Fo+Ho,Uo=Is(Vo,Go),Zo=ko+Ro+Ns(jo),Wo=tt*P,Jo=xs(Vt,e),Ko=Lt*z+kt*u+2*Ns(Wo),ti=Mt*C,ni=xs(Xn,o),ei=qn*F+Dn*l+2*Ns(ti),ri=ot+lt,oi=Is(Gt,on),ii=Ns(ri),ci=Rt+cn+ii,si=ri*T,ui=xs(oi,r),fi=ci*Y+ii*f+2*Ns(si),li=2*(Wo+ti),hi=bs(Is(Jo,ni)),pi=2*(Ko+ei)+Ns(li),ai=li+si,di=Is(hi,ui),gi=pi+fi+Ns(ai),vi=L*O,mi=xs(v,i),bi=E*V+G*h+2*Ns(vi),_i=q*A,xi=xs(x,c),Ii=y*k+Z*p+2*Ns(_i),Ni=vi+_i,Si=Is(mi,xi),Ei=bi+Ii+Ns(Ni),wi=ai+Ni,Mi=Is(di,Si),yi=gi+Ei+Ns(wi),Pi=K*P,Ti=xs(Yt,e),Ci=Ft*u+2*Ns(Pi),Oi=rt*T,Ai=xs(Qt,r),Bi=Ht*f+2*Ns(Oi),zi=wt*C,Yi=xs(kn,o),Fi=Ln*l+2*Ns(zi),Vi=m*O,ki=_s(m,i),Li=H*h+Ns(Vi),Xi=I*A,Di=_s(I,c),qi=U*p+Ns(Xi),$i=Pi+Oi,Qi=Is(Ti,Ai),Hi=Ci+Bi+Ns($i),Gi=$i+zi,Ri=Is(Qi,Yi),ji=Hi+Fi+Ns(Gi),Ui=Vi+Xi,Zi=Is(ki,Di),Wi=Li+qi+Ns(Ui),Ji=Gi+Ui,Ki=Is(Ri,Zi),tc=ji+Wi+Ns(Ji),nc=Ji+B,ec=Is(Ki,s),rc=tc+a+Ns(nc);return{coeffs:[xe,Le,gr,co,Uo,Mi,ec],errBound:[Ss*Ie,Ss*Xe,Ss*vr,Ss*so,Ss*Zo,Ss*yi,Ss*rc]}}],[function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:c,vₓᵧ:s,vᵧᵧ:u,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:p,vₓₓᵧ_:a,vₓᵧᵧ_:d,vᵧᵧᵧ_:g,vₓₓ_:v,vₓᵧ_:m,vᵧᵧ_:b,vₓ_:_,vᵧ_:x,v_:I}}=Lc(t),[[N,[,S]],[E,[,w]]]=cc(n),M=e[1],y=r[1],P=o[1],T=i[1],C=c[1],O=s[1],A=u[1],B=f[1],z=l[1],Y=h[1],F=N[1],V=E[1],k=Hc(S),L=Hc(F),X=Hc(w),D=Hc(V),q=S*S,$=S*F,Q=S*w,H=S*V,G=F*F,R=F*w,j=F*V,U=w*w,Z=w*V,W=V*V,J=Xc(S,S),K=qc(S,N),tt=Hc($),nt=Xc(S,w),et=qc(S,E),rt=Hc(H),ot=$c(N,N),it=2*Hc(G),ct=qc(w,N),st=Hc(R),ut=$c(N,E),ft=2*Hc(j),lt=Xc(w,w),ht=qc(w,E),pt=Hc(Z),at=$c(E,E),dt=2*Hc(W),gt=Hc(q),vt=Hc($),mt=Hc(Q),bt=Hc(H),_t=Hc(G),xt=Hc(R),It=Hc(j),Nt=Hc(U),St=Hc(Z),Et=Hc(W),wt=S*M,Mt=qc(S,e),yt=k*p+Hc(wt),Pt=3*S,Tt=Xc(3,S),Ct=Hc(Pt),Ot=Pt*M,At=$c(Tt,e),Bt=Ct*p+2*Hc(Ot),zt=S*y,Yt=qc(S,r),Ft=k*a+Hc(zt),Vt=w*y,kt=qc(w,r),Lt=X*a+Hc(Vt),Xt=S*P,Dt=qc(S,o),qt=k*d+Hc(Xt),$t=w*P,Qt=qc(w,o),Ht=X*d+Hc($t),Gt=w*T,Rt=qc(w,i),jt=X*g+Hc(Gt),Ut=3*w,Zt=Xc(3,w),Wt=Hc(Ut),Jt=Ut*T,Kt=$c(Zt,i),tn=Wt*g+2*Hc(Jt),nn=F*M,en=$c(N,e),rn=L*p+2*Hc(nn),on=F*P,cn=$c(N,o),sn=L*d+2*Hc(on),un=V*y,fn=$c(E,r),ln=D*a+2*Hc(un),hn=V*T,pn=$c(E,i),an=D*g+2*Hc(hn),dn=nn+un,gn=Qc(en,fn),vn=Hc(dn),mn=rn+ln+vn,bn=on+hn,_n=Qc(cn,pn),xn=Hc(bn),In=sn+an+xn,Nn=G*dn,Sn=$c(ot,gn),En=it*vn+_t*mn+2*Hc(Nn),wn=W*bn,Mn=$c(at,_n),yn=dt*xn+Et*In+2*Hc(wn),Pn=Nn+wn,Tn=Qc(Sn,Mn),Cn=En+yn+Hc(Pn),On=Ot+Vt,An=Qc(At,kt),Bn=Bt+Lt+Hc(On),zn=2*(zt+$t),Yn=Dc(Qc(Yt,Qt)),Fn=2*(Ft+Ht)+Hc(zn),Vn=Xt+Jt,kn=Qc(Dt,Kt),Ln=qt+tn+Hc(Vn),Xn=On+C,Dn=Qc(An,c),qn=Hc(Xn),$n=Bn+v+qn,Qn=zn+O,Hn=Qc(Yn,s),Gn=Hc(Qn),Rn=Fn+m+Gn,jn=Vn+A,Un=Qc(kn,u),Zn=Hc(jn),Wn=Ln+b+Zn,Jn=G*Xn,Kn=$c(ot,Dn),te=it*qn+_t*$n+2*Hc(Jn),ne=j*Qn,ee=$c(ut,Hn),re=ft*Gn+It*Rn+2*Hc(ne),oe=W*jn,ie=$c(at,Un),ce=dt*Zn+Et*Wn+2*Hc(oe),se=Jn+ne,ue=Qc(Kn,ee),fe=te+re+Hc(se),le=se+oe,he=Qc(ue,ie),pe=fe+ce+Hc(le),ae=2*(Vt+C),de=Dc(Qc(kt,c)),ge=2*(Lt+v)+Hc(ae),ve=2*(Xt+A),me=Dc(Qc(Dt,u)),be=2*(qt+b)+Hc(ve),_e=Ot+ae,xe=Qc(At,de),Ie=Hc(_e),Ne=Bt+ge+Ie,Se=Jt+ve,Ee=Qc(Kt,me),we=Hc(Se),Me=tn+be+we,ye=zt+O,Pe=Qc(Yt,s),Te=Hc(ye),Ce=Ft+m+Te,Oe=$t+O,Ae=Qc(Qt,s),Be=Hc(Oe),ze=Ht+m+Be,Ye=$*_e,Fe=$c(K,xe),Ve=tt*Ie+vt*Ne+2*Hc(Ye),ke=Z*Se,Le=$c(ht,Ee),Xe=pt*we+St*Me+2*Hc(ke),De=H*ye,qe=$c(et,Pe),$e=rt*Te+bt*Ce+2*Hc(De),Qe=R*Oe,He=$c(ct,Ae),Ge=st*Be+xt*ze+2*Hc(Qe),Re=F*B,je=$c(N,f),Ue=L*_+2*Hc(Re),Ze=V*z,We=$c(E,l),Je=D*x+2*Hc(Ze),Ke=Ye+ke,tr=Qc(Fe,Le),nr=Ve+Xe+Hc(Ke),er=De+Qe,rr=Qc(qe,He),or=$e+Ge+Hc(er),ir=Ke+er,cr=Qc(tr,rr),sr=nr+or+Hc(ir),ur=Re+Ze,fr=Qc(je,We),lr=Ue+Je+Hc(ur),hr=ir+ur,pr=Qc(cr,fr),ar=sr+lr+Hc(hr),dr=wt+Vt,gr=Qc(Mt,kt),vr=yt+Lt+Hc(dr),mr=Gt+Xt,br=Qc(Rt,Dt),_r=jt+qt+Hc(mr),xr=dr+C,Ir=Qc(gr,c),Nr=vr+v+Hc(xr),Sr=mr+A,Er=Qc(br,u),wr=_r+b+Hc(Sr),Mr=q*xr,yr=$c(J,Ir),Pr=gt*Nr+2*Hc(Mr),Tr=U*Sr,Cr=$c(lt,Er),Or=Nt*wr+2*Hc(Tr),Ar=Q*O,Br=$c(nt,s),zr=mt*m+2*Hc(Ar),Yr=Mr+Tr,Fr=Qc(yr,Cr),Vr=Pr+Or+Hc(Yr),kr=Yr+Ar,Lr=Qc(Fr,Br),Xr=Vr+zr+Hc(kr),Dr=S*B,qr=qc(S,f),$r=k*_+Hc(Dr),Qr=w*z,Hr=qc(w,l),Gr=X*x+Hc(Qr),Rr=Dr+Qr,jr=Qc(qr,Hr),Ur=$r+Gr+Hc(Rr),Zr=kr+Rr,Wr=Qc(Lr,jr),Jr=Xr+Ur+Hc(Zr),Kr=Zr+Y,to=Qc(Wr,h),no=Jr+I+Hc(Kr);return{coeffs:[Tn,he,pr,to],errBound:[Gc*Cn,Gc*pe,Gc*ar,Gc*no]}},function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:c,vₓᵧ:s,vᵧᵧ:u,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:p,vₓₓᵧ_:a,vₓᵧᵧ_:d,vᵧᵧᵧ_:g,vₓₓ_:v,vₓᵧ_:m,vᵧᵧ_:b,vₓ_:_,vᵧ_:x,v_:I}}=Lc(t),{coeffs:[[N,S,[,E]],[w,M,[,y]]],errorBound:[[P],[T]]}=ic(n),C=e[1],O=r[1],A=o[1],B=i[1],z=c[1],Y=s[1],F=u[1],V=f[1],k=l[1],L=h[1],X=ls(C),D=ls(O),q=ls(A),$=ls(B),Q=ls(z),H=ls(F),G=ls(Y),R=ls(V),j=ls(k),U=S[1],Z=N[1],W=M[1],J=w[1],K=ls(E),tt=ls(U),nt=ls(Z),et=ls(y),rt=ls(W),ot=ls(J),it=E*E,ct=E*U,st=E*Z,ut=E*y,ft=E*W,lt=E*J,ht=U*U,pt=U*Z,at=U*y,dt=U*W,gt=U*J,vt=Z*W,mt=Z*Z,bt=Z*y,_t=Z*J,xt=y*y,It=y*W,Nt=y*J,St=W*W,Et=W*J,wt=J*J,Mt=is(E,E),yt=ss(E,S),Pt=ls(ct),Tt=ss(E,N),Ct=K*P+ls(st),Ot=is(E,y),At=ss(E,M),Bt=ls(ft),zt=ss(E,w),Yt=K*T+ls(lt),Ft=us(S,S),Vt=2*ls(ht),kt=us(S,N),Lt=tt*P+2*ls(pt),Xt=ss(y,S),Dt=ls(at),qt=us(S,M),$t=2*ls(dt),Qt=us(S,w),Ht=tt*T+2*ls(gt),Gt=us(N,M),Rt=P*rt+2*ls(vt),jt=us(N,N),Ut=2*(P*nt+ls(mt)),Zt=ss(y,N),Wt=et*P+ls(bt),Jt=us(N,w),Kt=P*ot+nt*T+2*ls(_t),tn=is(y,y),nn=ss(y,M),en=ls(It),rn=ss(y,w),on=et*T+ls(Nt),cn=us(M,M),sn=2*ls(St),un=us(M,w),fn=rt*T+2*ls(Et),ln=us(w,w),hn=2*(T*ot+ls(wt)),pn=ls(it),an=ls(ct),dn=ls(ut),gn=ls(ft),vn=ls(pt),mn=ls(mt),bn=ls(_t),_n=ls(at),xn=ls(xt),In=ls(It),Nn=ls(Et),Sn=ls(wt),En=us(N,e),wn=Z*C,Mn=P*X+nt*p+2*ls(wn),yn=us(N,o),Pn=Z*A,Tn=P*q+nt*d+2*ls(Pn),Cn=us(w,r),On=J*O,An=T*D+ot*a+2*ls(On),Bn=us(w,i),zn=J*B,Yn=T*$+ot*g+2*ls(zn),Fn=wn+On,Vn=fs(En,Cn),kn=ls(Fn),Ln=Mn+An+kn,Xn=Pn+zn,Dn=fs(yn,Bn),qn=ls(Xn),$n=Tn+Yn+qn,Qn=mt*Fn,Hn=us(jt,Vn),Gn=Ut*kn+mn*Ln+2*ls(Qn),Rn=wt*Xn,jn=us(ln,Dn),Un=hn*qn+Sn*$n+2*ls(Rn),Zn=Qn+Rn,Wn=fs(Hn,jn),Jn=Gn+Un+ls(Zn),Kn=st+ht,te=fs(Tt,Ft),ne=ls(Kn),ee=Ct+Vt+ne,re=Nt+St,oe=fs(rn,cn),ie=ls(re),ce=on+sn+ie,se=2*st+ht,ue=ls(se),fe=fs(cs(Tt),Ft),le=2*Ct+Vt+ue,he=2*Nt+St,pe=fs(cs(rn),cn),ae=ls(he),de=2*on+sn+ae,ge=2*dt+bt,ve=fs(cs(qt),Zt),me=ls(ge),be=2*$t+Wt+me,_e=2*dt+lt,xe=fs(cs(qt),zt),Ie=ls(_e),Ne=2*$t+Yt+Ie,Se=2*bt+dt,Ee=fs(cs(Zt),qt),we=2*Wt+$t+ls(Se),Me=6*st+ht,ye=6*st,Pe=ss(6,Tt),Te=6*Ct+ls(ye),Ce=fs(Pe,Ft),Oe=Te+Vt+ls(ye+ht),Ae=6*Nt+St,Be=6*Nt,ze=ss(6,rn),Ye=6*on+ls(Be),Fe=fs(ze,cn),Ve=Ye+sn+ls(Be+St),ke=gt+vt,Le=fs(Qt,Gt),Xe=ls(ke),De=Ht+Rt+Xe,qe=lt+bt,$e=fs(zt,Zt),Qe=Yt+Wt+ls(qe),He=2*at+ft,Ge=fs(cs(Xt),At),Re=2*Dt+Bt+ls(He),je=2*ft+at,Ue=fs(cs(At),Xt),Ze=2*Bt+Dt+ls(je),We=lt+dt,Je=fs(zt,qt),Ke=Yt+$t+ls(We),tr=We+bt,nr=fs(Je,Zt),er=ls(tr),rr=Ke+Wt+er,or=3*mt,ir=ss(3,jt),cr=3*Ut+ls(or),sr=ls(or),ur=3*wt,fr=ss(3,ln),lr=3*hn+ls(ur),hr=ls(ur),pr=or*C,ar=us(ir,e),dr=cr*X+sr*p+2*ls(pr),gr=mt*O,vr=us(jt,r),mr=Ut*D+mn*a+2*ls(gr),br=2*_t*O,_r=cs(us(Jt,r)),xr=2*(Kt*D+bn*a+ls(br)),Ir=2*_t*A,Nr=cs(us(Jt,o)),Sr=2*(Kt*q+bn*d+ls(Ir)),Er=wt*A,wr=us(ln,o),Mr=hn*q+Sn*d+2*ls(Er),yr=ur*B,Pr=us(fr,i),Tr=lr*$+hr*g+2*ls(yr),Cr=pr+br,Or=fs(ar,_r),Ar=dr+xr+ls(Cr),Br=gr+Ir,zr=fs(vr,Nr),Yr=mr+Sr+ls(Br),Fr=Cr+Er,Vr=fs(Or,wr),kr=Ar+Mr+ls(Fr),Lr=Br+yr,Xr=fs(zr,Pr),Dr=Yr+Tr+ls(Lr),qr=U*Fr,$r=us(S,Vr),Qr=tt*kr+ls(qr),Hr=W*Lr,Gr=us(M,Xr),Rr=rt*Dr+ls(Hr),jr=qr+Hr,Ur=fs($r,Gr),Zr=Qr+Rr+ls(jr),Wr=J*se,Jr=us(w,fe),Kr=T*ue+ot*le+2*ls(Wr),to=J*_e,no=us(w,xe),eo=T*Ie+ot*Ne+2*ls(to),ro=Z*ge,oo=us(N,ve),io=P*me+nt*be+2*ls(ro),co=Z*he,so=us(N,pe),uo=P*ae+nt*de+2*ls(co),fo=3*Z,lo=ss(3,N),ho=ls(fo),po=3*P+ho,ao=fo*Kn,go=us(lo,te),vo=ls(ao),mo=po*ne+ho*ee+vo,bo=3*J,_o=ss(3,w),xo=ls(bo),Io=3*T+xo,No=bo*re,So=us(_o,oe),Eo=ls(No),wo=Io*ie+xo*ce+Eo,Mo=Wr+ro,yo=fs(Jr,oo),Po=ls(Mo),To=Kr+io+Po,Co=to+co,Oo=fs(no,so),Ao=ls(Co),Bo=eo+uo+Ao,zo=ao*C,Yo=us(go,e),Fo=mo*X+vo*p+2*ls(zo),Vo=No*B,ko=us(So,i),Lo=wo*$+Eo*g+2*ls(Vo),Xo=Mo*O,Do=us(yo,r),qo=To*D+Po*a+2*ls(Xo),$o=Co*A,Qo=us(Oo,o),Ho=Bo*q+Ao*d+2*ls($o),Go=zo+Vo,Ro=fs(Yo,ko),jo=Fo+Lo+ls(Go),Uo=Xo+$o,Zo=fs(Do,Qo),Wo=qo+Ho+ls(Uo),Jo=mt*z,Ko=us(jt,c),ti=Ut*Q+mn*v+2*ls(Jo),ni=wt*F,ei=us(ln,u),ri=hn*H+Sn*b+2*ls(ni),oi=_t*Y,ii=us(Jt,s),ci=Kt*G+bn*m+2*ls(oi),si=Jo+ni,ui=fs(Ko,ei),fi=ti+ri+ls(si),li=Go+Uo,hi=fs(Ro,Zo),pi=jo+Wo+ls(li),ai=si+oi,di=fs(ui,ii),gi=fi+ci+ls(ai),vi=li+ai,mi=fs(hi,di),bi=pi+gi+ls(vi),_i=U*Me,xi=us(S,Ce),Ii=tt*Oe+2*ls(_i),Ni=2*Ii,Si=W*Ae,Ei=us(M,Fe),wi=rt*Ve+2*ls(Si),Mi=2*wi,yi=2*E*ke,Pi=ss(2*E,Le),Ti=2*K*De+ls(yi),Ci=2*W*qe,Oi=us(cs(M),$e),Ai=2*rt*Qe+2*ls(Ci),Bi=U*Se,zi=us(S,Ee),Yi=tt*we+2*ls(Bi),Fi=U*he,Vi=us(S,pe),ki=tt*de+2*ls(Fi),Li=yi+Bi,Xi=fs(Pi,zi),Di=Ti+Yi+ls(Li),qi=Ti+Yi+Di,$i=Ci+Fi,Qi=fs(Oi,Vi),Hi=Ai+ki+ls($i),Gi=Ai+ki+Hi,Ri=Et*F,ji=us(un,u),Ui=fn*H+Nn*b+2*ls(Ri),Zi=pt*z,Wi=us(kt,c),Ji=Lt*Q+vn*v+2*ls(Zi),Ki=ke*Y,tc=us(Le,s),nc=De*G+Xe*m+2*ls(Ki),ec=Ri+Zi,rc=fs(ji,Wi),oc=Ui+Ji+ls(ec),cc=_i*C,sc=us(xi,e),uc=Ni*X+Ii*p+2*ls(cc),fc=Li*O,lc=us(Xi,r),hc=qi*D+Di*a+2*ls(fc),pc=Si*B,ac=us(Ei,i),dc=Mi*$+wi*g+2*ls(pc),gc=$i*A,vc=us(Qi,o),mc=Gi*q+Hi*d+2*ls(gc),bc=cc+pc,_c=fs(sc,ac),xc=uc+dc+ls(bc),Ic=fc+gc,Nc=fs(lc,vc),Sc=hc+mc+ls(Ic),Ec=bc+Ic,wc=fs(_c,Nc),Mc=xc+Sc+ls(Ec),yc=2*ec+Ki,Pc=fs(cs(rc),tc),Tc=2*oc+nc+ls(yc),Cc=Ec+yc,Oc=fs(wc,Pc),Ac=Mc+Tc+ls(Cc),Bc=3*E,zc=ls(Bc),Yc=is(3,E),Fc=Bc*Kn,Vc=us(Yc,te),kc=ls(Fc),Xc=zc*ee+2*ls(Fc),Dc=3*y,qc=ls(Dc),$c=is(3,y),Qc=Dc*re,Hc=us($c,oe),Gc=ls(Qc),Rc=qc*ce+2*ls(Qc),jc=E*_e,Uc=ss(E,xe),Zc=K*Ne+ls(jc),Wc=E*he,Jc=ss(E,pe),Kc=K*de+ls(Wc),ts=y*se,ns=ss(y,fe),es=et*le+ls(ts),rs=y*ge,os=ss(y,ve),ps=et*be+ls(rs),as=jc+ts,ds=fs(Uc,ns),gs=ls(as),vs=Zc+es+gs,ms=Wc+rs,bs=fs(Jc,os),_s=ls(ms),xs=Kc+ps+_s,Is=Fc*C,Ns=us(Vc,e),Ss=Xc*X+kc*p+2*ls(Is),Es=Qc*B,ws=us(Hc,i),Ms=Rc*$+Gc*g+2*ls(Es),ys=as*O,Ps=us(ds,r),Ts=vs*D+gs*a+2*ls(ys),Cs=ms*A,Os=us(bs,o),As=xs*q+_s*d+2*ls(Cs),Bs=se*z,zs=us(fe,c),Ys=le*Q+ue*v+2*ls(Bs),Fs=he*F,Vs=us(pe,u),ks=de*H+ae*b+2*ls(Fs),Ls=tr*Y,Xs=us(nr,s),Ds=rr*G+er*m+2*ls(Ls),qs=Z*V,$s=us(N,f),Qs=P*R+nt*_+2*ls(qs),Hs=J*k,Gs=us(w,l),Rs=T*j+ot*x+2*ls(Hs),js=Is+Es,Us=fs(Ns,ws),Zs=Ss+Ms+ls(js),Ws=ys+Cs,Js=fs(Ps,Os),Ks=Ts+As+ls(Ws),tu=Bs+Fs,nu=fs(zs,Vs),eu=Ys+ks+ls(tu),ru=js+Ws,ou=fs(Us,Js),iu=Zs+Ks+ls(ru),cu=tu+Ls,su=fs(nu,Xs),uu=eu+Ds+ls(cu),fu=qs+Hs,lu=fs($s,Gs),hu=Qs+Rs+ls(fu),pu=ru+cu,au=fs(ou,su),du=iu+uu+ls(pu),gu=pu+fu,vu=fs(au,lu),mu=du+hu+ls(gu),bu=Bc*ct,_u=us(Yc,yt),xu=ls(bu),Iu=zc*Pt+2*xu,Nu=Dc*It,Su=us($c,nn),Eu=ls(Nu),wu=qc*en+2*Eu,Mu=E*He,yu=ss(E,Ge),Pu=ls(Mu),Tu=K*Re+ls(Mu),Cu=y*je,Ou=ss(y,Ue),Au=ls(Cu),Bu=et*Ze+ls(Cu),zu=ct*z,Yu=us(yt,c),Fu=Pt*Q+an*v+2*ls(zu),Vu=It*F,ku=us(nn,u),Lu=en*H+In*b+2*ls(Vu),Xu=ft*Y,Du=us(At,s),qu=Bt*G+gn*m+2*ls(Xu),$u=at*Y,Qu=us(Xt,s),Hu=Dt*G+_n*m+2*ls($u),Gu=2*(zu+Vu),Ru=cs(fs(Yu,ku)),ju=2*(Fu+Lu)+ls(Gu),Uu=Xu+$u,Zu=fs(Du,Qu),Wu=qu+Hu+ls(Uu),Ju=U*V,Ku=us(S,f),tf=tt*_+2*ls(Ju),nf=W*k,ef=us(M,l),rf=rt*x+2*ls(nf),of=bu*C,cf=us(_u,e),sf=Iu*X+xu*p+2*ls(of),uf=Nu*B,ff=us(Su,i),lf=wu*$+Eu*g+2*ls(uf),hf=Mu*O,pf=us(yu,r),af=Tu*D+Pu*a+2*ls(hf),df=Cu*A,gf=us(Ou,o),vf=Bu*q+Au*d+2*ls(df),mf=of+uf,bf=fs(cf,ff),_f=sf+lf+ls(mf),xf=hf+df,If=fs(pf,gf),Nf=af+vf+ls(xf),Sf=mf+xf,Ef=fs(bf,If),wf=_f+Nf+ls(Sf),Mf=Gu+Uu,yf=fs(Ru,Zu),Pf=ju+Wu+ls(Mf),Tf=Ju+nf,Cf=fs(Ku,ef),Of=tf+rf+ls(Tf),Af=Sf+Mf,Bf=fs(Ef,yf),zf=wf+Pf+ls(Af),Yf=Af+Tf,Ff=fs(Bf,Cf),Vf=zf+Of+ls(Yf),kf=E*C,Lf=ss(E,e),Xf=K*p+ls(kf),Df=E*A,qf=ss(E,o),$f=K*d+ls(Df),Qf=y*O,Hf=ss(y,r),Gf=et*a+ls(Qf),Rf=y*B,jf=ss(y,i),Uf=et*g+ls(Rf),Zf=kf+Qf,Wf=fs(Lf,Hf),Jf=Xf+Gf+ls(Zf),Kf=Df+Rf,tl=fs(qf,jf),nl=$f+Uf+ls(Kf),el=Zf+z,rl=fs(Wf,c),ol=Jf+v+ls(el),il=Kf+F,cl=fs(tl,u),sl=nl+b+ls(il),ul=it*el,fl=us(Mt,rl),ll=pn*ol+2*ls(ul),hl=xt*il,pl=us(tn,cl),al=xn*sl+2*ls(hl),dl=ut*Y,gl=us(Ot,s),vl=dn*m+2*ls(dl),ml=E*V,bl=ss(E,f),_l=K*_+ls(ml),xl=y*k,Il=ss(y,l),Nl=et*x+ls(xl),Sl=ul+hl,El=fs(fl,pl),wl=ll+al+ls(Sl),Ml=Sl+dl,yl=fs(El,gl),Pl=wl+vl+ls(Ml),Tl=ml+xl,Cl=fs(bl,Il),Ol=_l+Nl+ls(Tl),Al=Ml+Tl,Bl=fs(yl,Cl),zl=Pl+Ol+ls(Al),Yl=Al+L,Fl=fs(Bl,h),Vl=zl+I+ls(Yl);return{coeffs:[Wn,Ur,mi,Oc,vu,Ff,Fl],errBound:[hs*Jn,hs*Zr,hs*bi,hs*Ac,hs*mu,hs*Vf,hs*Vl]}},function(t,n){const{coeffs:{vₓₓₓ:e,vₓₓᵧ:r,vₓᵧᵧ:o,vᵧᵧᵧ:i,vₓₓ:c,vₓᵧ:s,vᵧᵧ:u,vₓ:f,vᵧ:l,v:h},errorBound:{vₓₓₓ_:p,vₓₓᵧ_:a,vₓᵧᵧ_:d,vᵧᵧᵧ_:g,vₓₓ_:v,vₓᵧ_:m,vᵧᵧ_:b,vₓ_:_,vᵧ_:x,v_:I}}=Lc(t),{coeffs:[[N,S,E,[,w]],[M,y,P,[,T]]],errorBound:[[C,O,A],[B,z,Y]]}=oc(n),F=e[1],V=r[1],k=o[1],L=i[1],X=c[1],D=s[1],q=u[1],$=f[1],Q=l[1],H=h[1],G=Ts(F),R=Ts(V),j=Ts(k),U=Ts(L),Z=Ts(X),W=Ts(D),J=Ts(q),K=Ts($),tt=Ts(Q),nt=(Ts(H),E[1]),et=S[1],rt=N[1],ot=P[1],it=y[1],ct=M[1],st=Ts(w),ut=Ts(nt),ft=Ts(et),lt=Ts(rt),ht=Ts(T),pt=Ts(ot),at=Ts(it),dt=Ts(ct),gt=w*w,vt=w*nt,mt=w*et,bt=w*rt,_t=w*T,xt=w*ot,It=w*it,Nt=w*ct,St=nt*nt,Et=nt*et,wt=nt*rt,Mt=nt*T,yt=nt*ot,Pt=nt*it,Tt=nt*ct,Ct=et*ot,Ot=et*et,At=et*rt,Bt=et*T,zt=et*it,Yt=et*ct,Ft=rt*rt,Vt=rt*T,kt=rt*ot,Lt=rt*it,Xt=rt*ct,Dt=T*T,qt=T*ot,$t=T*it,Qt=T*ct,Ht=ot*ot,Gt=ot*it,Rt=ct*ct,jt=it*it,Ut=it*ct,Zt=ot*ct,Wt=Es(w,w),Jt=Ms(w,E),Kt=st*A+Ts(vt),tn=Ms(w,S),nn=st*O+Ts(mt),en=Ms(w,N),rn=st*C+Ts(bt),on=Es(w,T),cn=Ms(w,P),sn=st*Y+Ts(xt),un=Ms(w,y),fn=st*z+Ts(It),ln=Ms(w,M),hn=st*B+Ts(Nt),pn=ys(E,E),an=Ts(St),dn=2*(A*ut+an),gn=ys(E,S),vn=A*ft+ut*O+2*Ts(Et),mn=ys(E,N),bn=A*lt+ut*C+2*Ts(wt),_n=Ms(T,E),xn=ht*A+Ts(Mt),In=ys(E,P),Nn=A*pt+ut*Y+2*Ts(yt),Sn=ys(E,y),En=A*at+ut*z+2*Ts(Pt),wn=ys(E,M),Mn=A*dt+ut*B+2*Ts(Tt),yn=ys(S,P),Pn=O*pt+ft*Y+2*Ts(Ct),Tn=ys(S,S),Cn=Ts(Ot),On=2*(O*ft+Cn),An=ys(S,N),Bn=O*lt+ft*C+2*Ts(At),zn=Ms(T,S),Yn=ht*O+Ts(Bt),Fn=ys(S,y),Vn=O*at+ft*z+2*Ts(zt),kn=ys(S,M),Ln=O*dt+ft*B+2*Ts(Yt),Xn=ys(N,N),Dn=2*(C*lt+Ts(Ft)),qn=Ms(T,N),$n=ht*C+Ts(Vt),Qn=ys(N,P),Hn=C*pt+lt*Y+2*Ts(kt),Gn=ys(N,y),Rn=Ts(Lt),jn=C*at+lt*z+2*Rn,Un=ys(N,M),Zn=C*dt+lt*B+2*Ts(Xt),Wn=Es(T,T),Jn=Ms(T,P),Kn=ht*Y+Ts(qt),te=Ms(T,y),ne=ht*z+Ts($t),ee=Ms(T,M),re=ht*B+Ts(Qt),oe=ys(P,P),ie=Ts(Ht),ce=2*(Y*pt+ie),se=ys(P,y),ue=Y*at+pt*z+2*Ts(Gt),fe=ys(M,M),le=2*(B*dt+Ts(Rt)),he=ys(y,y),pe=Ts(jt),ae=2*(z*at+pe),de=ys(y,M),ge=z*dt+at*B+2*Ts(Ut),ve=ys(P,M),me=Ts(Zt),be=Y*dt+pt*B+2*me,_e=Ts(gt),xe=Ts(vt),Ie=Ts(At),Ne=Ts(Ft),Se=Ts(Xt),Ee=Ts(_t),we=Ts(Dt),Me=Ts(qt),ye=Ts(Ut),Pe=Ts(Rt),Te=rt*Ft,Ce=ys(N,Xn),Oe=lt*Ne,Ae=C*Ne+lt*Dn+2*Oe,Be=rt*Rt,ze=ys(N,fe),Ye=lt*Pe,Fe=C*Pe+lt*le+2*Ye,Ve=ct*Ft,ke=ys(M,Xn),Le=dt*Ne,Xe=B*Ne+dt*Dn+2*Le,De=ct*Rt,qe=ys(M,fe),$e=dt*Pe,Qe=B*Pe+dt*le+2*$e,He=Te*F,Ge=ys(Ce,e),Re=Ae*G+Oe*p+2*Ts(He),je=Be*k,Ue=ys(ze,o),Ze=Fe*j+Ye*d+2*Ts(je),We=Ve*V,Je=ys(ke,r),Ke=Xe*R+Le*a+2*Ts(We),tr=De*L,nr=ys(qe,i),er=Qe*U+$e*g+2*Ts(tr),rr=He+je,or=Ps(Ge,Ue),ir=Re+Ze+Ts(rr),cr=We+tr,sr=Ps(Je,nr),ur=Ke+er+Ts(cr),fr=rr+cr,lr=Ps(or,sr),hr=ir+ur+Ts(fr),pr=2*Yt+Lt,ar=Ts(pr),dr=Ps(ws(kn),Gn),gr=2*Ln+jn+ar,vr=2*Lt+Yt,mr=Ts(vr),br=Ps(ws(Gn),kn),_r=2*jn+Ln+Ts(vr),xr=rt*pr,Ir=Ts(xr),Nr=ys(N,dr),Sr=C*ar+lt*gr+2*Ir,Er=ct*vr,wr=Ts(Er),Mr=ys(M,br),yr=B*mr+dt*_r+2*wr,Pr=et*Ft,Tr=Ts(Pr),Cr=ys(S,Xn),Or=O*Ne+ft*Dn+2*Tr,Ar=it*Rt,Br=Ts(Ar),zr=ys(y,fe),Yr=z*Pe+at*le+2*Br,Fr=F*Pr,Vr=ys(e,Cr),kr=Or*G+G*Or+2*Ts(Fr),Lr=L*Ar,Xr=ys(i,zr),Dr=Yr*U+U*Yr+2*Ts(Lr),qr=V*xr,$r=ys(r,Nr),Qr=Sr*R+R*Sr+2*Ts(qr),Hr=k*Er,Gr=ys(o,Mr),Rr=yr*j+j*yr+2*Ts(Hr),jr=qr+Hr,Ur=Ps($r,Gr),Zr=Qr+Rr+Ts(jr),Wr=3*(Fr+Lr),Jr=Ms(3,Ps(Vr,Xr)),Kr=3*(kr+Dr)+2*Ts(Wr),to=jr+Wr,no=Ps(Ur,Jr),eo=Zr+Kr+Ts(to),ro=nt*Xt,oo=ys(E,Un),io=A*Se+ut*Zn+2*Ts(ro),co=ot*Ft,so=ys(P,Xn),uo=Y*Ne+pt*Dn+2*Ts(co),fo=et*Ut,lo=ys(S,de),ho=O*ye+ft*ge+2*Ts(fo),po=nt*Rt,ao=ys(E,fe),go=A*Pe+ut*le+2*Ts(po),vo=et*Lt,mo=ys(S,Gn),bo=O*Rn+ft*jn+2*Ts(vo),_o=ct*Ot,xo=ys(M,Tn),Io=B*Cn+dt*On+2*Ts(_o),No=rt*Zt,So=ys(N,ve),Eo=C*me+lt*be+2*Ts(No),wo=it*Lt,Mo=ys(y,Gn),yo=z*Rn+at*jn+2*Ts(wo),Po=ro+vo,To=Ps(oo,mo),Co=io+bo+Ts(Po),Oo=co+_o,Ao=Ps(so,xo),Bo=uo+Io+Ts(Oo),zo=fo+No,Yo=Ps(lo,So),Fo=ho+Eo+Ts(zo),Vo=po+wo,ko=Ps(ao,Mo),Lo=go+yo+Ts(Vo),Xo=wt+Ot,Do=Ps(mn,Tn),qo=Ts(Xo),$o=bn+On+qo,Qo=Zt+jt,Ho=Ts(Qo),Go=Ps(ve,he),Ro=be+ae+Ho,jo=2*Po+Oo,Uo=Ps(ws(To),Ao),Zo=Ts(jo),Wo=2*Co+Bo+Zo,Jo=2*zo+Vo,Ko=Ps(ws(Yo),ko),ti=Ts(Jo),ni=2*Fo+Lo+ti,ei=V*jo,ri=ys(r,Uo),oi=a*Zo+R*Wo+2*Ts(ei),ii=k*Jo,ci=ys(o,Ko),si=d*ti+j*ni+2*Ts(ii),ui=rt*Xo,fi=ys(N,Do),li=Ts(ui),hi=C*qo+lt*$o+2*li,pi=ct*Qo,ai=ys(M,Go),di=Ts(pi),gi=B*Ho+dt*Ro+2*di,vi=F*ui,mi=ys(e,fi),bi=p*li+G*hi+2*Ts(vi),_i=L*pi,xi=ys(i,ai),Ii=g*di+U*gi+2*Ts(_i),Ni=ei+ii,Si=Ps(ri,ci),Ei=oi+si+Ts(Ni),wi=3*(vi+_i),Mi=Ms(3,Ps(mi,xi)),yi=3*(bi+Ii)+2*Ts(wi),Pi=Ni+wi,Ti=Ps(Si,Mi),Ci=Ei+yi+Ts(Pi),Oi=Yt+Lt,Ai=Ps(kn,Gn),Bi=Ts(Oi),zi=Ln+jn+Bi,Yi=it*Ot,Fi=ys(y,Tn),Vi=z*Cn+at*On+2*Ts(Yi),ki=2*nt*Oi,Li=ws(ys(E,Ai)),Xi=2*(A*Bi+ut*zi+2*Ts(ki)),Di=Yi+ki,qi=Ps(Fi,Li),$i=Vi+Xi+Ts(Di),Qi=2*(Nt+Ct),Hi=ws(Ps(ln,yn)),Gi=2*(hn+Pn)+Ts(Qi),Ri=Qi+Vt,ji=Ts(Ri),Ui=Ps(Hi,qn),Zi=Gi+$n+ji,Wi=rt*Ri,Ji=ys(N,Ui),Ki=C*ji+lt*Zi+2*Ts(Wi),tc=Di+Wi,nc=Ps(qi,Ji),ec=Ts(tc),rc=$i+Ki+ec,ic=et*jt,cc=ys(S,he),sc=O*pe+ft*ae+2*Ts(ic),uc=2*ot*Oi,fc=ws(ys(P,Ai)),lc=2*(Y*Bi+pt*zi+Ts(uc)),hc=ic+uc,pc=Ps(cc,fc),ac=sc+lc+Ts(hc),dc=2*(Pt+Vt),gc=ws(Ps(Sn,qn)),vc=2*(En+$n)+Ts(dc),mc=dc+Nt,bc=Ps(gc,ln),_c=Ts(mc),xc=vc+hn+_c,Ic=ct*mc,Nc=ys(M,bc),Sc=B*_c+dt*xc+2*Ts(Ic),Ec=hc+Ic,wc=Ps(pc,Nc),Mc=Ts(Ec),yc=ac+Sc+Mc,Pc=et*Ot,Tc=ys(S,Tn),Cc=O*Cn+ft*On+2*Ts(Pc),Oc=2*Et+bt,Ac=Ps(ws(gn),en),Bc=Ts(Oc),zc=2*vn+rn+Bc,Yc=3*rt,Fc=Ms(3,N),Vc=Ts(Yc),kc=3*C+Vc,Xc=Yc*Oc,Dc=ys(Fc,Ac),qc=kc*Bc+Vc*zc+2*Ts(Xc),$c=Pc+Xc,Qc=Ps(Tc,Dc),Hc=Ts($c),Gc=Cc+qc+Hc,Rc=it*jt,jc=ys(y,he),Uc=z*pe+at*ae+2*Ts(Rc),Zc=2*Gt+Qt,Wc=Ps(ws(se),ee),Jc=Ts(Zc),Kc=2*ue+re+Jc,ts=3*ct,ns=Ms(3,M),es=Ts(ts),rs=3*B+es,os=ts*Zc,is=ys(ns,Wc),cs=rs*Jc+es*Kc+2*Ts(os),ss=Rc+os,us=Ps(jc,is),fs=Ts(ss),ls=Uc+cs+fs,hs=V*tc,ps=ys(r,nc),as=a*ec+R*rc+2*Ts(hs),ds=k*Ec,gs=ys(o,wc),vs=d*Mc+j*yc+2*Ts(ds),ms=hs+ds,bs=Ps(ps,gs),_s=as+vs+Ts(ms),xs=F*$c,Is=ys(e,Qc),Ns=p*Hc+G*Gc+2*Ts(xs),Ss=L*ss,Os=ys(i,us),As=g*fs+U*ls+2*Ts(Ss),Bs=xs+Ss,zs=Ps(Is,Os),Ys=Ns+As+Ts(Bs),Fs=X*Ft,Vs=ys(Xn,c),ks=Dn*Z+Ne*v+2*Ts(Fs),Ls=q*Rt,Xs=ys(fe,u),Ds=le*J+Pe*b+2*Ts(Ls),qs=Fs+Ls,$s=Ps(Vs,Xs),Qs=ks+Ds+Ts(qs),Hs=D*Xt,Gs=ys(Un,s),Rs=Zn*W+Se*m+2*Ts(Hs),js=ms+Bs,Us=Ps(bs,zs),Zs=_s+Ys+Ts(js),Ws=qs+Hs,Js=Ps($s,Gs),Ks=Qs+Rs+Ts(Ws),tu=js+Ws,nu=Ps(Us,Js),eu=Zs+Ks+Ts(tu),ru=zt+kt,ou=Ps(Fn,Qn),iu=Ts(ru),cu=Vn+Hn+iu,su=Tt+zt,uu=Ps(wn,Fn),fu=Ts(su),lu=Mn+Vn+fu,hu=w*Oi,pu=Ms(w,Ai),au=st*zi+Ts(hu),du=T*Oi,gu=Ms(T,Ai),vu=ht*zi+Ts(du),mu=nt*ru,bu=ys(E,ou),_u=A*iu+ut*cu+2*Ts(mu),xu=ot*su,Iu=ys(P,uu),Nu=Y*fu+pt*lu+2*Ts(xu),Su=2*Vt+Ct,Eu=Ps(ws(qn),yn),wu=Ts(Su),Mu=2*$n+Pn+wu,yu=2*Nt+Pt,Pu=Ps(ws(ln),Sn),Tu=Ts(yu),Cu=2*hn+En+Tu,Ou=ct*St,Au=ys(M,pn),Bu=B*an+dt*dn+2*Ts(Ou),zu=rt*Ht,Yu=ys(N,oe),Fu=C*ie+lt*ce+2*Ts(zu),Vu=et*Su,ku=ys(S,Eu),Lu=O*wu+ft*Mu+2*Ts(Vu),Xu=it*yu,Du=ys(y,Pu),qu=z*Tu+at*Cu+2*Ts(Xu),$u=2*(hu+mu),Qu=ws(Ps(pu,bu)),Hu=2*(au+_u)+Ts($u),Gu=2*(du+xu),Ru=ws(Ps(gu,Iu)),ju=2*(vu+Nu)+Ts(Gu),Uu=2*w*At,Zu=ws(Ms(w,An)),Wu=2*st*Bn+Ts(Uu),Ju=2*T*Ut,Ku=ws(Ms(T,de)),tf=2*ht*ge+Ts(Ju),nf=nt*Xo,ef=ys(E,Do),rf=A*qo+ut*$o+2*Ts(nf),of=ot*Qo,cf=ys(P,Go),sf=Y*Ho+pt*Ro+2*Ts(of),uf=X*At,ff=ys(An,c),lf=Bn*Z+Ie*v+2*Ts(uf),hf=q*Ut,pf=ys(de,u),af=ge*J+ye*b+2*Ts(hf),df=$u+Ou,gf=Ps(Qu,Au),vf=Ts(df),mf=Hu+Bu+vf,bf=Gu+zu,_f=Ps(Ru,Yu),xf=Ts(bf),If=ju+Fu+xf,Nf=df+Vu,Sf=Ps(gf,ku),Ef=Ts(Nf),wf=mf+Lu+Ef,Mf=bf+Xu,yf=Ps(_f,Du),Pf=Ts(Mf),Tf=If+qu+Pf,Cf=Uu+nf,Of=Ps(Zu,ef),Af=Ts(Cf),Bf=Wu+rf+Af,zf=Ju+of,Yf=Ps(Ku,cf),Ff=Ts(zf),Vf=tf+sf+Ff,kf=2*(uf+hf),Lf=ws(Ps(ff,pf)),Xf=2*(lf+af)+Ts(kf),Df=V*Nf,qf=ys(r,Sf),$f=a*Ef+R*wf+2*Ts(Df),Qf=k*Mf,Hf=ys(o,yf),Gf=d*Pf+j*Tf+2*Ts(Qf),Rf=F*Cf,jf=ys(e,Of),Uf=p*Af+G*Bf+2*Ts(Rf),Zf=L*zf,Wf=ys(i,Yf),Jf=g*Ff+U*Vf+2*Ts(Zf),Kf=Df+Qf,tl=Ps(qf,Hf),nl=$f+Gf+Ts(Kf),el=3*(Rf+Zf),rl=Ms(3,Ps(jf,Wf)),ol=3*(Uf+Jf)+2*Ts(el),il=D*Oi,cl=ys(s,Ai),sl=m*Bi+W*zi+2*Ts(il),ul=Kf+el,fl=Ps(tl,rl),ll=nl+ol+Ts(ul),hl=il+kf,pl=Ps(cl,Lf),al=sl+Xf+Ts(hl),dl=ul+hl,gl=Ps(fl,pl),vl=ll+al+Ts(dl),ml=Tt+ru,bl=Ps(wn,ou),_l=Ts(ml),xl=Mn+cu+_l,Il=2*wt+Ot,Nl=Ps(ws(mn),Tn),Sl=Ts(Il),El=2*bn+On+Sl,wl=2*Zt+jt,Ml=Ps(ws(ve),he),yl=Ts(wl),Pl=2*be+ae+yl,Tl=2*w*ml,Cl=Ms(2*w,bl),Ol=2*st*xl+Ts(Tl),Al=2*T*ml,Bl=Ms(2*T,bl),zl=2*ht*xl+Ts(Al),Yl=Pt+2*Ct,Fl=Ps(Sn,ws(yn)),Vl=Ts(Yl),kl=En+2*Pn+Vl,Ll=Ct+2*Pt,Xl=Ps(yn,ws(Sn)),Dl=Ts(Ll),ql=Pn+2*En+Dl,$l=T*Il,Ql=Ms(T,Nl),Hl=ht*El+Ts($l),Gl=w*wl,Rl=Ms(w,Ml),jl=st*Pl+Ts(Gl),Ul=nt*Yl,Zl=ys(E,Fl),Wl=A*Vl+ut*kl+2*Ts(Ul),Jl=ot*Ll,Kl=ys(P,Xl),th=Y*Dl+pt*ql+2*Ts(Jl),nh=w*Il,eh=Ms(w,Nl),rh=st*El+Ts(nh),oh=T*wl,ih=Ms(T,Ml),ch=ht*Pl+Ts(oh),sh=et*St,uh=ys(S,pn),fh=O*an+ft*dn+2*Ts(sh),lh=it*Ht,hh=ys(y,oe),ph=z*ie+at*ce+2*Ts(lh),ah=Tl+$l,dh=Ps(Cl,Ql),gh=Ol+Hl+Ts(ah),vh=Al+Gl,mh=Ps(Bl,Rl),bh=zl+jl+Ts(vh),_h=ah+Ul,xh=Ps(dh,Zl),Ih=Ts(_h),Nh=gh+Wl+Ih,Sh=vh+Jl,Eh=Ps(mh,Kl),wh=Ts(Sh),Mh=bh+th+wh,yh=nh+sh,Ph=Ps(eh,uh),Th=Ts(yh),Ch=rh+fh+Th,Oh=oh+lh,Ah=Ps(ih,hh),Bh=Ts(Oh),zh=ch+ph+Bh,Yh=V*_h,Fh=ys(r,xh),Vh=a*Ih+R*Nh+2*Ts(Yh),kh=k*Sh,Lh=ys(o,Eh),Xh=d*wh+j*Mh+2*Ts(kh),Dh=F*yh,qh=ys(e,Ph),$h=p*Th+G*Ch+2*Ts(Dh),Qh=L*Oh,Hh=ys(i,Ah),Gh=g*Bh+U*zh+2*Ts(Qh),Rh=Dh+Qh,jh=Ts(Rh),Uh=Ps(qh,Hh),Zh=$h+Gh+jh,Wh=Yh+kh,Jh=Ps(Fh,Lh),Kh=Vh+Xh+Ts(Wh),tp=Wh+3*Rh,np=Ps(Jh,Ms(3,Uh)),ep=Kh+3*(Zh+jh)+Ts(tp),rp=D*ml,op=ys(s,bl),ip=m*_l+W*xl+2*Ts(rp),cp=X*Il,sp=ys(c,Nl),up=v*Sl+Z*El+2*Ts(cp),fp=rp+cp,lp=Ps(op,sp),hp=ip+up+Ts(fp),pp=q*wl,ap=ys(u,Ml),dp=b*yl+J*Pl+2*Ts(pp),gp=fp+pp,vp=Ps(lp,ap),mp=hp+dp+Ts(gp),bp=tp+gp,_p=Ps(np,vp),xp=ep+mp+Ts(bp),Ip=Pt+Ct,Np=Ps(Sn,yn),Sp=En+Pn+Ts(Ip),Ep=Vt+Nt,wp=Ps(qn,ln),Mp=$n+hn+Ts(Ep),yp=Et+bt,Pp=Ps(gn,en),Tp=vn+rn+Ts(yp),Cp=Ts(yp),Op=Gt+Qt,Ap=Ps(se,ee),Bp=ue+re+Ts(Op),zp=Ts(Op),Yp=2*Ip+Vt,Fp=Ps(ws(Np),qn),Vp=2*Sp+$n+Ts(Yp),kp=2*Ip+Nt,Lp=Ps(ws(Np),ln),Xp=2*Sp+hn+Ts(kp),Dp=2*Bt+yt,qp=Ps(ws(zn),In),$p=Ts(Dp),Qp=2*Yn+Nn+$p,Hp=2*It+yt,Gp=Ps(ws(un),In),Rp=Ts(Hp),jp=2*fn+Nn+Rp,Up=yp+Et,Zp=Ps(Pp,gn),Wp=Tp+vn+Ts(Up),Jp=Op+Gt,Kp=Ps(Ap,se),ta=Bp+ue+Ts(Jp),na=3*w,ea=Es(3,w),ra=na*Up,oa=ys(ea,Zp),ia=Ts(na)*Wp+2*Ts(ra),ca=3*T,sa=Es(3,T),ua=ca*Jp,fa=ys(sa,Kp),la=Ts(ca)*ta+2*Ts(ua),ha=nt*St,pa=ys(E,pn),aa=A*an+ut*dn+2*Ts(ha),da=ot*Ht,ga=ys(P,oe),va=Y*ie+pt*ce+2*Ts(da),ma=X*yp,ba=ys(c,Pp),_a=v*Cp+Z*Tp+Ts(ma),xa=q*Op,Ia=ys(u,Ap),Na=b*zp+J*Bp+Ts(xa),Sa=Yp+Ep,Ea=Ps(Fp,wp),wa=Vp+Mp+Ts(Sa),Ma=kp+Ep,ya=Ps(Lp,wp),Pa=Xp+Mp+Ts(Ma),Ta=w*Sa,Ca=Ms(w,Ea),Oa=st*wa+Ts(Ta),Aa=T*Ma,Ba=Ms(T,ya),za=ht*Pa+Ts(Aa),Ya=nt*Dp,Fa=ys(E,qp),Va=A*$p+ut*Qp+2*Ts(Ya),ka=ot*Hp,La=ys(P,Gp),Xa=Y*Rp+pt*jp+2*Ts(ka),Da=rt*$,qa=ys(N,f),$a=C*K+lt*_+2*Ts(Da),Qa=ct*Q,Ha=ys(M,l),Ga=B*tt+dt*x+2*Ts(Qa),Ra=Ta+Ya,ja=Ps(Ca,Fa),Ua=Ts(Ra),Za=Oa+Va+Ua,Wa=Aa+ka,Ja=Ps(Ba,La),Ka=Ts(Wa),td=za+Xa+Ka,nd=ra+ha,ed=Ps(oa,pa),rd=Ts(nd),od=ia+aa+rd,id=ua+da,cd=Ps(fa,ga),sd=Ts(id),ud=la+va+sd,fd=Ep+Ip,ld=Ps(wp,Np),hd=Ts(fd),pd=Mp+Sp+hd,ad=2*(ma+xa),dd=ws(Ps(ba,Ia)),gd=2*(_a+Na)+Ts(ad),vd=V*Ra,md=ys(r,ja),bd=a*Ua+R*Za+2*Ts(vd),_d=k*Wa,xd=ys(o,Ja),Id=d*Ka+j*td+2*Ts(_d),Nd=F*nd,Sd=ys(e,ed),Ed=p*rd+G*od+2*Ts(Nd),wd=L*id,Md=ys(i,cd),yd=g*sd+U*ud+2*Ts(wd),Pd=D*fd,Td=ys(s,ld),Cd=m*hd+W*pd+2*Ts(Pd),Od=vd+_d,Ad=Ps(md,xd),Bd=bd+Id+Ts(Od),zd=Nd+wd,Yd=Ps(Sd,Md),Fd=Ed+yd+Ts(zd),Vd=Pd+ad,kd=Ps(Td,dd),Ld=Cd+gd+Ts(Vd),Xd=Da+Qa,Dd=Ps(qa,Ha),qd=$a+Ga+Ts(Xd),$d=Od+zd,Qd=Ps(Ad,Yd),Hd=Bd+Fd+Ts($d),Gd=Vd+Xd,Rd=Ps(kd,Dd),jd=Ld+qd+Ts(Gd),Ud=$d+Gd,Zd=Ps(Qd,Rd),Wd=Hd+jd+Ts(Ud),Jd=yt+Bt,Kd=Ps(In,zn),tg=Nn+Yn+Ts(Jd),ng=yt+It,eg=Ps(In,un),rg=Nn+fn+Ts(ng),og=2*Jd+It,ig=Ps(ws(Kd),un),cg=2*tg+fn+Ts(og),sg=2*ng+Bt,ug=Ps(ws(eg),zn),fg=2*rg+Yn+Ts(sg),lg=w*og,hg=Ms(w,ig),pg=st*cg+Ts(lg),ag=T*St,dg=Ms(T,pn),gg=ht*dn+Ts(ag),vg=T*sg,mg=Ms(T,ug),bg=ht*fg+Ts(vg),_g=w*Ht,xg=Ms(w,oe),Ig=st*ce+Ts(_g),Ng=w*St,Sg=Ms(w,pn),Eg=st*dn+Ts(Ng),wg=et*gt,Mg=ys(S,Wt),yg=O*_e+2*Ts(wg),Pg=T*Ht,Tg=Ms(T,oe),Cg=ht*ce+Ts(Pg),Og=it*Dt,Ag=ys(y,Wn),Bg=z*we+2*Ts(Og),zg=lg+ag,Yg=Ps(hg,dg),Fg=pg+gg+Ts(zg),Vg=pg+gg+Fg,kg=vg+_g,Lg=Ps(mg,xg),Xg=bg+Ig+Ts(kg),Dg=bg+Ig+Xg,qg=Ng+wg,$g=Ps(Sg,Mg),Qg=Ts(qg),Hg=Eg+yg+Qg,Gg=Pg+Og,Rg=Ps(Tg,Ag),jg=Ts(Gg),Ug=Cg+Bg+jg,Zg=F*qg,Wg=ys(e,$g),Jg=p*Qg+G*Hg+2*Ts(Zg),Kg=L*Gg,tv=ys(i,Rg),nv=g*jg+U*Ug+2*Ts(Kg),ev=3*(Zg+Kg),rv=Ms(3,Ps(Wg,tv)),ov=3*(Jg+nv)+2*Ts(ev),iv=Jd+It,cv=Ps(Kd,un),sv=Ts(iv),uv=tg+fn+sv,fv=2*mt+St,lv=Ps(ws(tn),pn),hv=Ts(fv),pv=2*nn+dn+hv,av=2*$t+Ht,dv=Ps(ws(te),oe),gv=Ts(av),vv=2*ne+ce+gv,mv=V*zg,bv=ys(r,Yg),_v=a*Fg+R*Vg+2*Ts(mv),xv=k*kg,Iv=ys(o,Lg),Nv=d*Xg+j*Dg+2*Ts(xv),Sv=D*iv,Ev=ys(s,cv),wv=m*sv+W*uv+2*Ts(Sv),Mv=X*fv,yv=ys(c,lv),Pv=v*hv+Z*pv+2*Ts(Mv),Tv=q*av,Cv=ys(u,dv),Ov=b*gv+J*vv+2*Ts(Tv),Av=et*$,Bv=ys(S,f),zv=O*K+ft*_+Ts(Av),Yv=it*Q,Fv=ys(y,l),Vv=z*tt+at*x+Ts(Yv),kv=Av+Yv,Lv=Ps(Bv,Fv),Xv=zv+Vv+Ts(kv),Dv=mv+xv,qv=Ps(bv,Iv),$v=_v+Nv+Ts(Dv),Qv=ev+Sv,Hv=Ps(rv,Ev),Gv=ov+wv+Ts(Qv),Rv=Mv+Tv,jv=Ps(yv,Cv),Uv=Pv+Ov+Ts(Rv),Zv=Dv+Qv,Wv=Ps(qv,Hv),Jv=$v+Gv+Ts(Zv),Kv=Rv+kv,tm=Ps(jv,Lv),nm=Uv+Xv+Ts(Kv),em=Zv+Kv,rm=Ps(Wv,tm),om=Jv+nm+Ts(em),im=Mt+xt,cm=Ps(_n,cn),sm=Ts(im),um=xn+sn+sm,fm=w*V,lm=Ms(w,r),hm=Ts(fm),pm=st*a+hm,am=T*k,dm=Ms(T,o),gm=Ts(am),vm=ht*d+gm,mm=im+Mt,bm=Ps(cm,_n),_m=Ts(mm),xm=um+xn+_m,Im=im+xt,Nm=Ps(cm,cn),Sm=Ts(Im),Em=um+sn+Sm,wm=nt*gt,Mm=ys(E,Wt),ym=Ts(wm),Pm=A*_e+2*ym,Tm=wm*F,Cm=ys(Mm,e),Om=Pm*G+ym*p+2*Ts(Tm),Am=ot*Dt,Bm=ys(P,Wn),zm=Ts(Am),Ym=Y*we+2*zm,Fm=Am*L,Vm=ys(Bm,i),km=Ym*U+zm*g+2*Ts(Fm),Lm=D*im,Xm=ys(s,cm),Dm=m*sm+W*um+2*Ts(Lm),qm=vt*X,$m=ys(Jt,c),Qm=Kt*Z+xe*v+2*Ts(qm),Hm=qt*q,Gm=ys(Jn,u),Rm=Kn*J+Me*b+2*Ts(Hm),jm=qm+Hm,Um=Ps($m,Gm),Zm=Qm+Rm+Ts(jm),Wm=nt*$,Jm=ys(E,f),Km=A*K+ut*_+Ts(Wm),tb=ot*Q,nb=ys(P,l),eb=Y*tt+pt*x+Ts(tb),rb=Wm+tb,ob=Ps(Jm,nb),ib=Km+eb+Ts(rb),cb=fm*mm,sb=ys(lm,bm),ub=pm*_m+hm*xm+2*Ts(cb),fb=am*Im,lb=ys(dm,Nm),hb=vm*Sm+gm*Em+2*Ts(fb),pb=cb+fb,ab=Ps(sb,lb),db=ub+hb+Ts(pb),gb=3*(Tm+Fm),vb=Ms(3,Ps(Cm,Vm)),mb=3*(Om+km)+2*Ts(gb),bb=Lm+2*jm,_b=Ps(Xm,ws(Um)),xb=Dm+2*Zm+Ts(bb),Ib=pb+gb,Nb=Ps(ab,vb),Sb=db+mb+Ts(Ib),Eb=bb+rb,wb=Ps(_b,ob),Mb=xb+ib+Ts(Eb),yb=Ib+Eb,Pb=Ps(Nb,wb),Tb=Sb+Mb+Ts(yb),Cb=w*F,Ob=Ms(w,e),Ab=st*p+Ts(Cb),Bb=T*V,zb=Ms(T,r),Yb=ht*a+Ts(Bb),Fb=Cb+Bb,Vb=Ps(Ob,zb),kb=Ab+Yb+Ts(Fb),Lb=w*k,Xb=Ms(w,o),Db=st*d+Ts(Lb),qb=T*L,$b=Ms(T,i),Qb=ht*g+Ts(qb),Hb=Lb+qb,Gb=Ps(Xb,$b),Rb=Db+Qb+Ts(Hb),jb=Fb+X,Ub=Ps(Vb,c),Zb=kb+v+Ts(jb),Wb=Hb+q,Jb=Ps(Gb,u),Kb=Rb+b+Ts(Wb),t_=gt*jb,n_=ys(Wt,Ub),e_=_e*Zb+2*Ts(t_),r_=Dt*Wb,o_=ys(Wn,Jb),i_=we*Kb+2*Ts(r_),c_=t_+r_,s_=Ps(n_,o_),u_=e_+i_+Ts(c_),f_=_t*D,l_=ys(on,s),h_=Ee*m+Ts(f_),p_=c_+f_,a_=Ps(s_,l_),d_=u_+h_+Ts(p_),g_=w*$,v_=Ms(w,f),m_=st*_+Ts(g_),b_=T*Q,__=Ms(T,l),x_=ht*x+Ts(b_),I_=g_+b_,N_=Ps(v_,__),S_=m_+x_+Ts(I_),E_=p_+I_,w_=Ps(a_,N_),M_=d_+S_+Ts(E_),y_=E_+H,P_=Ps(w_,h),T_=M_+I+Ts(y_);return{coeffs:[lr,no,Ti,nu,gl,_p,Zd,rm,Pb,P_],errBound:[Cs*hr,Cs*eo,Cs*Ci,Cs*eu,Cs*vl,Cs*xp,Cs*Wd,Cs*om,Cs*Tb,Cs*T_]}}]],mf=[[js,Fu,nf],[su,$u,ff],[Ou,Zu,function(t,n){const e=Vs(t);if(0===gf(e[0][0])&&0===gf(e[1][0]))return ff(gu(t),n);const[[r,o,i,[c]],[s,u,f,[l]]]=Vs(n);if(0===gf(r)&&0===gf(s))return Zu(t,gu(n));const{vₓₓₓ:h,vₓₓᵧ:p,vₓᵧᵧ:a,vᵧᵧᵧ:d,vₓₓ:g,vₓᵧ:v,vᵧᵧ:m,vₓ:b,vᵧ:_,v:x}=Eu(e),I=lf(c,c),N=hf(c,i),S=hf(c,o),E=hf(c,r),w=lf(c,l),M=hf(c,f),y=hf(c,u),P=hf(c,s),T=pf(i,i),C=pf(i,o),O=pf(i,r),A=hf(l,i),B=pf(i,f),z=pf(i,u),Y=pf(i,s),F=pf(o,f),V=pf(o,o),k=pf(o,r),L=hf(l,o),X=pf(o,u),D=pf(o,s),q=pf(r,r),$=hf(l,r),Q=pf(r,f),H=pf(r,u),G=pf(r,s),R=lf(l,l),j=hf(l,f),U=hf(l,u),Z=hf(l,s),W=pf(f,f),J=pf(f,u),K=pf(s,s),tt=pf(u,u),nt=pf(u,s),et=pf(f,s),rt=pf(r,q),ot=pf(r,K),it=pf(s,q),ct=pf(s,K),st=pf(rt,h),ut=pf(ot,a),ft=pf(it,p),lt=pf(ct,d),ht=af(st,ut),pt=af(ft,lt),at=af(ht,pt),dt=af(df(D),H),gt=af(df(H),D),vt=pf(r,dt),mt=pf(s,gt),bt=pf(o,q),_t=pf(u,K),xt=pf(h,bt),It=pf(d,_t),Nt=pf(p,vt),St=pf(a,mt),Et=af(Nt,St),wt=hf(3,af(xt,It)),Mt=af(Et,wt),yt=pf(i,G),Pt=pf(f,q),Tt=pf(o,nt),Ct=pf(i,K),Ot=pf(o,H),At=pf(s,V),Bt=pf(r,et),zt=pf(u,H),Yt=af(yt,Ot),Ft=af(Pt,At),Vt=af(Tt,Bt),kt=af(Ct,zt),Lt=af(O,V),Xt=af(et,tt),Dt=af(df(Yt),Ft),qt=af(df(Vt),kt),$t=pf(p,Dt),Qt=pf(a,qt),Ht=pf(r,Lt),Gt=pf(s,Xt),Rt=pf(h,Ht),jt=pf(d,Gt),Ut=af($t,Qt),Zt=hf(3,af(Rt,jt)),Wt=af(Ut,Zt),Jt=af(D,H),Kt=pf(u,V),tn=df(pf(i,Jt)),nn=af(Kt,tn),en=df(af(P,F)),rn=af(en,$),on=pf(r,rn),cn=af(nn,on),sn=pf(o,tt),un=df(pf(f,Jt)),fn=af(sn,un),ln=df(af(z,$)),hn=af(ln,P),pn=pf(s,hn),an=af(fn,pn),dn=pf(o,V),gn=af(df(C),E),vn=pf(hf(3,r),gn),mn=af(dn,vn),bn=pf(u,tt),_n=af(df(J),Z),xn=pf(hf(3,s),_n),In=af(bn,xn),Nn=pf(p,cn),Sn=pf(a,an),En=af(Nn,Sn),wn=pf(h,mn),Mn=pf(d,In),yn=af(wn,Mn),Pn=pf(q,g),Tn=pf(K,m),Cn=af(Pn,Tn),On=pf(G,v),An=af(En,yn),Bn=af(Cn,On),zn=af(An,Bn),Yn=af(X,Q),Fn=af(Y,X),Vn=hf(c,Jt),kn=hf(l,Jt),Ln=pf(i,Yn),Xn=pf(f,Fn),Dn=af(df($),F),qn=af(df(P),z),$n=pf(s,T),Qn=pf(r,W),Hn=pf(o,Dn),Gn=pf(u,qn),Rn=df(af(Vn,Ln)),jn=df(af(kn,Xn)),Un=df(hf(c,k)),Zn=df(hf(l,nt)),Wn=pf(i,Lt),Jn=pf(f,Xt),Kn=pf(k,g),te=pf(nt,m),ne=af(Rn,$n),ee=af(jn,Qn),re=af(ne,Hn),oe=af(ee,Gn),ie=af(Un,Wn),ce=af(Zn,Jn),se=df(af(Kn,te)),ue=pf(p,re),fe=pf(a,oe),le=pf(h,ie),he=pf(d,ce),pe=af(ue,fe),ae=hf(3,af(le,he)),de=pf(v,Jt),ge=af(pe,ae),ve=af(de,se),me=af(ge,ve),be=af(Y,Yn),_e=af(df(O),V),xe=af(df(et),tt),Ie=hf(2*c,be),Ne=hf(2*l,be),Se=af(z,df(F)),Ee=af(F,df(z)),we=hf(l,_e),Me=hf(c,xe),ye=pf(i,Se),Pe=pf(f,Ee),Te=hf(c,_e),Ce=hf(l,xe),Oe=pf(o,T),Ae=pf(u,W),Be=af(Ie,we),ze=af(Ne,Me),Ye=af(Be,ye),Fe=af(ze,Pe),Ve=af(Te,Oe),ke=af(Ce,Ae),Le=pf(p,Ye),Xe=pf(a,Fe),De=pf(h,Ve),qe=pf(d,ke),$e=af(De,qe),Qe=af(Le,Xe),He=af(Qe,hf(3,$e)),Ge=pf(v,be),Re=pf(g,_e),je=af(Ge,Re),Ue=pf(m,xe),Ze=af(je,Ue),We=af(He,Ze),Je=af(z,F),Ke=af($,P),tr=af(C,E),nr=af(J,Z),er=af(df(Je),$),rr=af(df(Je),P),or=af(df(L),B),ir=af(df(y),B),cr=af(tr,C),sr=af(nr,J),ur=pf(lf(3,c),cr),fr=pf(lf(3,l),sr),lr=pf(i,T),hr=pf(f,W),pr=pf(g,tr),ar=pf(m,nr),dr=af(er,Ke),gr=af(rr,Ke),vr=hf(c,dr),mr=hf(l,gr),br=pf(i,or),_r=pf(f,ir),xr=pf(r,b),Ir=pf(s,_),Nr=af(vr,br),Sr=af(mr,_r),Er=af(ur,lr),wr=af(fr,hr),Mr=af(Ke,Je),yr=df(af(pr,ar)),Pr=pf(p,Nr),Tr=pf(a,Sr),Cr=pf(h,Er),Or=pf(d,wr),Ar=pf(v,Mr),Br=af(Pr,Tr),zr=af(Cr,Or),Yr=af(Ar,yr),Fr=af(xr,Ir),Vr=af(Br,zr),kr=af(Yr,Fr),Lr=af(Vr,kr),Xr=af(B,L),Dr=af(B,y),qr=af(df(Xr),y),$r=af(df(Dr),L),Qr=hf(c,qr),Hr=hf(l,T),Gr=hf(l,$r),Rr=hf(c,W),jr=hf(c,T),Ur=pf(o,I),Zr=hf(l,W),Wr=pf(u,R),Jr=af(Qr,Hr),Kr=af(Gr,Rr),to=af(jr,Ur),no=af(Zr,Wr),eo=pf(h,to),ro=pf(d,no),oo=hf(3,af(eo,ro)),io=af(Xr,y),co=af(df(S),T),so=af(df(U),W),uo=pf(p,Jr),fo=pf(a,Kr),lo=pf(v,io),ho=pf(g,co),po=pf(m,so),ao=pf(o,b),go=pf(u,_),vo=af(ao,go),mo=af(uo,fo),bo=af(oo,lo),_o=af(ho,po),xo=af(mo,bo),Io=af(_o,vo),No=af(xo,Io),So=af(A,M),Eo=hf(c,p),wo=hf(l,a),Mo=af(So,A),yo=af(So,M),Po=pf(i,I),To=pf(Po,h),Co=pf(f,R),Oo=pf(Co,d),Ao=pf(v,So),Bo=pf(N,g),zo=pf(j,m),Yo=af(Bo,zo),Fo=pf(i,b),Vo=pf(f,_),ko=af(Fo,Vo),Lo=pf(Eo,Mo),Xo=pf(wo,yo),Do=af(Lo,Xo),qo=hf(3,af(To,Oo)),$o=af(Ao,df(Yo)),Qo=af(Do,qo),Ho=af($o,ko),Go=af(Qo,Ho),Ro=hf(c,h),jo=hf(l,p),Uo=af(Ro,jo),Zo=hf(c,a),Wo=hf(l,d),Jo=af(Zo,Wo),Ko=af(Uo,g),ti=af(Jo,m),ni=pf(I,Ko),ei=pf(R,ti),ri=af(ni,ei),oi=pf(w,v),ii=af(ri,oi),ci=hf(c,b),si=hf(l,_),ui=af(ci,si),fi=af(ii,ui);return[at,Mt,Wt,zn,me,We,Lr,No,Go,af(fi,x)]}]];function bf(t,n){const{coeffs:e,errBound:r}=vf[t.length-2][n.length-2](t,n);return{coeffs:e,errBound:r,getPExact:()=>mf[t.length-2][n.length-2](t,n)}}const _f=le,xf=oe,If=ie,Nf=ae,Sf=re,Ef=ie,wf=function(t,n,e,r){const o=t[0],i=t[1],c=n[0],s=n[1],u=Zn(t,n),f=Math.abs(o+i),l=Math.abs(c+s),h=l-Wn*l-r;return h<=0?{est:u,err:Number.POSITIVE_INFINITY}:{est:u,err:(l*e+f*r)/h**2+9*Jn*Math.abs(f/l)}},Mf=re,yf=le,Pf=te,Tf=oe,Cf=se,Of=function(t,n){return $n(t,n)[1]>0?n:t},Af=function(t,n){return Qn(t,n)[1]>0?t:n},Bf=Number.EPSILON/2,zf=Bf*Bf,Yf=Math.abs,Ff=Ef,Vf=[0,1],kf=Mf,Lf=Tf,Xf=yf,Df=Pf,qf=Cf,$f=wf,Qf=Of,Hf=Af,Gf=Ar(3);function Rf(t,n){return n[0][0]!==n[1][0]||n[0][1]!==n[1][1]?4===t.length?function([[t,n],[e,r],[o,i],[c,s]],[u,f]){const l=Ff(f,u),h=3*zf*Yf(l[1]),p=Ff(Vf,u),a=3*zf*Yf(p[1]),d=$f(l,p,h,a);f=kf(d.est,d.err);const g=Ff(Vf,u),v=Xf(u,u),m=Xf(u,g),b=Xf(g,g),_=Xf(v,u),x=Xf(v,g),I=Xf(b,u),N=Xf(b,g),S=Ff(Vf,f),E=Xf(f,f),w=Xf(f,S),M=Xf(S,S),y=Xf(E,f),P=Xf(E,S),T=Xf(M,f),C=Xf(M,S),O=Yf(u[1]),A=Yf(g[1]),B=Yf(v[1]),z=Yf(m[1]),Y=Yf(b[1]),F=Yf(_[1]),V=Yf(x[1]),k=Yf(I[1]),L=Yf(N[1]),X=Yf(f[1]),D=Yf(S[1]),q=Yf(E[1]),$=Yf(w[1]),Q=Yf(M[1]),H=Yf(y[1]),G=Yf(P[1]),R=Yf(T[1]),j=Yf(C[1]);let U=Yf(t),Z=Yf(n),W=Yf(e),J=Yf(r),K=Yf(o),tt=Yf(i),nt=Yf(c),et=Yf(s);const rt=Lf(Df(c,u),Df(o,g)),ot=Lf(Lf(Df(c,v),Df(2*o,m)),Df(e,b)),it=Lf(Lf(Df(c,_),Df(t,N)),Df(3,Lf(Df(o,x),Df(e,I)))),ct=Lf(Xf(ot,f),Xf(it,S)),st=Lf(Lf(Xf(rt,E),Xf(it,M)),Xf(qf(ot),w)),ut=Lf(Lf(Df(c,y),Xf(it,C)),Df(3,Lf(Xf(rt,P),Xf(ot,T)))),ft=Yf(it[1]),lt=nt*O+K*A,ht=nt*B+2*K*z+W*Y;U=nt*F+U*L+3*(K*V+W*k),W=ht*X+ft*D,K=lt*q+ft*Q+2*ht*$,nt=nt*H+ft*j+3*(lt*G+ht*R),U*=11*zf,W*=15*zf,K*=20*zf,nt*=22*zf;const pt=Lf(Df(s,u),Df(i,g)),at=Lf(Lf(Df(s,v),Df(2*i,m)),Df(r,b)),dt=Lf(Lf(Df(s,_),Df(n,N)),Df(3,Lf(Df(i,x),Df(r,I)))),gt=Lf(Xf(at,f),Xf(dt,S)),vt=Lf(Lf(Xf(pt,E),Xf(dt,M)),Xf(qf(at),w)),mt=Lf(Lf(Df(s,y),Xf(dt,C)),Df(3,Lf(Xf(pt,P),Xf(at,T)))),bt=Yf(dt[1]),_t=et*O+tt*A,xt=et*B+2*tt*z+J*Y;Z=et*F+Z*L+3*(tt*V+J*k),J=xt*X+bt*D,tt=_t*q+bt*Q+2*xt*$,et=et*H+bt*j+3*(_t*G+xt*R),Z*=11*zf,J*=15*zf,tt*=20*zf,et*=22*zf;const It=Qf(Qf(kf(it,-U),kf(ct,-W)),Qf(kf(st,-K),kf(ut,-nt))),Nt=Hf(Hf(kf(it,+U),kf(ct,+W)),Hf(kf(st,+K),kf(ut,+nt)));return[[It,Qf(Qf(kf(dt,-Z),kf(gt,-J)),Qf(kf(vt,-tt),kf(mt,-et)))],[Nt,Hf(Hf(kf(dt,+Z),kf(gt,+J)),Hf(kf(vt,+tt),kf(mt,+et)))]]}(t,n):3===t.length?function([[t,n],[e,r],[o,i]],[c,s]){const u=Ff(s,c),f=3*zf*Yf(u[1]),l=Ff(Vf,c),h=3*zf*Yf(l[1]),p=$f(u,l,f,h);s=kf(p.est,p.err);const a=Ff(Vf,c),d=Xf(c,c),g=Xf(c,a),v=Xf(a,a),m=Ff(Vf,s),b=Xf(s,s),_=Xf(s,m),x=Xf(m,m),I=Yf(c[1]),N=Yf(a[1]),S=Yf(d[1]),E=Yf(g[1]),w=Yf(v[1]),M=Yf(s[1]),y=Yf(m[1]),P=Yf(b[1]),T=Yf(_[1]),C=Yf(x[1]);let O=Yf(t),A=Yf(n),B=Yf(e),z=Yf(r),Y=Yf(o),F=Yf(i);const V=Lf(Lf(Df(o,d),Df(2*e,g)),Df(t,v)),k=Lf(Df(o,c),Df(e,a)),L=V,X=Lf(Xf(s,k),Xf(m,V)),D=Lf(Lf(Df(o,b),Xf(qf(_),k)),Xf(x,V)),q=Y*S+2*B*E+O*w,$=Y*I+B*N;O=q,B=M*$+y*q,Y=P*o+2*T*$+C*q,O*=7*zf,B*=11*zf,Y*=14*zf;const Q=Lf(Lf(Df(i,d),Df(2*r,g)),Df(n,v)),H=Lf(Df(i,c),Df(r,a)),G=Q,R=Lf(Xf(s,H),Xf(m,Q)),j=Lf(Lf(Df(i,b),Xf(qf(_),H)),Xf(x,Q)),U=F*S+2*z*E+A*w,Z=F*I+z*N;A=U,z=M*Z+y*U,F=P*i+2*T*Z+C*U,A*=7*zf,z*=11*zf,F*=14*zf;const W=Qf(Qf(kf(L,-O),kf(X,-B)),kf(D,-Y)),J=Hf(Hf(kf(L,+O),kf(X,+B)),kf(D,+Y));return[[W,Qf(Qf(kf(G,-A),kf(R,-z)),kf(j,-F))],[J,Hf(Hf(kf(G,+A),kf(R,+z)),kf(j,+F))]]}(t,n):function([[t,n],[e,r]],[o,i]){const c=Ff(i,o),s=3*zf*Yf(c[1]),u=Ff(Vf,o),f=3*zf*Yf(u[1]),l=$f(c,u,s,f);i=kf(l.est,l.err);const h=Ff(Vf,o),p=Ff(Vf,i),a=Yf(o[1]),d=Yf(h[1]),g=Yf(i[1]),v=Yf(p[1]);let m=Yf(t),b=Yf(n),_=Yf(e),x=Yf(r);const I=Lf(Df(e,o),Df(t,h)),N=Lf(Df(e,i),Xf(I,p));m=_*a+m*d,_=_*g+m*v,m*=3*Bf,_*=7*Bf;const S=Lf(Df(r,o),Df(n,h)),E=Lf(Df(r,i),Xf(S,p));b=x*a+b*d,x=x*g+b*v,b*=3*Bf,x*=7*Bf;const w=Qf(kf(I,-m),kf(N,-_)),M=Hf(kf(I,+m),kf(N,+_));return[[w,Qf(kf(S,-b),kf(E,-x))],[M,Hf(kf(S,+b),kf(E,+x))]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n[0]&&0===n[1]){const t=[0,e[0]],n=[0,e[1]];return[[t,n],[t,n]]}if(0===n[0]&&1===n[1]){const t=[0,r[0]],n=[0,r[1]];return[[t,n],[t,n]]}const o=function(t,n){if(0===n[0]&&0===n[1])return t[0].map((t=>[t]));if(0===n[0]&&1===n[1])return t[t.length-1].map((t=>[t]));if(4===t.length){const[[e,r],[o,i],[c,s],[u,f]]=t,l=Sf(_f(Nf(o,e),n),e),h=Sf(_f(Nf(c,o),n),o),p=Sf(_f(Nf(u,c),n),c),a=xf(l,_f(If(h,l),n)),d=xf(h,_f(If(p,h),n)),g=xf(a,_f(If(d,a),n)),v=Sf(_f(Nf(i,r),n),r),m=Sf(_f(Nf(s,i),n),i),b=Sf(_f(Nf(f,s),n),s),_=xf(v,_f(If(m,v),n)),x=xf(m,_f(If(b,m),n));return[g,xf(_,_f(If(x,_),n))]}if(3===t.length){const[[e,r],[o,i],[c,s]]=t,u=xf([0,e],_f(Nf(o,e),n)),f=xf([0,o],_f(Nf(c,o),n)),l=xf(u,_f(If(f,u),n)),h=xf([0,r],_f(Nf(i,r),n)),p=xf([0,i],_f(Nf(s,i),n));return[l,xf(h,_f(If(p,h),n))]}if(2===t.length){const[[e,r],[o,i]]=t;return[Sf(_f(Nf(o,e),n),e),Sf(_f(Nf(i,r),n),r)]}if(1===t.length){const[n,e]=t[0];return[[0,n],[0,e]]}throw new Error("The given bezier curve must be of order <= 3.")}(t,n);let i;if(4===t.length)i=Pr(t,n).map((t=>16*Gf*t));else if(3===t.length)i=Pr(t,n).map((t=>10*Gf*t));else if(2===t.length)i=Pr(t,n).map((t=>4*Gf*t));else if(1===t.length)return[o,o];return[[kf(o[0],-i[0]),kf(o[1],-i[1])],[kf(o[0],+i[0]),kf(o[1],+i[1])]]}(t,n[0])}function jf(t){return(n,e)=>{let[[r,o],[i,c]]=n,[[s,u],[f,l]]=e;return(o[1]>c[1]||o[1]===c[1]&&o[0]>c[0])&&([o,c]=[c,o]),(u[1]>l[1]||u[1]===l[1]&&u[0]>l[0])&&([u,l]=[l,u]),(r[1]>i[1]||r[1]===i[1]&&r[0]>i[0])&&([r,i]=[i,r]),(s[1]>f[1]||s[1]===f[1]&&s[0]>f[0])&&([s,f]=[f,s]),t?(r[1]<f[1]||r[1]===f[1]&&r[0]<=f[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>=s[0])&&(u[1]<c[1]||u[1]===c[1]&&u[0]<=c[0])&&(l[1]>o[1]||l[1]===o[1]&&l[0]>=o[0]):(r[1]<f[1]||r[1]===f[1]&&r[0]<f[0])&&(i[1]>s[1]||i[1]===s[1]&&i[0]>s[0])&&(u[1]<c[1]||u[1]===c[1]&&u[0]<c[0])&&(l[1]>o[1]||l[1]===o[1]&&l[0]>o[0])}}function Uf(t){return[(t.x.box[0][0]+t.x.box[1][0])/2,(t.x.box[0][1]+t.x.box[1][1])/2]}function Zf(t,n){const e=bf(t,n);if(void 0===e)return;const{coeffs:r,errBound:o,getPExact:i}=e,c=Nr(r,0,1,o,i);return 0!==c.length?{ris:c.map($i),getPExact:i}:void 0}function Wf(t){return{tS:G(t.tS),tE:G(t.tE),multiplicity:t.multiplicity}}function Jf(t,n){const e=Zf(t,n);if(void 0===e)return[];const{getPExact:r}=e;let o,{ris:i}=e;const c=Zf(n,t);if(void 0===c)return[];let{ris:s}=c;const{getPExact:u}=c;let f,l;l=1;let h,p=0;t:for(;p<l;){h=s.map((n=>Rf(t,[n.tS,n.tE])));for(let t=0;t<s.length;t++){const n=h[t];for(let e=t+1;e<s.length;e++){const t=h[e];if(jf(!0)(n,t)){const t=[];for(const n of s)t.push(...Ji({tS:n.tS[1],tE:n.tE[1],multiplicity:n.multiplicity},(f=f||u(),f)));s=t,p++;continue t}}}break t}l=1;let a,d=0;t:for(;d<l;){a=i.map((t=>Rf(n,[t.tS,t.tE])));for(let t=0;t<i.length;t++){const n=a[t];for(let e=t+1;e<i.length;e++){const t=a[e];if(jf(!0)(n,t)){const t=[];for(const n of i)t.push(...Ji({tS:n.tS[1],tE:n.tE[1],multiplicity:n.multiplicity},(o=o||r(),o)));i=t,d++;continue t}}}break t}const g=[];for(let t=0;t<s.length;t++){const n=h[t];for(let e=0;e<i.length;e++){const o=a[e];if(jf(!0)(n,o)){const c={compensated:p,ri:Wf(s[t]),riExp:p?s[t]:void 0,getPExact:p?void 0:u,kind:1,box:Kf(n)},f={compensated:d,ri:Wf(i[e]),riExp:d?i[e]:void 0,getPExact:d?void 0:r,kind:1,box:Kf(o)};g.push({psX:c,sideX:f})}}}return g}function Kf(t){return t.map((t=>t.map(G)))}function tl(t,n){const e=t.xs,r=[],o=new Map;for(const t of e){const n=t.curve,e=o.get(n);e?e.push(t):o.set(n,[t])}const i=function(t){const[[n,e],[r,o]]=t.box,i=[[[r,e],[n,e]],[[n,e],[n,o]],[[n,o],[r,o]],[[r,o],[r,e]]];return(n,e,r)=>{const o=n.ps,c=e.slice();for(let t=0;t<i.length;t++){const n=Jf(o,i[t]);for(const{psX:e,sideX:r}of n)c.push({x:e,side:t,sideX:r,curve:void 0})}c.sort(((t,n)=>t.x.ri.tS-n.x.ri.tS));const s=[],u=[];let f,l;for(const n of c)void 0!==n.side?(!0===l&&u.push({dir:1,p:Uf(n),_x_:f,container:t,idx:++r,side:n.side,sideX:n.sideX}),l=!1):(!1===l&&(s.push({dir:-1,p:Uf(f),_x_:n,container:t,idx:++r,side:f.side,sideX:f.sideX}),n.in_=s[s.length-1]),l=!0),f=n;return{ins:s,outs:u,ioIdx:r}}}(t);for(const t of o){const[e,o]=t;let c,s;({ins:c,outs:s,ioIdx:n}=i(e,o,n)),r.push(...c),r.push(...s)}return{inOuts:r,ioIdx:n}}function nl(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[3*(r-n),3*(o-e)],[3*(i-r),3*(c-o)],[3*(s-i),3*(u-c)]]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[[2*(r-n),2*(o-e)],[2*(i-r),2*(c-o)]]}if(2===t.length){const[[n,e],[r,o]]=t;return[[r-n,o-e]]}throw new Error("The given bezier curve must be of order 1, 2 or 3.")}function el(t,n){const e=t.xs;return 2===e.length&&1===e[0].x.kind&&1===e[1].x.kind&&e[0].x.ri.multiplicity%2==1&&e[1].x.ri.multiplicity%2==1?function(t,n){const e=t.xs,r=[],o=e[0],i=e[1],c=o.curve.ps,s=i.curve.ps,u=Mr(c,o.x.ri.tS),f=o.x.ri.tS,l=o.x.ri.tE,h=i.x.ri.tS,p=i.x.ri.tE;let a,d,g;a=4===c.length||3===c.length?Dr(nl(c),[f,l]):nl(c),d=4===s.length||3===s.length?Dr(nl(s),[h,p]):nl(s);for(let e=0;e<a.length;e++)for(let r=0;r<d.length;r++){const o=Math.sign(en(a[e],d[r],[0,0]));if(0===o)return tl(t,n);if(void 0!==g){if(g!==o)return tl(t,n)}else g=o}return g>0?(r.push({dir:-1,p:u,_x_:o,container:t}),r.push({dir:1,p:u,_x_:i,container:t}),r.push({dir:1,p:u,_x_:o,container:t}),r.push({dir:-1,p:u,_x_:i,container:t}),o.in_=r[0],i.in_=r[3]):(r.push({dir:-1,p:u,_x_:o,container:t}),r.push({dir:-1,p:u,_x_:i,container:t}),r.push({dir:1,p:u,_x_:o,container:t}),r.push({dir:1,p:u,_x_:i,container:t}),o.in_=r[0],i.in_=r[1]),{inOuts:r,ioIdx:n}}(t,n):tl(t,n)}const rl=-1,ol=1;function il(t,n,e,r){const o=[];for(const r of t)o.push({type:rl,item:r,x:n(r)}),o.push({type:ol,item:r,x:e(r)});o.sort(cl);const i=new Set,c=[];for(const t of o){const n=t.item;if(t.type===rl){for(const t of i.values()){const e=r(n,t);e&&c.push({a:n,b:t,u:e})}i.add(n)}else t.type===ol&&i.delete(t.item)}return c}function cl(t,n){const e=t.x-n.x;return 0!==e?e:t.type}const sl=oe,ul=K,fl=R,ll=T,hl=G,pl=le,al=Wt,dl=Math.abs,gl=Ar(3);const vl=Math.abs;const ml=Math.abs,bl=le,_l=oe,xl=K,Il=R,Nl=T,Sl=G,El=Wt,wl=Math.abs,Ml=Or(1),yl=Ar(3);function Pl(t,n){const[e,r]=n,o=e.length,i=r.length,c=e[o-1],s=r[i-1],u=1===o&&1===i;{const{vₓₓ:n,vₓᵧ:e,vᵧᵧ:r,vₓ:o,vᵧ:i,v:f}=function(t){const[[n,e,r],[o,i,c]]=wi(t),s=n*i-e*o,u=n*c-r*o;return{vₓₓ:-o*o,vₓᵧ:2*n*o,vᵧᵧ:-n*n,vₓ:i*s-2*o*u,vᵧ:2*n*u-e*s,v:s*(e*c-r*i)-u*u}}(t),{vₓₓ_:l,vₓᵧ_:h,vᵧᵧ_:p,vₓ_:a,vᵧ_:d,v_:g}=function(t){const[n,e]=t[0],[[r,o],[i,c]]=function(t){const[[n,e],[r,o],[i,c]]=t,s=vl(n),u=vl(r),f=vl(i),l=vl(e),h=vl(o);return[[f+s+2*u,2*(u+s),0],[vl(c)+l+2*h,2*(h+l),0]]}(t),s=ml(n),u=ml(e),f=r*c+o*i,l=r*u+s*i;return{vₓₓ_:i*i,vₓᵧ_:2*r*i,vᵧᵧ_:r*r,vₓ_:c*f+2*i*l,vᵧ_:2*r*l+o*f,v_:f*(o*u+s*c)+l*l}}(t),v=u?0:1,m=wl(c),b=wl(s);if((v+12)*Ml*(l*(m*m)+h*(m*b)+p*(b*b)+(a*m+d*b)+g)<wl(n*c*c+e*c*s+r*s*s+(o*c+i*s)+f))return!1}{const{coeffs:{vₓₓ:n,vₓᵧ:o,vᵧᵧ:i,vₓ:u,vᵧ:f,v:l},errorBound:{vₓₓ_:h,vₓᵧ_:p,vᵧᵧ_:a,vₓ_:d,vᵧ_:g,v_:v}}=Sc(t),m=El(e),b=El(r),_=wl(c),x=wl(s),I=_/3,N=x/3,S=bl(m,m),E=S[1],w=2*(_*I+E),M=bl(b,b),y=M[1],P=2*(x*N+y),T=bl(m,b),C=wl(T[1]),O=_*N+I*x+2*C,A=bl(n,S),B=wl(n[1])*w+h*E+2*wl(A[1]),z=bl(o,T),Y=wl(o[1])*O+p*C+2*wl(z[1]),F=bl(i,M),V=wl(i[1])*P+a*y+2*wl(F[1]),k=bl(m,u),L=wl(u[1])*I+d*_+2*wl(k[1]),X=bl(b,f),D=wl(f[1])*N+g*x+2*wl(X[1]),q=_l(A,z),$=B+Y+wl(q[1]),Q=_l(q,F),H=$+V+wl(Q[1]),G=_l(k,X),R=L+D+wl(G[1]),j=_l(Q,G),U=H+R+wl(j[1]),Z=_l(j,l),W=U+v+wl(Z[1]);if(yl*W<wl(Sl(Z)))return!1}{const n=function(t){return tu(ks(t))}(t);if(void 0===n)return u&&c===t[0][0]&&s===t[0][1];n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓ:o,vₓᵧ:i,vᵧᵧ:f,vₓ:l,vᵧ:h,v:p}=n,a=Il(Il(Il(xl(o,xl(e,e)),xl(i,xl(e,r))),xl(f,xl(r,r))),Il(Il(xl(e,l),xl(r,h)),p));return 0===Nl(a)}}const Tl=Math.abs,Cl=le,Ol=oe,Al=K,Bl=R,zl=T,Yl=G,Fl=Wt,Vl=Math.abs,kl=Or(1),Ll=Ar(3);function Xl(t,n){const[e,r]=n,o=e.length,i=r.length,c=e[o-1],s=r[i-1],u=1===o&&1===i;{const{vₓₓₓ:n,vₓₓᵧ:e,vₓᵧᵧ:r,vᵧᵧᵧ:o,vₓₓ:i,vₓᵧ:f,vᵧᵧ:l,vₓ:h,vᵧ:p,v:a}=function(t){const[[n,e,r,o],[i,c,s,u]]=Ei(t),f=n*s,l=r*i,h=n*c,p=e*i,a=n*n,d=i*i,g=n*u-o*i,v=f-l,m=h-p,b=e*u-o*c,_=e*s-r*c,x=r*u-o*s,I=2*v,N=g*g,S=g*_,E=I*b,w=m*b,M=-3*g-_,y=-3*N-2*S+(E+m*x),P=2*(g*v-w),T=g*m-v*v+m*_;return{vₓₓₓ:-i*d,vₓₓᵧ:3*n*d,vₓᵧᵧ:-3*i*a,vᵧᵧᵧ:n*a,vₓₓ:M*d+m*(s*i-c*c)+I*c*i,vₓᵧ:2*(m*(e*c-(l+f)/2)-(M*n*i+v*(p+h))),vᵧᵧ:M*a+m*(r*n-e*e)+I*e*n,vₓ:i*y+(c*P+s*T),vᵧ:-n*y-(e*P+r*T),v:g*(E-N-S)+(T*x-w*b)}}(t),{vₓₓₓ_:d,vₓₓᵧ_:g,vₓᵧᵧ_:v,vᵧᵧᵧ_:m,vₓₓ_:b,vₓᵧ_:_,vᵧᵧ_:x,vₓ_:I,vᵧ_:N,v_:S}=function(t){const[n,e]=t[0],[[r,o,i],[c,s,u]]=function(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=vl(n),l=vl(r),h=vl(i),p=vl(s),a=vl(e),d=vl(o),g=vl(c);return[[p+f+3*(l+h),3*(h+f+2*l),3*(l+f),0],[vl(u)+a+3*(d+g),3*(g+a+2*d),3*(d+a),0]]}(t),f=Tl(n),l=Tl(e),h=r*u,p=i*c,a=r*s,d=o*c,g=r*r,v=c*c,m=r*l+f*c,b=h+p,_=a+d,x=o*l+f*s,I=o*u+i*s,N=i*l+f*u,S=2*b,E=m*m,w=m*I,M=S*x,y=_*x,P=3*m+I,T=3*E+2*w+(M+_*N),C=2*(m*b+y),O=m*_+b*b+_*I;return{vₓₓₓ_:c*v,vₓₓᵧ_:3*r*v,vₓᵧᵧ_:3*c*g,vᵧᵧᵧ_:r*g,vₓₓ_:P*v+_*(u*c+s*s)+S*s*c,vₓᵧ_:2*(_*(o*s+(p+h)/2)+(P*r*c+b*(d+a))),vᵧᵧ_:P*g+_*(i*r+o*o)+S*o*r,vₓ_:c*T+(s*C+u*O),vᵧ_:r*T+(o*C+i*O),v_:m*(M+E+w)+(O*N+y*x)}}(t),E=c*c,w=s*s,M=n*(E*c)+e*(E*s)+(r*(c*w)+o*(w*s))+(i*E+f*(c*s)+l*w)+(h*c+p*s+a),y=u?0:1,P=Vl(c),T=Vl(s),C=P*P,O=T*T;if((y+26)*kl*(d*(C*P)+g*(C*T)+(v*(P*O)+m*(O*T))+(b*C+_*(P*T)+x*O)+(I*P+N*T+S))<Vl(M))return!1}{const{coeffs:{vₓₓₓ:n,vₓₓᵧ:o,vₓᵧᵧ:i,vᵧᵧᵧ:u,vₓₓ:f,vₓᵧ:l,vᵧᵧ:h,vₓ:p,vᵧ:a,v:d},errorBound:{vₓₓₓ_:g,vₓₓᵧ_:v,vₓᵧᵧ_:m,vᵧᵧᵧ_:b,vₓₓ_:_,vₓᵧ_:x,vᵧᵧ_:I,vₓ_:N,vᵧ_:S,v_:E}}=Lc(t),w=Vl(n[1]),M=Vl(o[1]),y=Vl(i[1]),P=Vl(u[1]),T=Fl(e),C=Fl(r),O=Vl(c),A=Vl(s),B=O/3,z=A/3,Y=Cl(T,T),F=Y[1],V=2*(O*B+F),k=Cl(T,Y),L=Vl(k[1]),X=O*V+B*F+2*L,D=Cl(C,C),q=D[1],$=2*(A*z+q),Q=Cl(C,D),H=Vl(Q[1]),G=A*$+z*q+2*H,R=Cl(C,Y),j=Vl(R[1]),U=A*V+z*F+2*j,Z=Cl(T,D),W=Vl(Z[1]),J=O*$+B*q+2*W,K=Cl(T,C),tt=Vl(K[1]),nt=O*z+B*A+2*tt,et=Cl(n,k),rt=w*X+g*L+2*Vl(et[1]),ot=Cl(o,R),it=M*U+v*j+2*Vl(ot[1]),ct=Cl(i,Z),st=y*J+m*W+2*Vl(ct[1]),ut=Cl(u,Q),ft=P*G+b*H+2*Vl(ut[1]),lt=Cl(f,Y),ht=Vl(f[1])*V+_*F+2*Vl(lt[1]),pt=Cl(l,K),at=Vl(l[1])*nt+x*tt+2*Vl(pt[1]),dt=Cl(h,D),gt=Vl(h[1])*$+I*q+2*Vl(dt[1]),vt=Cl(T,p),mt=Vl(p[1])*B+N*O+2*Vl(vt[1]),bt=Cl(C,a),_t=Vl(a[1])*z+S*A+2*Vl(bt[1]),xt=Ol(et,ot),It=rt+it+Vl(xt[1]),Nt=Ol(ct,ut),St=st+ft+Vl(Nt[1]),Et=Ol(xt,Nt),wt=It+St+Vl(Et[1]),Mt=Ol(lt,pt),yt=ht+at+Vl(Mt[1]),Pt=Ol(Mt,dt),Tt=yt+gt+Vl(Pt[1]),Ct=Ol(Et,Pt),Ot=wt+Tt+Vl(Ct[1]),At=Ol(vt,bt),Bt=mt+_t+Vl(At[1]),zt=Ol(At,d),Yt=Bt+E+Vl(zt[1]),Ft=Ol(Ct,zt),Vt=Ot+Yt+Vl(Ft[1]);if(Ll*Vt<Vl(Yl(Ft)))return!1}{const n=function(t){return Eu(Vs(t))}(t);if(void 0===n)return u&&c===t[0][0]&&s===t[0][1];n.hasOwnProperty("vₓₓₓ")||(n.vₓₓₓ=[0],n.vₓₓᵧ=[0],n.vₓᵧᵧ=[0],n.vᵧᵧᵧ=[0]),n.hasOwnProperty("vₓₓ")||(n.vₓₓ=[0],n.vₓᵧ=[0],n.vᵧᵧ=[0]);const{vₓₓₓ:o,vₓₓᵧ:i,vₓᵧᵧ:f,vᵧᵧᵧ:l,vₓₓ:h,vₓᵧ:p,vᵧᵧ:a,vₓ:d,vᵧ:g,v}=n,m=Al(e,e),b=Al(e,m),_=Al(r,r),x=Al(r,_),I=Al(r,m),N=Al(e,_),S=Al(e,r),E=Al(o,b),w=Al(i,I),M=Al(f,N),y=Al(l,x),P=Al(h,m),T=Al(p,S),C=Al(a,_),O=Al(e,d),A=Al(r,g),B=Bl(E,w),z=Bl(M,y),Y=Bl(B,z),F=Bl(P,T),V=Bl(F,C),k=Bl(Y,V),L=Bl(O,A),X=Bl(L,v),D=Bl(k,X);return 0===zl(D)}}function Dl(t,n){const{coeffs:e,errBound:r,getPExact:o}=bf(t,n);return Nr(e,0,1,r,o,!0)}const ql=Math.min,$l=Math.max;function Ql(t,n){let[[e,r],[o,i]]=t,[[c,s],[u,f]]=n;if(e>o&&([e,o]=[o,e]),c>u&&([c,u]=[u,c]),r>i&&([r,i]=[i,r]),s>f&&([s,f]=[f,s]),e<=u&&o>=c&&s<=i&&f>=r)return[[$l(e,c),$l(r,s)],[ql(o,u),ql(i,f)]]}function Hl(t,n,e){if(void 0===e)return;if(0===e.length)return[];const r=Dl(n,t);if(void 0===r)return;if(0===r.length)return[];const o=r.map((n=>Dr(t,[n.tS,n.tE]))),i=e.map((t=>Dr(n,[t.tS,t.tE]))),c=[];for(let t=0;t<r.length;t++){const n=o[t];for(let o=0;o<e.length;o++){const s=Ql(n,i[o]);if(void 0!==s){const n={ri:r[t],box:s,kind:1},i={ri:e[o],box:s,kind:1};c.push([n,i])}}}return c}function Gl(t,n,e){for(const r of[t,n]){const o=r.length;for(let i=1;i<o+1;i++){const c=r[i-1],s=r[i%o],u=[s[1]-c[1],c[0]-s[0]];let f=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const e=u[0]*t[n][0]+u[1]*t[n][1];e<f&&(f=e),e>l&&(l=e)}let h=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;for(let t=0;t<n.length;t++){const e=u[0]*n[t][0]+u[1]*n[t][1];e<h&&(h=e),e>p&&(p=e)}if(e&&(l<h||p<f))return!1;if(!e&&(l<=h||p<=f))return!1}}return!0}const Rl=Ft,jl=R,Ul=T,Zl=rt,Wl=Number.EPSILON/2,Jl=Math.abs;function Kl(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=s+3*r,l=n+3*i,h=f-l,p=Jl(3*r)+Jl(f)+(Jl(3*i)+Jl(l))+Jl(h);if(Jl(h)-Wl*p>0)return!1;const a=u+3*o,d=e+3*c,g=a-d,v=Jl(3*o)+Jl(a)+(Jl(3*c)+Jl(d))+Jl(g);return!(Jl(g)-Wl*v>0)&&0===Ul(Zl(jl([s],Rl(3,r)),jl([n],Rl(3,i))))&&0===Ul(Zl(jl([u],Rl(3,o)),jl([e],Rl(3,c))))}const th=rt,nh=T,eh=at,{abs:rh}=Math;function oh(t){const n=t[0][0],e=t[0][1];for(let r=1;r<t.length;r++)if(n!==t[r][0]||e!==t[r][1])return!1;return!0}function ih(t){return 4===t.length&&Kl(t)&&(t=gu(t)),3===t.length&&function(t){const[[n,e],[r,o],[i,c]]=t,s=n+i,u=s-2*r,f=rh(s)+rh(u);if(rh(u)-f>0)return!1;const l=e+c,h=l-2*o,p=rh(l)+rh(h);return!(rh(h)-p>0)&&0===nh(th(eh(n,i),[2*r]))&&0===nh(th(eh(e,c),[2*o]))}(t)&&(t=[t[0],t[2]]),2===t.length&&oh(t)&&(t=[t[0]]),t}const ch=Number.EPSILON,sh=ch/2;function uh(t,n){return n<0?t<1?t:1-sh:0===n?1:t>1?t:1+ch}function fh(t){return G(ht(t[0],t[1],2))}function lh(t){return T(t[0])*T(t[1])}function hh(t){return(n,e)=>{const r=Fs(n),o=Fs(e),i=Fs(n.slice().reverse()),c=Fs(e.slice().reverse()),s=t(r,o),u=t(i,o),f=t(r,c),l=t(i,c),h=-lh(u),p=-lh(l),a=fh(s),d=fh(f);return[uh(a,h),uh(d,p)]}}const ph=hh((function(t,n){const e=0===T(t[0][0])?1:0;return function(t,n){const[e,r]=t,[,o]=n;return[rt(o,r),e]}(t[e],n[e])}));function ah(t,n){return Tt(cn(t[0],n[1]),cn(t[1],n[0]))*T(t[1])*T(n[1])}const dh=L,gh=ot,vh=0n;function mh(t){let n=-1024;for(let e=0;e<t.length;e++){const r=t[e];for(let t=0;t<r.length;t++){const e=r[t];if(0===e)continue;const o=-dh(e)+gh(e)-1;o>n&&(n=o)}}return 0===n?t.map((t=>t.map((t=>BigInt(t))))):n>0?t.map((t=>t.map((t=>{if(0===t)return vh;const e=-dh(t)+gh(t)-1;return BigInt(t*2**e)*2n**BigInt(n-e)})))):t.map((t=>t.map((t=>BigInt(t*2**n)))))}function bh(t,n){if(n=n<0n?-n:n,0n===(t=t<0n?-t:t))return n;if(0n===n)return t;for(;0n!==n;){const e=n;n=t%n,t=e}return t}const _h=BigInt(2**53);function xh(t){if(0n===t)return[0];const n=[];let e=0,r=t;for(;0n!==r;){r=t/_h;const o=t%_h;n.push(Number(o)*2**(53*e)),t=r,e++}return D(n)}const{round:Ih,sqrt:Nh}=Math;function Sh(t){if(t<=1n){if(t<0n)throw new Error("square root of negative numbers are not allowed");return t}let n=BigInt(Ih(Nh(Number(t))));for(;;){const e=n+t/n>>1n;if(e===n)return n;n=e}}function Eh(t){return t<0n?-t:t}function wh(t){let n=0n;for(let e=0;e<t.length;e++)n+=t[e];return n}function Mh(t,n){const[e,r]=yh(t[0],n[0]),[o,i]=yh(t[1],n[1]);if(0===ah(e,o)||0===ah(e,i))return e;if(0===ah(r,o)||0===ah(r,i))return r;throw new Error("An unexpected error occured.")}function yh(t,n){const[e,r]=t,[o,i]=n,[c,s]=function(t){const[n,e]=mh(t).map(wh),r=bh(n,e);return[xh(Sh(Eh(n/r))),xh(Sh(Eh(e/r)))]}([o,e]);return[[rt(cn(i,s),cn(r,c)),cn(c,At(e))],[rt(cn(i,tt(s)),cn(r,c)),cn(c,At(e))]].sort(ah)}function Ph(t,n){const e=Fs(t),r=0===T(e[0][0])?0:0===T(e[1][0])?1:-1;if(-1!==r){const e=t[0][r],o=t[2][r],i=n[0][r],c=n[2][r];return ph([[e,e],[o,o]],[[i,i],[c,c]])}return hh(Mh)(t,n)}const{round:Th,cbrt:Ch}=Math;function Oh(t){const n=(e=t)>0n?1n:e<0n?-1n:0n;var e;if((t=Eh(t))<=1n)return n*t;let r=BigInt(Th(Ch(Number(t))));for(;;){const e=(2n*r+t/(r*r))/3n;if(e===r)return n*r;r=e}}function Ah(t){return cn(t,t)}const Bh=hh((function(t,n){const e=0===T(t[0][0])?1:0;return function(t,n){const[e,r]=t,[o,i]=n,c=function(t){const[n,e]=mh(t).map(wh),r=bh(n,e);return[xh(Oh(n/r)),xh(Oh(e/r))]}([o,e]),s=Ah(c[0]);return[rt(cn(i,Ah(c[1])),cn(r,s)),cn(Z(3,e),s)]}(t[e],n[e])})),{EPSILON:zh}=Number,Yh=zh/2+zh**2/2;function Fh(t){return t>0?t-t*Yh:t+t*Yh}const{EPSILON:Vh}=Number,kh=Vh/2+Vh**2/2;function Lh(t){return t>0?t+t*kh:t-t*kh}function Xh(t){if(0===t||1===t)return[t,t];const n=Fh(Fh(t)),e=function(t){return Lh(Lh(t))}(t);return[n,e]}function Dh(t,n,e,r){const o=t.ps,i=n.ps,c=[];let s=Dl(o,i);if(void 0===s){const r=2**(e-47),s=function(t,n,e=!1){e||(t=ih(t),n=ih(n));const r=[,,ph,Ph,Bh],[o,i]=r[t.length](t,n),[c,s]=r[t.length](n,t),u=[{tA:o,tB:0,bez:"B",start:!0},{tA:i,tB:1,bez:"B",start:!1},{tA:0,tB:c,bez:"A",start:!0},{tA:1,tB:s,bez:"A",start:!1}].sort(((t,n)=>t.tA-n.tA));if(u[1].tA===u[2].tA){const n=u[1],e=n.tA,r=n.tB,o=Dr(t,[e,e]);return[{p:o[0],kind:4,box:o,t1:e,ri1:{tS:e,tE:e,multiplicity:1},t2:r,ri2:{tS:r,tE:r,multiplicity:1}}]}if(u[0].bez===u[1].bez)return[];const f=u[1],l=u[2],[h,p]=Xh(f.tA),[a,d]=Xh(f.tB),[g,v]=Xh(l.tA),[m,b]=Xh(l.tB),_=Dr(t,[h,p]),x=Dr(n,[a,d]),I=Dr(t,[g,v]),N=Dr(n,[m,b]),S=Ql(_,x),E=Ql(I,N),w={tS:h,tE:p,multiplicity:1},M={tS:a,tE:d,multiplicity:1},y={tS:g,tE:v,multiplicity:1},P={tS:m,tE:b,multiplicity:1};return[{p:Yo(S),kind:5,box:S,t1:zo(w),ri1:w,t2:zo(M),ri2:M},{p:Yo(E),kind:5,box:E,t1:zo(y),ri1:y,t2:zo(P),ri2:P}]}(o,i);for(const e of s){const i=Mr(o,e.ri1.tS),s=[[i[0]-r,i[1]-r],[i[0]+r,i[1]+r]],u={x:{ri:e.ri1,kind:5,box:s},curve:t},f={x:{ri:e.ri2,kind:5,box:s},curve:n};c.push([u,f])}return c}if(r&&(s=s.filter((t=>t.tS>0))),0===s.length)return[];const u=Hl(o,i,s);if(void 0===u||0===u.length)return[];for(const e of u){const r={x:e[0],curve:t},o={x:e[1],curve:n};c.push([r,o])}return c}const qh=Mr,$h=Pr,Qh=Or(1);function Hh(t,n,e){const r=n.ps;if(0===t)return r[0],{x:{ri:{tS:t,tE:t,multiplicity:1},box:[r[0],r[0]],kind:e},curve:n};if(1===t){const o=r[r.length-1];return{x:{ri:{tS:t,tE:t,multiplicity:1},box:[o,o],kind:e},curve:n}}const{p:o,pE:i}=function(t,n){const e=qh(t,n),r=$h(t,[0,n]);if(4===t.length)return{p:e,pE:r.map((t=>9*Qh*t))};if(3===t.length)return{p:e,pE:r.map((t=>6*Qh*t))};if(2===t.length)return{p:e,pE:r.map((t=>3*Qh*t))};if(1===t.length)return{p:t[0],pE:[0,0]};throw new Error("The given bezier curve must be of order <= 3.")}(r,t);return{x:{ri:{tS:t,tE:t,multiplicity:1},box:[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]],kind:e},curve:n}}function Gh(t,n){if(n.next===t){if(t.next===n)return;[t,n]=[n,t]}const e=t.ps,r=n.ps;if(function(t,n){if(4===t.length)return Xl(t,n);if(3===t.length)return Pl(t,n);if(2===t.length)return function(t,n){const[e,r]=n,o=e.length,i=r.length,c=e[o-1],s=r[i-1],u=1===o&&1===i;{const{coeffs:{vₓ:n,vᵧ:o,v:i},errorBound:{v_:u}}=hc(t),f=al(e),l=al(r),h=dl(c),p=dl(s),a=dl(n[1]),d=dl(o[1]),g=h/3,v=p/3,m=n[1]*c,b=pl(f,n),_=a*g+2*dl(m),x=o[1]*s,I=pl(l,o),N=d*v+2*dl(x),S=sl(b,I),E=_+N+dl(S[1]),w=sl(S,i),M=E+u+dl(w[1]);if(gl*M<dl(hl(w)))return!1}{const n=function(t){return Qs(Ls(t))}(t);if(void 0===n)return u&&c===t[0][0]&&s===t[0][1];const{vₓ:o,vᵧ:i,v:f}=n,l=ul(e,o),h=ul(r,i),p=fl(fl(l,h),f);return 0===ll(p)}}(t,n);if(1===t.length){const e=D(n[0]),r=D(n[1]);return 1===e.length&&1===r.length&&e[0]===t[0][0]&&r[0]===t[0][1]}throw new Error("The given bezier curve must be of order <= 3")}(e,r[r.length-1].map((t=>[t])))){const i=Hl(e,r,[(o=1,{tS:o,tE:o,multiplicity:1})]);if(void 0===i||0===i.length)return;return[[{x:i[0][0],curve:t},Hh(1,n,1)]]}var o}const Rh=Math.abs;const jh=Math.abs,Uh=Or(1),Zh=K,Wh=R,Jh=rt,Kh=rt,tp=K,np=Z,ep=ae,rp=ge,op=pe,ip=oe,cp=se,sp=he,up=R,fp=pt,lp=2*Number.EPSILON,hp=Math.abs,pp=Or(1);function ap(t,n=!0){if(t.length<4)return[];const{coeffs:[e,r,o],errBound:[i,c,s]}=function(t){const{coeffs:[[n,e,r],[o,i,c]],errorBound:[[s,u],[f,l]]}=function(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=s-n,l=r-i,h=f+3*l,p=i+n,a=p-2*r,d=r-n,g=u-e,v=o-c,m=g+3*v,b=c+e,_=b-2*o,x=o-e;return{coeffs:[[h,3*a,3*d,n],[m,3*_,3*x,e]],errorBound:[[Rh(f)+6*Rh(l)+Rh(h),6*(Rh(p)+Rh(a)),6*Rh(d),0],[Rh(g)+6*Rh(v)+Rh(m),6*(Rh(b)+Rh(_)),6*Rh(x),0]]}}(t),h=jh(n),p=jh(e),a=jh(r),d=jh(o),g=jh(i),v=jh(c),m=e*o,b=n*i,_=n*c,x=r*o,I=e*c,N=r*i,S=u*d+p*f+jh(m),E=s*g+h*l+jh(b),w=s*v+jh(_),M=a*f+jh(x),y=u*v+jh(I),P=a*l+jh(N),T=m-b,C=jh(T),O=S+E+C,A=x-_,B=jh(A),z=M+w+B,Y=I-N,F=jh(Y),V=y+P+F,k=T*T,L=T*A,X=Y*T,D=A*A,q=X+D;return{coeffs:[k,L,q],errBound:[2*O*C+jh(k),O*B+C*z+jh(L),V*C+F*O+jh(X)+(2*B*z+jh(D))+jh(q)].map((t=>Uh*t))}}(t);if(hp(e)<=i){const[[n,e],[r,o],[i,c],[s,u]]=t,f=up(ep(s,n),np(3,ep(r,i))),l=fp(rp(i,n),-2*r),h=up(ep(u,e),np(3,ep(o,c))),p=fp(rp(c,e),-2*o);if(0===Tt(tp(l,h),tp(f,p)))return[]}const u=r*r,f=4*e*o,l=u-f,h=2*c*hp(r)+pp*u+(4*(i*hp(o)+hp(e)*s)+pp*hp(f))+pp*hp(l);if(l<-h)return[];if(l>h){const{est:t,err:u}=ee(l,h);let f;f=r>=0?-r-t:-r+t;const p=c+u+pp*hp(f),{est:a,err:d}=ve(f,2*e,p,2*i),{est:g,err:v}=ve(2*o,f,2*s,p);if(n){if(a+d<0||a-d>1||g+v<0||g-v>1)return[]}else if((a+d<0||a-d>1)&&(g+v<0||g-v>1))return[]}let[p,a,d]=function(t){const[[n,e,r],[o,i,c]]=Vs(t),s=Zh(e,o),u=Zh(n,i),f=Zh(n,c),l=Zh(r,o),h=Zh(e,c),p=Zh(r,i),a=Jh(s,u),d=Jh(l,f),g=Jh(h,p),v=Zh(a,a),m=Zh(a,d),b=Zh(a,g),_=Zh(d,d);return[v,m,Wh(b,_)]}(t);const g=Kh(tp(a,a),np(4,tp(p,d))),v=T(g);if(v<0)return[];if(v>0){const t=ne(Wt(g));let e;p=Wt(p),a=Wt(a),d=Wt(d),e=T(a)>=0?op(ip(a,t)):ip(op(a),t);let r=G(sp(e,cp(p))),o=G(sp(cp(d),e));if(n){if(r<-lp||r>1+lp||o<-lp||o>1+lp)return[]}else if((r<-lp||r>1+lp)&&(o<-lp||o>1+lp))return[];return[r,o]=r<o?[r,o]:[o,r],r>=0-lp&&r<=1+lp?o>=0-lp&&o<=1+lp?[r,o]:[r]:o>=0-lp&&o<=1+lp?[o]:[]}const m=Bt(p);if(T(a)*T(m)<0)return[];if(Tt(Ot(a),Ot(m))>0)return[];const b=Wt(a),_=Wt(m),x=sp(b,_),I=x[1]+x[0];return[I,I]}const dp=Number.EPSILON;function gp(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[6*(s-n+3*(r-i)),6*(i+n-2*r)],[6*(u-e+3*(o-c)),6*(c+e-2*o)]]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[[2*(i-2*r+n)],[2*(c-2*o+e)]]}if(t.length<=2)return[[0],[0]];throw new Error("The given bezier curve must be of order <= 3.")}const{orient2d:vp}=un;function mp(t){if(4===t.length)return 0===vp(t[0],t[1],t[2])&&0===vp(t[1],t[2],t[3])&&0===vp(t[0],t[2],t[3]);if(3===t.length)return 0===vp(t[0],t[1],t[2]);if(t.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}function bp(t){if(mp(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&Kl(t)&&(t=gu(t)),3===t.length){const n=function(t){const[[n,e],[r,o],[i,c]]=t,s=i-r,u=s-(r-n),f=c-o,l=f-(o-e);return[u*u+l*l,-(n*(u-r)-r*(s-r)+e*(l-o)-o*(f-o))]}(t);return{minima:[],maxima:Ni(n,0,1),inflections:[]}}const n=function(t){const[[n,e,r],[o,i,c]]=wr(t),[[s,u],[f,l]]=gp(t),[h,p]=function(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[6*(s-n+3*(r-i)),6*(u-e+3*(o-c))]}if(t.length<=3)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}(t),a=h*i,d=p*e,g=u*c,v=u*i,m=f*f,b=s*c,_=l*r,x=l*e,I=f*r,N=r*e,S=r*n,E=r*o,w=e*e,M=e*n,y=e*i,P=n*c,T=n*o,C=n*n,O=c*i,A=c*o,B=i*i,z=i*o,Y=o*o,F=h*c-p*r,V=u*r+l*c,k=g-_,L=r*r+c*c,X=y+P,D=A+B,q=S+w,$=e*o+n*i,Q=C-Y,H=M-z,G=N-O,R=r*i+e*c,j=A+D,U=S+q,Z=E+X,W=y+X,J=U-j,K=X+P,tt=E+y+P,nt=2*x+I;return{inflectionPoly:[s*o-f*n,u*o+s*i-l*n-f*e,v+b-x-I,g-_],otherExtremaPoly:[C*(a-3*d)+Y*(3*a-d)+2*(T*(h*e-p*i+3*(l*f-u*s))+3*s*f*H)+3*($*(m-s*s)+Q*(u*f+l*s)),h*(o*(U+3*D)+n*W)-p*(r*(3*C+Y)+e*(3*M+2*z)+n*j)+3*(u*(l*Q-u*T+2*(f*H-s*$))+s*(2*l*H+f*(2*(S-A)+(w-B))-s*tt)+l*(l*T+2*f*$)+m*Z),h*(2*r*$+e*K+i*(4*A+j))-p*(2*r*(3*M+z)+e*(w+2*A)+i*K)+3*(u*(2*(l*H-s*tt)+f*J-u*$)+s*(2*f*G-s*R)+l*(l*$+2*f*Z+s*J)+m*R),h*(r*(E+2*X)+c*(w+3*D))-p*(r*(3*q+j)+c*W)+3*(u*(l*J-u*Z+2*(f*G-s*R))+s*(r*(nt-s*c)-c*(2*l*i+f*c))+l*(l*X+r*(2*f*i+l*o))+f*c*nt),L*(a-d)+2*(N+O)*F-3*(V*(v+b-x-I)+(u*e+s*r+l*i+f*c)*k),F*L-3*V*k]}}(t),e=n.inflectionPoly,r=n.otherExtremaPoly,o=Ni(r,0,1),i=hi(r),c=[],s=[];for(let t=0;t<o.length;t++){const n=o[t],r=E(i,n);E(e,n)*r>=0?c.push(n):s.push(n)}return{minima:c,maxima:s,inflections:Ni(e,0,1)}}function _p(t,n){const[e,r]=wr(t),[o,i]=gp(t),c=E(e,n),s=E(r,n),u=E(o,n);return(c*E(i,n)-s*u)/Math.sqrt((c*c+s*s)**3)}const{abs:xp}=Math,Ip=y((function(t){const n=t.curves;let e=qr(n[0].ps).minY,r=n[0];for(let o=1;o<n.length;o++){const n=qr(t.curves[o].ps).minY,i=n.box[0][1],c=e.box[0][1];(i<c||i===c&&n.ts[0]>e.ts[0])&&(e=n,r=t.curves[o])}return{curve:r,y:e}}));function Np(t){const{curve:n,y:e}=Ip(t),r=e.ts;return r[0]<=0?[Hh(0,n,0),Hh(1,n.prev,0)]:r[1]>=1?[Hh(1,n,0),Hh(0,n.next,0)]:[{x:{ri:{tS:r[0],tE:r[1],multiplicity:1},kind:0,box:e.box},curve:n},{x:{ri:{tS:r[0],tE:r[1],multiplicity:1},kind:0,box:e.box},curve:n}]}function Sp(t,n,e){const r=e-(n-Math.floor(Math.log2(Math.abs(t))))+1;return r<=0?0:e>=53?t:q(t,r)}const{abs:Ep}=Math;function wp(t,n){let e=t.side-n.side;if(0!==e)return e;const r=t.sideX,o=n.sideX;e=r.ri.tS-o.ri.tS;const i=8*Number.EPSILON;return Ep(e)>=i?e:(r.compensated||(r.compensated=1,r.riExp=Ji(r.ri,r.getPExact())[0]),o.compensated||(o.compensated=1,o.riExp=Ji(o.ri,o.getPExact())[0]),e=Tt(r.riExp.tS,o.riExp.tS),0!==e?e:(e=n.dir-t.dir,0!==e?e:1===t.dir?t.idx-n.idx:n.idx-t.idx))}function Mp(t,n,e){const r=function(t,n){const e=[];for(const n of t)for(const t of n.curves)e.push(t);const r=il(e,(t=>yi(t.ps)[0][0]),(t=>yi(t.ps)[1][0]),function(t){return(n,e)=>{const r=n.ps,o=e.ps;if(2===r.length&&2===o.length)return function(t,n,e){let r=t.ps,o=n.ps;const i=yi(r),c=yi(o);if(t.next!==n&&n.next!==t){if(Yi(!0,i,c)){const r=Dh(t,n,e,!1);return r.length?r:void 0}return}if(n.next===t&&([t,n]=[n,t],[r,o]=[o,r]),0!==en(r[0],r[1],o[1]))return;if(!Yi(!1,i,c))return;let s;return s=a(r[0],r[1])>a(o[0],o[1])?[zo($o(r,o[1])[0].ri),1]:[0,zo($o(o,r[0])[0].ri)],[[Hh(1,t,5),Hh(0,n,5)],[Hh(s[0],t,5),Hh(s[1],n,5)]]}(n,e,t);if(n.next===e||e.next===n)return Yi(!1,yi(r),yi(o))&&Gl(jr(r),jr(o),!1)?e.next===n?Dh(e,n,t,!0):Dh(n,e,t,!0):Gh(n,e);let i=Yi(!0,yi(r),yi(o));return i?(i=Gl(jr(r),jr(o),!0),i?Dh(n,e,t,!1):void 0):void 0}}(n)),o=[];for(const t of r)for(const n of t.u)o.push(n);return o}(t,e),o=function(t){const n=[];for(const e of t)for(const t of e.curves){const e=t.ps,r=ap(e);if(0===r.length)continue;const o=r[0]===r[1]?3:2,i=r[0]-dp,c=r[0]+dp,s=r[1]-dp,u=r[1]+dp,f=Dr(e,[i,c]),l=Dr(e,[s,u]);n.push([{x:{ri:{tS:i,tE:c,multiplicity:1},box:f,kind:o},curve:t},{x:{ri:{tS:s,tE:u,multiplicity:1},box:l,kind:o},curve:t}])}return n}(t),i=function(t){const n=[];for(const e of t)for(const t of e.curves)n.push([Hh(1,t,4),Hh(0,t.next,4)]);return n}(t),{extremes:c,xs:s}=function(t){const n=new Map,e=[];for(const r of t){const t=Np(r);e.push(t),n.set(r,t)}return{extremes:n,xs:e}}(t),u=function(t,n){const e=[];for(const r of n)for(const n of r.curves){const r=n.ps,o=bp(r),{minima:i,maxima:c}=o,s=[0,1,...i,...c];for(let o of s)xp(_p(r,o))>1e7*2**-t&&e.push([Hh(o,n,7),Hh(o,n,7)])}return e}(e,t);let f=[...r,...o,...i,...s,...u];if("undefined"!=typeof _debug_){for(const t of r)_debug_.generated.elems.intersection.push(...t);for(const t of o)_debug_.generated.elems.intersection.push(...t);for(const t of i)_debug_.generated.elems.intersection.push(...t);for(const t of s)_debug_.generated.elems.intersection.push(...t);for(const t of u)_debug_.generated.elems.intersection.push(...t)}let l=f.map((t=>({xs:t,box:[[t[0].x.box[0][0]-n,t[0].x.box[0][1]-n],[t[0].x.box[1][0]+n,t[0].x.box[1][1]+n]],inOuts:void 0})));for(;;){const t=il(l,yp,Pp,Fi);if(!t.length)break;const n=new Map;Vi(n,t);const e=Xi(n),r=Di(l,e);l=[...qi(e),...r]}l=function(t){return t.filter((t=>{const n=t.xs;if(2===t.xs.length){const t=n[0];if(1===t.x.kind&&t.x.ri.multiplicity%2==0)return!1}for(const n of t.xs)if(4!==n.x.kind)return!0;return!1}))}(l),l=function(t,n,e){const r=Math.log2(e)-3;return t.map((t=>{const e=t.box.map((t=>t.map((t=>Sp(t,n,n-r)))));return{...t,box:e}}))}(l,e,n),"undefined"!=typeof _debug_&&(_debug_.generated.elems.container=l);let h=0;for(const t of l){for(const n of t.xs)n.container=t;let n;({inOuts:n,ioIdx:h}=el(t,h)),t.inOuts=n}f=f.filter((t=>void 0!==t[0].container)),function(t){const n=new Map;for(const e of t)for(const t of e){const e=t.curve.loop,r=n.get(e)||[];r.length||n.set(e,r),r.push(t)}for(const t of n){const n=t[1];if(!n||!n.length)continue;n.sort(((t,n)=>{let e=t.curve.idx-n.curve.idx;return 0!==e?e:(e=t.x.ri.tS-n.x.ri.tS,0!==e?e:void 0!==t.in_?-1:1)}));const e=n.length;for(let t=0;t<e;t++)n[t].next=n[(t+1)%e]}}(f);for(const t of l)for(const n of t.inOuts){if(-1===n.dir)continue;let t=n._x_;for(;t=t.next,void 0===t.in_;);n.next=t.in_,n.idx=n.next.idx}for(const t of l)t.inOuts.sort(wp);for(const t of l){const n=t.inOuts;let e=n[n.length-1];for(let t=0;t<n.length;t++){const r=n[t];r.prevAround=e,e.nextAround=r,e=r}}return{extremes:c,containers:l}}function yp(t){return t.box[0][0]}function Pp(t){return t.box[1][0]}function Tp(t){const n=t.inOuts,e=n[0],r=n[n.length-1];return 1===e.dir?(e.orientation=-1,e):(r.orientation=1,r)}function Cp(t=[],n){const e=[],r={beziers:t,curves:e,idx:n};if(!t.length)return r;let o,i=0;for(let n=0;n<t.length;n++){if(2===(c=t[n]).length?c[0][0]===c[1][0]&&c[0][1]===c[1][1]:3===c.length?c[0][0]===c[1][0]&&c[0][1]===c[1][1]&&c[1][1]===c[2][1]&&c[1][1]===c[2][1]:c[0][0]===c[1][0]&&c[0][1]===c[1][1]&&c[1][1]===c[2][1]&&c[1][1]===c[2][1]&&c[2][1]===c[3][1]&&c[2][1]===c[3][1])continue;const s={loop:r,ps:t[n],prev:o,next:void 0,idx:i};o&&(o.next=s),o=s,e.push(s),i++}var c;const s=e[e.length-1];return e[0].prev=s,s.next=e[0],s.ps[s.ps.length-1]=e[0].ps[0],r}function Op(t){if(!mp(t))return!1;const n=t.map((t=>t[0])),e=t.map((t=>t[1]));return!(Ap(n)&&Ap(e))}function Ap(t){return function(t){for(let n=1;n<t.length;n++)if(t[n-1]>t[n])return!1;return!0}(t)||function(t){for(let n=1;n<t.length;n++)if(t[n-1]<t[n])return!1;return!0}(t)}function Bp(t,n){const e=n/Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[e*t[0],e*t[1]]}function zp(t){for(let n=0;n<t.length-1;n++)for(let e=n+1;e<t.length;e++)if(t[n][0]===t[e][0]&&t[n][1]===t[e][1])return!1;return!0}const{abs:Yp}=Math;function Fp(t,n,e){if(void 0!==t&&!oh(t)){if(2===t.length)return t;if(3===t.length){if(zp(t))return mp(t)?[t[0],t[2]]:t;if(kp(t[0],t[2]))return;return[t[0],t[2]]}if(zp(t)){const r=Vp(t);if(void 0===r)return;return function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e][0]!==n[e][0]||t[e][1]!==n[e][1])return!1;return!0}(r,t)?t:Fp(r,n,e)}if(kp(t[0],t[3])){if(mp(t))return;return t}if(mp(t))return[t[0],t[3]];if(kp(t[0],t[1])&&kp(t[1],t[2])||kp(t[1],t[2])&&kp(t[2],t[3])||kp(t[0],t[1])&&kp(t[2],t[3]))return Fp([t[0],t[t.length-1]],n,e);if(kp(t[0],t[2])||kp(t[1],t[3])||kp(t[1],t[2]))return t;if(kp(t[0],t[1])){if(a(t[1],t[2])<4*n)return[t[0],t[2],t[2],t[3]];{const r=Bp(d(t[1],t[2]),2*n),o=I(t[1],r);return Vp([t[0],e(o),t[2],t[3]])}}if(kp(t[2],t[3])){if(a(t[2],t[1])<4*n)return[t[0],t[1],t[1],t[3]];{const r=Bp(d(t[2],t[1]),2*n),o=I(t[2],r);return Vp([t[0],t[1],e(o),t[3]])}}}}function Vp(t){return mp(t)?[t[0],t[3]]:Kl(t)?gu(t):t}function kp(t,n){return t[0]===n[0]&&t[1]===n[1]}function Lp(t){return t}function Xp(t,n,e,r=!1,o=!0){const i=function(t,n,e=!0){const r=2**t*2**-n,o=e?function(t,n){return e=>[Sp(e[0],t,n),Sp(e[1],t,n)]}(t,n):Lp;return t=>{const n=[];for(let e=0;e<t.length;e++){let i=t[e].slice();const c=n[n.length-1],s=c?c[c.length-1]:o(t[0][0]);i[0]=s,i=i.map((t=>o(t))),Op(i)&&(i=[i[0],i[i.length-1]]),i=Fp(i,r,o),void 0!==i&&n.push(i)}const e=n.length;if(!e)return[];const i=n[e-1];return i[i.length-1]=n[0][0],n}}(e,n,o);let c=t.slice();return c=r?function(t,n,e,r=.02){const o=[];for(const i of t){const t=[];for(const o of i){const i=o.map((t=>t.map((t=>{let o,i=0,c=0,s=0;for(;!(++c>10);){i=(t+Math.random())*(1+(Math.random()-.7)*r),i=Sp(i,e,n);const c=ot(i);c>s&&(s=c,o=i)}return o}))));t.push(i)}o.push(t)}return o}(c,n,e,1):c,c=c.map(i),c=c.filter((t=>t.length>0)),c}const Dp=y((t=>{let n=0;for(const e of t)for(const t of e)for(const e of t)for(const t of e){const e=Math.abs(t);e>n&&(n=e)}return n}));function qp(t,n){const e=[],r=t.length-1;for(let n=0;n<r+1;n++)e.push(t[n]/(r+1-n));return e.push(n),e}const $p=Ko;function Qp(t,n){const e=t.length-1,r=n.length-1,o=e-r,i=o<0?+o:0,c=o>0?-o:0,s=Math.max(e,r),u=[];for(let e=0;e<s+1;e++){const r=t[e+i]||0,o=n[e+c]||0;u.push(r+o)}return $p(u)}function Hp(t){let n=0;for(const e of t.curves){const t=e.ps,[r,o]=Si(t),[i,c]=wr(t);n+=E(qp(Qp(ni(r,c),tr(ni(o,i))),0),1)}return-n/2}function Gp(t){return[t[1],-t[0]]}const Rp=y((t=>!!vn(t)&&gn(t).isDull));function jp(t,n){return vn(n)&&Rp(n)?-b(Gp(gn(n).tangents[0]),N(d(n.p,t.center))):0}const Up=function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=c-n*(c-u),a=u-n*(u-l),d=p-n*(p-a),g=s-n*(s-f),v=f-n*(f-h),m=g-n*(g-v);return[[c,s],[p,g],[d,m],[d-n*(d-(a-n*(a-(l-n*(l-i[0]))))),m-n*(m-(v-n*(v-(h-n*(h-i[1])))))]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],d=c-n*(c-u),g=u-n*(u-l),v=l-n*(l-p),m=d-n*(d-g),b=g-n*(g-v),_=s-n*(s-f),x=f-n*(f-h),I=h-n*(h-a),N=_-n*(_-x),S=x-n*(x-I);return[[m-n*(m-b),N-n*(N-S)],[b,S],[v,I],[p,a]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=t[3],s=r[0],u=r[1],f=o[0],l=o[1],h=i[0],p=i[1],a=n*n,d=n*a,g=e*e,v=e*g,m=n*e,b=s-f,_=h-f,x=b+_,I=n*b,N=e*b,S=c[0]-s-3*_,E=u-l,w=p-l,M=E+w,y=n*E,P=e*E,T=c[1]-u-3*w;return[[d*S+(3*n*(n*x-b)+s),d*T+(3*n*(n*M-E)+u)],[m*(n*S+2*x)+(a*x+s-(N+2*I)),m*(n*T+2*M)+(a*M+u-(P+2*y))],[m*(e*S+2*x)+(g*x+s-(2*N+I)),m*(e*T+2*M)+(g*M+u-(2*P+y))],[v*S+(3*e*(e*x-b)+s),v*T+(3*e*(e*M-E)+u)]]}(t,n,e)},Zp=function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=n*n,l=i-s,h=c-u;return[[i,c],[-n*l+i,-n*h+c],[f*(l+(o[0]-s))-(2*n*l-i),f*(h+(o[1]-u))-(2*n*h-c)]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],h=n*n,p=i-s,a=f-s,d=c-u,g=l-u;return[[h*(p+a)-(2*n*p-i),h*(d+g)-(2*n*d-c)],[n*a+s,n*g+u],[f,l]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=r[0],s=r[1],u=o[0],f=o[1],l=n*n,h=e*e,p=n*e,a=c-u,d=a+(i[0]-u),g=s-f,v=g+(i[1]-f);return[[l*d-(2*n*a-c),l*v-(2*n*g-s)],[p*d-(a*(e+n)-c),p*v-(g*(e+n)-s)],[h*d-(2*e*a-c),h*v-(2*e*g-s)]]}(t,n,e)},Wp=function(t,n,e){return 0===n?1===e?t:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1];return[[o,i],[n*(r[0]-o)+o,n*(r[1]-i)+i]]}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1];return[[n*(c-o)+o,n*(s-i)+i],[c,s]]}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],c=r[1],s=o[0],u=o[1];return[[n*(s-i)+i,n*(u-c)+c],[e*(s-i)+i,e*(u-c)+c]]}(t,n,e)};function Jp(t,n,e){if(4===t.length)return Up(t,n,e);if(3===t.length)return Zp(t,n,e);if(2===t.length)return Wp(t,n,e);if(1===t.length)return t;throw new Error("The given bezier curve must be of order <= 3.")}function Kp(t){return t[0]*t[0]+t[1]*t[1]}function ta(t,n,e){return t[0]*(n[1]*e[2]-n[2]*e[1])-t[1]*(n[0]*e[2]-n[2]*e[0])+t[2]*(n[0]*e[1]-n[1]*e[0])}function na(t){const n=t[0],e=t[1],r=t[2],o=Kp,i=.5*ta([o(n),n[1],1],[o(e),e[1],1],[o(r),r[1],1]),c=.5*ta([n[0],o(n),1],[e[0],o(e),1],[r[0],o(r),1]),s=ta([n[0],n[1],1],[e[0],e[1],1],[r[0],r[1],1]);return[i/s,c/s]}function ea(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}const ra=ae,oa=oe,ia=te,ca=le,sa=se,ua=ue,fa=ie;function la(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],[d,g]=n,v=ra(c,d),m=ra(u,d),b=ra(l,d),_=ra(p,d),x=ra(s,g),I=ra(f,g),N=ra(h,g),S=ra(a,g),E=ca(v,v),w=ia(6,ca(v,m)),M=ia(6,ca(v,b)),y=sa(ca(v,_)),P=ia(9,ca(m,m)),T=ia(18,ca(m,b)),C=ia(6,ca(m,_)),O=ia(9,ca(b,b)),A=ia(6,ca(b,_)),B=ca(_,_),z=ca(x,x),Y=ia(6,ca(x,I)),F=ia(6,ca(x,N)),V=sa(ca(x,S)),k=ia(9,ca(I,I)),L=ia(18,ca(I,N)),X=ia(6,ca(I,S)),D=ia(9,ca(N,N)),q=ia(6,ca(N,S)),$=ca(S,S),Q=oa(C,O),H=oa(y,T),G=oa(M,P),R=oa(X,D),j=oa(V,L),U=oa(F,k);return[ia(6,oa(oa(oa(oa(fa(B,A),fa(E,w)),Q),fa(G,H)),oa(oa(oa(fa($,q),fa(z,Y)),R),fa(U,j)))),ia(5,oa(fa(oa(oa(A,ia(5,w)),ia(3,H)),sa(oa(oa(Q,sa(G)),ia(3,E)))),fa(oa(oa(q,ia(5,Y)),ia(3,j)),sa(oa(oa(R,sa(U)),ia(3,z)))))),ua(oa(fa(fa(Q,ia(3,fa(H,sa(G)))),ia(5,fa(sa(w),ia(3,E)))),fa(fa(R,ia(3,fa(j,sa(U)))),ia(5,fa(sa(Y),ia(3,z)))))),ia(3,oa(fa(H,sa(fa(sa(G),ia(5,fa(w,sa(E)))))),fa(j,sa(fa(sa(U),ia(5,fa(Y,sa(z)))))))),sa(oa(fa(G,ia(5,fa(w,ia(3,E)))),fa(U,ia(5,fa(Y,ia(3,z)))))),oa(fa(w,ia(6,E)),fa(Y,ia(6,z)))]}const ha=ae,pa=oe,aa=te,da=le,ga=se,va=ie,ma=ue;function ba(t,n){const[[e,r],[o,i],[c,s]]=t,[u,f]=n,l=ha(e,u),h=ha(o,u),p=ha(c,u),a=ha(r,f),d=ha(i,f),g=ha(s,f),v=da(l,l),m=da(l,h),b=da(l,p),_=da(h,h),x=da(h,p),I=da(p,p),N=da(a,a),S=da(a,d),E=da(a,g),w=da(d,d),M=da(d,g),y=da(g,g),P=pa(E,ga(w)),T=pa(b,ga(_));return[pa(va(pa(pa(y,N),ga(P)),ma(pa(M,S))),va(pa(pa(I,v),ga(T)),ma(pa(x,m)))),aa(3,pa(pa(va(M,P),va(aa(3,S),N)),pa(va(x,T),va(aa(3,m),v)))),pa(va(P,aa(3,va(ga(S),N))),va(T,aa(3,va(ga(m),v)))),pa(va(S,N),va(m,v))]}const _a=de,xa=oe,Ia=fe,Na=ie;function Sa(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=e-c,f=o-c,l=r-s,h=i-s,p=_a(u,u),a=_a(u,f),d=_a(f,f),g=_a(l,l),v=_a(l,h),m=_a(h,h),b=xa(a,v),_=xa(g,p);return[xa(xa(d,m),xa(_,Ia(b))),Na(b,_)]}const Ea=P,wa=cn,Ma=Z,ya=At,Pa=Bt,Ta=on,Ca=rt,Oa=P,Aa=cn,Ba=Z,za=At,Ya=on,Fa=rt;function Va(t){const n=[];for(let e=0;e<t.length;e++)n.push(4*t[e]);return n}const ka=P,La=cn,Xa=Bt,Da=on,qa=rt,$a=Math.abs;function Qa(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=$a(e[0]),s=$a(e[1]),u=$a(r[0]),f=$a(r[1]),l=$a(o[0]),h=$a(o[1]),p=$a(i[0]),a=$a(i[1]),d=$a(n[0]),g=$a(n[1]),v=c+d,m=u+d,b=l+d,_=p+d,x=s+g,I=f+g,N=h+g,S=a+g,E=v*v,w=6*v*m,M=6*b*_,y=x*x,P=6*x*I,T=6*N*S,C=6*m*_+9*b*b,O=2*v*_+18*m*b,A=6*v*b+9*m*m,B=6*I*S+9*N*N,z=2*x*S+18*I*N,Y=6*x*N+9*I*I;return[6*(_*_+M+(E+w)+C+(A+O)+(S*S+T+(y+P)+B+(Y+z))),5*(M+5*w+3*O+2*(C+2*A+3*E)+(T+5*P+3*z+2*(B+2*Y+3*y))),4*(C+3*(O+2*A)+5*(2*w+3*E)+(B+3*(z+2*Y)+5*(2*P+3*y))),3*(O+2*(2*A+5*(w+2*E))+(z+2*(2*Y+5*(P+2*y)))),2*(A+5*(w+3*E)+(Y+5*(P+3*y))),w+6*E+(P+6*y)]}function Ha(t,n){const e=t[0],r=t[1],o=t[2],i=$a(e[0]),c=$a(e[1]),s=$a(r[0]),u=$a(r[1]),f=$a(o[0]),l=$a(o[1]),h=$a(n[0]),p=$a(n[1]),a=i+h,d=s+h,g=f+h,v=c+p,m=u+p,b=l+p,_=a*a,x=a*d,I=d*g,N=v*v,S=v*m,E=m*b,w=v*b+m*m*2,M=a*g+d*d*2;return[b*b+N+2*w+4*(E+S)+(g*g+_+2*M+4*(I+x)),3*(E+w+(3*S+N)+(I+M+(3*x+_))),w+3*(2*S+N)+(M+3*(2*x+_)),S+N+(x+_)]}function Ga(t,n){const e=t[0],r=t[1],o=$a(e[0]),i=$a(e[1]),c=$a(r[0]),s=$a(r[1]),u=$a(n[0]),f=$a(n[1]),l=o+u,h=c+u,p=i+f,a=s+f,d=l*h+p*a,g=p*p+l*l;return[h*h+a*a+2*d+g,d+g]}const Ra=Number.EPSILON/2,ja=Ra*Ra;function Ua(t){const n=t*Ra;return n/(1-n)}function Za(t){const n=t*ja;return n/(1-n)}Ua(1),Za(3);const Wa=Za(6);function Ja(t,n){if(0===n)return t[0];if(1===n)return t[t.length-1];if(4===t.length){const[[e,r],[o,i],[c,s],[u,f]]=t,l=e+(o-e)*n,h=o+(c-o)*n,p=l+(h-l)*n,a=r+(i-r)*n,d=i+(s-i)*n,g=a+(d-a)*n;return[p+(h+(c+(u-c)*n-h)*n-p)*n,g+(d+(s+(f-s)*n-d)*n-g)*n]}if(3===t.length){const[[e,r],[o,i],[c,s]]=t,u=e+(o-e)*n,f=r+(i-r)*n;return[u+(o+(c-o)*n-u)*n,f+(i+(s-i)*n-f)*n]}if(2===t.length){const[[e,r],[o,i]]=t;return[e+(o-e)*n,r+(i-r)*n]}if(1===t.length)return t[0];throw new Error("The given bezier curve must be of order <= 3.")}const Ka=Math.abs;function td(t,n){if(0===n[0]&&0===n[1])return[0,0];if(0===n[0]&&1===n[1])return[0,0];const e=Ka(n[1]);if(4===t.length){const[[n,r],[o,i],[c,s],[u,f]]=t,l=Ka(n),h=Ka(r),p=Ka(o),a=Ka(i),d=Ka(c),g=Ka(s),v=l+(p+l)*e,m=p+(d+p)*e,b=v+(m+v)*e,_=h+(a+h)*e,x=a+(g+a)*e,I=_+(x+_)*e;return[b+(m+(d+(Ka(u)+d)*e+m)*e+b)*e,I+(x+(g+(Ka(f)+g)*e+x)*e+I)*e]}if(3===t.length){const[[n,r],[o,i],[c,s]]=t,u=Ka(n),f=Ka(r),l=Ka(o),h=Ka(i),p=u+(l+u)*e,a=f+(h+f)*e;return[p+(l+(Ka(c)+l)*e+p)*e,a+(h+(Ka(s)+h)*e+a)*e]}if(2===t.length){const[[n,r],[o,i]]=t,c=Ka(n),s=Ka(r);return[c+(Ka(o)+c)*e,s+(Ka(i)+s)*e]}if(1===t.length)return[0,0];throw new Error("The given bezier curve must be of order <= 3.")}const nd=Math.abs,ed=[[0,0],[0,0],[0,0],[0,0]];function rd(t,n,e){return 0===n?1===e?{ps:t,_ps:ed}:function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],d=c-n*(c-u),g=u-n*(u-l),v=d-n*(d-g),m=v-n*(v-(g-n*(g-(l-n*(l-p))))),b=s-n*(s-f),_=f-n*(f-h),x=b-n*(b-_),I=x-n*(x-(_-n*(_-(h-n*(h-a))))),N=nd(n),S=nd(c),E=nd(u),w=nd(l),M=nd(p),y=nd(s),P=nd(f),T=nd(h),C=S+N*(S+E),O=E+N*(E+w),A=C+N*(C+O),B=y+N*(y+P),z=P+N*(P+T),Y=B+N*(B+z);return{ps:[[c,s],[d,b],[v,x],[m,I]],_ps:[[0,0],[C,B],[A,Y],[A+N*(A+(O+N*(O+(w+N*(w+M))))),Y+N*(Y+(z+N*(z+(T+N*(T+nd(a))))))]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],d=c-n*(c-u),g=u-n*(u-l),v=l-n*(l-p),m=d-n*(d-g),b=g-n*(g-v),_=m-n*(m-b),x=s-n*(s-f),I=f-n*(f-h),N=h-n*(h-a),S=x-n*(x-I),E=I-n*(I-N),w=S-n*(S-E),M=nd(n),y=nd(c),P=nd(u),T=nd(l),C=nd(p),O=nd(s),A=nd(f),B=nd(h),z=y+M*(y+P),Y=P+M*(P+T),F=T+M*(T+C),V=z+M*(z+Y),k=Y+M*(Y+F),L=O+M*(O+A),X=A+M*(A+B),D=B+M*(B+nd(a)),q=L+M*(L+X),$=X+M*(X+D);return{ps:[[_,w],[b,E],[v,N],[p,a]],_ps:[[V+M*(V+k),q+M*(q+$)],[k,$],[F,D],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=t[3],s=r[0],u=r[1],f=o[0],l=o[1],h=i[0],p=i[1],a=n*n,d=n*a,g=e*e,v=e*g,m=n*e,b=s-f,_=h-f,x=c[0]-s,I=b+_,N=n*b,S=e*b,E=x-3*_,w=u-l,M=p-l,y=c[1]-u,P=w+M,T=n*w,C=e*w,O=y-3*M,A=d*E+(3*n*(n*I-b)+s),B=m*(n*E+2*I)+(a*I+s-(S+2*N)),z=m*(e*E+2*I)+(g*I+s-(2*S+N)),Y=v*E+(3*e*(e*I-b)+s),F=d*O+(3*n*(n*P-w)+u),V=m*(n*O+2*P)+(a*P+u-(C+2*T)),k=m*(e*O+2*P)+(g*P+u-(2*C+T)),L=v*O+(3*e*(e*P-w)+u),X=nd(n),D=nd(e),q=nd(m),$=nd(d),Q=nd(v),H=nd(s),G=nd(f),R=H+G,j=nd(h)+G,U=R+j,Z=X*R,W=D*R,J=nd(x)+3*j,K=nd(u),tt=nd(l),nt=K+tt,et=nd(p)+tt,rt=nt+et,ot=X*nt,it=D*nt,ct=nd(y)+3*et;return{ps:[[A,F],[B,V],[z,k],[Y,L]],_ps:[[$*J+(3*X*(X*U+R)+H),$*ct+(3*X*(X*rt+nt)+K)],[q*(X*J+2*U)+(a*U+H+(W+2*Z)),q*(X*ct+2*rt)+(a*rt+K+(it+2*ot))],[q*(D*J+2*U)+(g*U+H+(2*W+Z)),q*(D*ct+2*rt)+(g*rt+K+(2*it+ot))],[Q*J+(3*D*(D*U+R)+H),Q*ct+(3*D*(D*rt+nt)+K)]]}}(t,n,e)}const od=Math.abs,id=[[0,0],[0,0],[0,0]];function cd(t,n,e){return 0===n?1===e?{ps:t,_ps:id}:function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],h=n*n,p=i-s,a=c-u,d=[[i,c],[-n*p+i,-n*a+c],[h*(p+(f-s))-(2*n*p-i),h*(a+(l-u))-(2*n*a-c)]],g=od(n),v=od(i),m=od(s),b=od(f),_=v+m,x=od(c),I=od(u),N=x+I;return{ps:d,_ps:[[0,0],[g*_+v,g*N+x],[h*(_+(b+m))+(2*g*_+v),h*(N+(od(l)+I))+(2*g*N+x)]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],h=n*n,p=i-s,a=f-s,d=c-u,g=l-u,v=[[h*(p+a)-(2*n*p-i),h*(d+g)-(2*n*d-c)],[n*a+s,n*g+u],[f,l]],m=od(n),b=od(i),_=od(s),x=b+_,I=od(f)+_,N=od(c),S=od(u),E=N+S;return{ps:v,_ps:[[h*(x+I)+(2*m*x+b),h*(E+(od(l)+S))+(2*m*E+N)],[m*I+_,0],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=t[2],c=r[0],s=r[1],u=o[0],f=o[1],l=i[0],h=i[1],p=n*n,a=e*e,d=n*e,g=c-u,v=g+(l-u),m=s-f,b=m+(h-f),_=p*v-(2*n*g-c),x=d*v-(g*(e+n)-c),I=a*v-(2*e*g-c),N=p*b-(2*n*m-s),S=d*b-(m*(e+n)-s),E=a*b-(2*e*m-s),w=od(n),M=od(e),y=od(d),P=od(c),T=od(u),C=P+T,O=C+od(l)+T,A=od(s),B=od(f),z=A+B,Y=z+od(h)+B;return{ps:[[_,N],[x,S],[I,E]],_ps:[[p*O+(2*w*C+P),p*Y+(2*w*z+A)],[y*O+(C*(M+w)+P),y*b+(z*(M+w)+A)],[a*O+(2*M*C+P),a*Y+(2*M*z+A)]]}}(t,n,e)}const sd=Math.abs,ud=[[0,0],[0,0]];const fd=Number.EPSILON/2,ld=Ua(1);function hd(t,n){return n[0]!==n[1]?4===t.length?function(t,n){const{ps:e,_ps:r}=rd(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=e[2][0],s=e[3][0],u=9*fd*r[0][0],f=9*fd*r[1][0],l=9*fd*r[2][0],h=9*fd*r[3][0],p=e[0][1],a=e[1][1],d=e[2][1],g=e[3][1],v=9*fd*r[0][1],m=9*fd*r[1][1],b=9*fd*r[2][1],_=9*fd*r[3][1],x=Math.min(o-u,i-f,c-l,s-h),I=Math.max(o+u,i+f,c+l,s+h);return[[x,Math.min(p-v,a-m,d-b,g-_)],[I,Math.max(p+v,a+m,d+b,g+_)]]}(t,n):3===t.length?function(t,n){const{ps:e,_ps:r}=cd(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=e[2][0],s=5*fd*r[0][0],u=5*fd*r[1][0],f=5*fd*r[2][0],l=e[0][1],h=e[1][1],p=e[2][1],a=5*fd*r[0][1],d=5*fd*r[1][1],g=5*fd*r[2][1],v=Math.min(o-s,i-u,c-f),m=Math.max(o+s,i+u,c+f);return[[v,Math.min(l-a,h-d,p-g)],[m,Math.max(l+a,h+d,p+g)]]}(t,n):function(t,n){const{ps:e,_ps:r}=function(t,n,e){return 0===n?1===e?{ps:t,_ps:ud}:function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=[[o,i],[n*(c-o)+o,n*(s-i)+i]],f=sd(n),l=sd(o),h=sd(c),p=sd(i);return{ps:u,_ps:[[0,0],[f*(h+l)+l,f*(sd(s)+p)+p]]}}(t,e):1===e?function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=[[n*(c-o)+o,n*(s-i)+i],[c,s]],f=sd(n),l=sd(o),h=sd(c),p=sd(i);return{ps:u,_ps:[[f*(h+l)+l,f*(sd(s)+p)+p],[0,0]]}}(t,n):function(t,n,e){const r=t[0],o=t[1],i=r[0],c=r[1],s=o[0],u=o[1],f=[[n*(s-i)+i,n*(u-c)+c],[e*(s-i)+i,e*(u-c)+c]],l=sd(n),h=sd(e),p=sd(i),a=sd(s),d=sd(c),g=sd(u);return{ps:f,_ps:[[l*(a+p)+p,l*(g+d)+d],[h*(a+p)+p,h*(g+d)+d]]}}(t,n,e)}(t,n[0],n[1]),o=e[0][0],i=e[1][0],c=3*fd*r[0][0],s=3*fd*r[1][0],u=e[0][1],f=e[1][1],l=3*fd*r[0][1],h=3*fd*r[1][1],p=Math.min(o-c,i-s),a=Math.max(o+c,i+s);return[[p,Math.min(u-l,f-h)],[a,Math.max(u+l,f+h)]]}(t,n):function(t,n){const e=t[0],r=t[t.length-1];if(0===n)return[e,e];if(1===n)return[r,r];const o=Ja(t,n);let i;if(4===t.length)i=td(t,[0,n]).map((t=>8*ld*t));else if(3===t.length)i=td(t,[0,n]).map((t=>5*ld*t));else if(2===t.length)i=td(t,[0,n]).map((t=>2*ld*t));else if(1===t.length)return[o,o];return[[o[0]-i[0],o[1]-i[1]],[o[0]+i[0],o[1]+i[1]]]}(t,n[0])}const pd=Number.EPSILON/2,ad=pd*pd;function dd(t){const n=t*ad;return n/(1-n)}const gd=te,vd=oe,{abs:md}=Math,bd=dd(3);function _d(t,n,e){const r=t.length-1,o=[t[0]];let i=n[0];const c=[i];for(let s=1;s<r;s++){const r=o[s-1],u=e*r[1],f=md(e)*i+md(u),l=t[s];i=n[s]+f+md(l[1]+u);const h=vd(l,gd(e,r));o.push(h),c.push(i)}return{coeffs:o,errBound:c.map((t=>bd*t))}}const xd=sn,Id=on;function Nd(t,n){const e=t.length-1,r=[t[0]];for(let o=1;o<e;o++)r.push(Id(t[o],xd(n,r[o-1])));return r}const Sd=G,Ed=P,wd=cn,Md=on,yd=Number.EPSILON,Pd=dd(3),{sqrt:Td}=Math;function Cd(t,n,[e,r]=[0,1],o=void 0,i=void 0,c=!1,s=0){const u=t.ps,f=0===s&&t===o;let{polyDd:l,polyE:h,getPolyExact:p}=function(t,n){const e=t.length-1;if(3===e)return{polyDd:la(t,n),polyE:Qa(t,n).map((t=>10*Wa*t)),getPolyExact:()=>function(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],[d,g]=n,v=Ea(c,d),m=Ea(u,d),b=Ea(l,d),_=Ea(p,d),x=Ea(s,g),I=Ea(f,g),N=Ea(h,g),S=Ea(a,g),E=wa(v,v),w=Ma(6,wa(v,m)),M=Ma(6,wa(v,b)),y=ya(wa(v,_)),P=Ma(9,wa(m,m)),T=Ma(18,wa(m,b)),C=Ma(6,wa(m,_)),O=Ma(9,wa(b,b)),A=Ma(6,wa(b,_)),B=wa(_,_),z=wa(x,x),Y=Ma(6,wa(x,I)),F=Ma(6,wa(x,N)),V=ya(wa(x,S)),k=Ma(9,wa(I,I)),L=Ma(18,wa(I,N)),X=Ma(6,wa(I,S)),D=Ma(9,wa(N,N)),q=Ma(6,wa(N,S)),$=wa(S,S),Q=Ta(C,O),H=Ta(y,T),G=Ta(M,P),R=Ta(X,D),j=Ta(V,L),U=Ta(F,k),Z=Ca(Ta(Ta(B,E),Ta(Q,G)),Ta(Ta(H,A),w)),W=Ca(Ta(Ta($,z),Ta(R,U)),Ta(Ta(j,q),Y)),J=Ma(6,Ta(Z,W)),K=Ta(Pa(Ta(Ta(Q,ya(G)),Ma(3,E))),Ta(Ta(A,Ma(3,H)),Ma(5,w))),tt=Ta(Pa(Ta(Ta(R,ya(U)),Ma(3,z))),Ta(Ta(q,Ma(3,j)),Ma(5,Y))),nt=Ma(5,Ta(K,tt)),et=Ta(Ta(Q,Ma(3,Ca(ya(G),H))),Ma(5,Ca(Ma(3,E),ya(w)))),rt=Ta(Ta(R,Ma(3,Ca(ya(U),j))),Ma(5,Ca(Ma(3,z),ya(Y)))),ot=Ma(4,Ta(et,rt)),it=Ca(H,ya(Ca(ya(G),Ma(5,Ca(w,ya(E)))))),ct=Ca(j,ya(Ca(ya(U),Ma(5,Ca(Y,ya(z)))))),st=Ma(3,Ta(it,ct)),ut=Ca(G,Ma(5,Ca(w,Ma(3,E)))),ft=Ca(U,Ma(5,Ca(Y,Ma(3,z)))),lt=ya(Ta(ut,ft)),ht=Ca(w,Ma(6,E)),pt=Ca(Y,Ma(6,z));return[J,nt,ot,st,lt,Ta(ht,pt)]}(t,n)};if(2===e)return{polyDd:ba(t,n),polyE:Ha(t,n).map((t=>8*Wa*t)),getPolyExact:()=>function(t,n){const[[e,r],[o,i],[c,s]]=t,[u,f]=n,l=Oa(e,u),h=Oa(o,u),p=Oa(c,u),a=Oa(r,f),d=Oa(i,f),g=Oa(s,f),v=Aa(l,l),m=Aa(l,h),b=Aa(l,p),_=Aa(h,h),x=Aa(h,p),I=Aa(p,p),N=Aa(a,a),S=Aa(a,d),E=Aa(a,g),w=Aa(d,d),M=Aa(d,g),y=Aa(g,g),P=Ya(E,za(w)),T=Ya(b,za(_)),C=Ya(Fa(Ya(I,za(T)),Va(Ya(x,m))),v),O=Ya(Fa(Ya(y,za(P)),Va(Ya(M,S))),N),A=Ya(C,O),B=Ya(Fa(x,T),Fa(Ba(3,m),v)),z=Ya(Fa(M,P),Fa(Ba(3,S),N)),Y=Ba(3,Ya(B,z)),F=Fa(P,Ba(3,Fa(za(S),N))),V=Fa(T,Ba(3,Fa(za(m),v))),k=Ya(F,V),L=Fa(S,N),X=Fa(m,v);return[A,Y,k,Ya(L,X)]}(t,n)};if(1===e)return{polyDd:Sa(t,n),polyE:Ga(t,n).map((t=>6*Wa*t)),getPolyExact:()=>function(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=ka(e,c),f=ka(o,c),l=ka(r,s),h=ka(i,s),p=La(u,u),a=La(u,f),d=La(f,f),g=La(l,l),v=La(l,h),m=La(h,h),b=Da(a,v),_=Da(g,p);return[Da(Da(d,m),Da(Xa(b),_)),qa(b,_)]}(t,n)};if(0===e)return{polyDd:[[0,1]],polyE:[0],getPolyExact:()=>[[1]]};throw new Error("The given bezier curve must be of order <= 3")}(u,n);const a=f?_d(l,h.map((t=>t/Pd)),i):void 0,d=c&&f?_d(a.coeffs,a.errBound.map((t=>t/Pd)),i):void 0,g=c&&f?_d(d.coeffs,d.errBound.map((t=>t/Pd)),i):void 0,{polyDd:v,polyE:m,getPolyExact:b}=void 0!==g?{polyDd:g.coeffs,polyE:g.errBound.map((t=>t/Pd)),getPolyExact:()=>Nd(Nd(Nd(p(),i),i),i)}:void 0!==a?{polyDd:a.coeffs,polyE:a.errBound.map((t=>t/Pd)),getPolyExact:()=>Nd(p(),i)}:{polyDd:l,polyE:h,getPolyExact:p},_=Nr(v,e,r,m,b),x=1===i&&t===o.next||0===i&&t===o,I=0===i&&t===o.prev||1===i&&t===o;0===e?x||_.push({tS:0,tE:0,multiplicity:1}):1===e?I||_.push({tS:1,tE:1,multiplicity:1}):_.push({tS:e,tE:e,multiplicity:1}),0===r?x||_.push({tS:0,tE:0,multiplicity:1}):1===r?I||_.push({tS:1,tE:1,multiplicity:1}):_.push({tS:r,tE:r,multiplicity:1});const N=_.map((o=>{const{tS:i,tE:c}=o;if(c<e||i>r)return;const s=(i+c)/2,f=s<0?0:s>1?1:s,l=hd(u,[i,c]),h=function(t){const n=t[0],e=t[1];return[(n[0]+e[0])/2,(n[1]+e[1])/2]}(l),p=function(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=n[0],f=n[1];let l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(const[t,n]of[[o,i],[o,s],[c,i],[c,s]]){const e=Ed(t,u),r=Ed(n,f),o=Md(wd(e,e),wd(r,r)),i=Sd(o),c=i*(1-yd),s=i*(1+yd);c<=l&&(l=c),s>=h&&(h=s)}return[l,h]}(l,n),a=0===f?1:f;return{curve:0===f?t.prev:t,p:h,t:a,d:(Td(p[0])+Td(p[1]))/2,dSquaredI:p,box:l}}));return N.filter((t=>void 0!==t))}const Od=a;function Ad(t,n){const e=t[0],r=t[1],o=e[0],i=e[1],c=r[0],s=r[1],u=n[0],f=n[1];return u<o?f<i?Od(t[0],n):f>s?Od([o,s],n):(o-u)**2:u>c?f<i?Od([c,i],n):f>s?Od(t[1],n):(u-c)**2:f<i?(i-f)**2:f>s?(f-s)**2:0}function Bd(t){const n=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[0]<e[0]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minX:r,maxX:o};const[i]=w(t),c=Er(i,0,1);for(let n=0;n<c.length;n++){const e=c[n],i=[e.tS,e.tE],s=hd(t,i);s[0][0]<r.box[0][0]&&(r={ts:i,box:s}),s[1][0]>o.box[0][0]&&(o={ts:i,box:s})}return{minX:r,maxX:o}}(t),e=function(t){const n=t[0],e=t[t.length-1];let r,o;if(n[1]<e[1]?(r={ts:[0,0],box:[n,n]},o={ts:[1,1],box:[e,e]}):(r={ts:[1,1],box:[e,e]},o={ts:[0,0],box:[n,n]}),2===t.length)return{minY:r,maxY:o};const[,i]=w(t),c=Er(i,0,1);for(let n=0;n<c.length;n++){const e=c[n],i=[e.tS,e.tE],s=hd(t,i);s[0][1]<r.box[0][1]&&(r={ts:i,box:s}),s[1][1]>o.box[0][1]&&(o={ts:i,box:s})}return{minY:r,maxY:o}}(t);return[[n.minX.box[0][0],e.minY.box[0][1]],[n.maxX.box[1][0],e.maxY.box[1][1]]]}const zd=y(Bd);function Yd(t){let n=0;for(let e=0;e<t.length-1;e++)n+=Qr(t[e],t[e+1]);return n}function Fd(t){const[n,e]=t[0],[r,o]=t[t.length-1];let i,c;const s=Yd(t);if(256*a(t[0],t[t.length-1])<s*s){const[r,o]=Ja(t,.5),s=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/s,c=(r-n)/s}else{const t=Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));i=(o-e)/t,c=(r-n)/t}const u=function(t,n,e){const r=I(t[0].map((t=>-t)));return Bd(t.map((t=>S(-n,e,r(t)))))}(t,i,c),[[f,l],[h,p]]=u,d=[u[0],[h,l],u[1],[f,p]],g=S(i,c);return d.map((n=>I(t[0],g(n))))}function Vd(t,n){const e=[0,1,2,3].map((e=>function(t,n){const e=a,r=n[0],o=n[1],i=e(r,o);if(0==i)return e(t,r);let c=((t[0]-r[0])*(o[0]-r[0])+(t[1]-r[1])*(o[1]-r[1]))/i;return c=Math.max(0,Math.min(1,c)),e(t,[r[0]+c*(o[0]-r[0]),r[1]+c*(o[1]-r[1])])}(n,[t[e],t[(e+1)%4]]))),r=a(t[0],t[1]),o=a(t[0],t[3]);return e[0]<=o&&e[2]<=o&&e[1]<=r&&e[3]<=r?0:Math.min(...e)}const kd=y(Fd);function Ld(t,n){const e=function(t,n){let e=Number.POSITIVE_INFINITY;for(let r=0;r<t.length;r++){const o=t[r],i=o.curve.ps,c=Ja(i,o.ts[0]),s=Ja(i,o.ts[1]),u=Math.min(a(n,c),a(n,s));u<e&&(e=u)}return(1+2**-10)*e}(t,n);return t=function(t,n,e){const r=[];for(let o=0;o<t.length;o++){const i=t[o],c=i.curve.ps;Ad(zd(c),n)<=e&&r.push(i)}return r}(t,n,e),t=function(t,n,e){const r=[];for(let o=0;o<t.length;o++){const i=t[o],c=i.curve.ps;Vd(kd(c),n)<=e&&r.push(i)}return r}(t,n,e),t}function Xd(t,n,e=void 0,r=void 0,o=!1,i=0){t=Ld(t,n);const c=[];for(let s=0;s<t.length;s++){const u=t[s],f=Cd(u.curve,n,u.ts,e,r,o,i);c.push(...f)}let s=Number.POSITIVE_INFINITY;for(let t=0;t<c.length;t++){const n=c[t].dSquaredI[1];n<s&&(s=n)}const u=[];for(let t=0;t<c.length;t++){const n=c[t];n.dSquaredI[0]<=s&&u.push(n)}return u.map((t=>Se(t.curve,t.t,!1)))}function Dd(t,n){return n.map((n=>Xd(n,t)[0]))}function qd(t,n,e){const r=ea(e);let o,i,c,s,u=1,f=0;do{i=I([(h=u)*(l=e)[0],h*l[1]],n),c=Dd(i,t),s=ea(d(i,na(c.map((t=>t.p))))),o=s<r,u/=2,f++}while(!o&&f<3);var l,h;return{newX:i,newV:s,newPs:c}}const $d=d;function Qd(t,n,e,r,o){const i=2**-32*o,c=[t[0],t[n],t[t.length-1]],s=[r[0],r[n],r[t.length-1]],u=[[c[0],c[1],c[2]],[c[1],c[2],c[0]],[c[2],c[0],c[1]]][e],f=[[s[0],s[1],s[2]],[s[1],s[2],s[0]],[s[2],s[0],s[1]]][e];if(Yn(u[0][0]))return;let l,h,p=0,a=function(t,n){const e=t[0][0].cp.circle.center,r=Xd(n[1],e)[0];return na([t[0][0].cp.pointOnShape.p,r.p,t[2][1].cp.pointOnShape.p])}(u,f);if("undefined"!=typeof _debug_){const t=_debug_.generated.elems.threeProng,n=t[t.length-1];n.traces[n.traces.length-1].push(a)}let g=Number.POSITIVE_INFINITY;for(;g>i&&p<10;){if(p++,l=Dd(a,f),!Number.isFinite(a[0])||!Number.isFinite(a[1]))return;h=na(l.map((t=>t.p)));const t=$d(a,h);if(!Number.isFinite(t[0])||!Number.isFinite(t[1]))return;const n=qd(f,a,t);if(a=n.newX,l=n.newPs,"undefined"!=typeof _debug_){const t=_debug_.generated.elems.threeProng,n=t[t.length-1];n.traces[n.traces.length-1].push(a)}const e=ea(t);g=Math.abs(e-n.newV)}const v=(Qr(a,l[0].p)+Qr(a,l[1].p)+Qr(a,l[2].p))/3,m={center:a,radius:v};let b=0;for(let t=0;t<3;t++){const n=l[t],e=N(d(n.p,a)),r=_(e);if(Rp(n)){const t=dn(n.curve).tangents.map(_),r=Math.asin(x(t[0],e)),o=Math.asin(x(e,t[1]));let i=0;r>0&&(i+=r),o>0&&(i+=o),b+=i}else{const t=N(M(n.curve.ps,n.t));b+=Math.abs(Math.asin(x(r,t)))}}const I=[];for(let t=0;t<r.length;t++){const n=Xd(r[t],a)[0];I.push(Qr(n.p,a))}const S=Math.min(...I);return{ps:l,circle:m,error:1*Math.abs(v-S)+1*b,δ3s:u}}const Hd=y((t=>!!vn(t)&&gn(t).isQuiteSharp));function Gd(t){let n=t[0];const e=t[1],r=[];let o=!0;do{if(!o){o=!0,n=n.prevOnCircle;continue}o=!1;const t=n.cp.pointOnShape,e=n.next.cp.pointOnShape;e.curve===t.curve&&Hd(t)&&Hd(e)||(e.curve===t.curve&&h(n.next.cp,n.cp)>0?r.push({curve:t.curve,ts:[t.t,e.t]}):(r.push({curve:t.curve,ts:[t.t,1]}),n.cp.pointOnShape.curve.loop===n.next.cp.pointOnShape.curve.loop&&Rd(r,t.curve,e.curve,e.t))),n=n.next}while(n!==e);return r}function Rd(t,n,e,r){let o=n;do{o=o.next;const n=o===e?r:1;t.push({curve:o,ts:[0,n]})}while(o!==e)}function jd(){if("undefined"!=typeof _debug_){const t=_debug_.generated.elems.threeProng,n=[];t[t.length-1].traces.push(n)}}function Ud(t,n,e){"undefined"!=typeof _debug_&&t.push({circle:n,ps:e})}function Zd(t,n,e,r){const o=t.findBounds(Sn({pointOnShape:n,circle:void 0,order:e,order2:r},!1,!1));return o[0]||o[1]?o[0]&&o[1]?[o[0].datum,o[1].datum]:[t.max(t.root),t.min(t.root)]:[void 0,void 0]}function Wd(t,n,e,r,o){const i=r.map(((r,i)=>{const c=e.get(r.curve.loop);return Tn(!1,!1,c,{pointOnShape:r,circle:t,order:n[i],order2:0},(o?o[i]:Zd(c,r,n[i],0))[0])})),c=r.length;for(let t=0;t<c;t++){const n=0===t?c-1:t-1,e=t===c-1?0:t+1;i[t].prevOnCircle=i[n],i[t].nextOnCircle=i[e]}return i}const Jd=Math.cos(Math.PI/180*3);function Kd(t,n,e,r,o,i){const c=2e-14*i,s=.02*c,u=Zd(t.get(n.curve.loop),n,r,o);if(!u[0])return;const{p:f,t:l}=n;for(const t of u){const n=t.cp.pointOnShape.p,r=Qr(f,n);if(!(r>c)&&(b(N(d(n,t.cp.circle.center)),N(d(f,e.center)))>Jd||r<s&&0!==l&&1!==l))return t}}let tg=0;function ng(t,n,e){let r;do{if(r=Dn(n),r.length>2){const n=eg(t,r,e);1===n.length&&n[0],tg++}if("undefined"!=typeof _debug_&&tg===_debug_.directives.stopAfterThreeProngsNum)return}while(r.length>2);return r}function eg(t,n,e){const r=[];for(const t of n)r.push([t,t.next]);const o=function(t,n){const e=t.map(Gd);!function(t){if("undefined"!=typeof _debug_){const n=_debug_.generated.elems.threeProng;n.push({generated:void 0,circle:void 0,poss:void 0,cp3ss:void 0,cpss:void 0,bestIndx:void 0,candidateThreeProngs:void 0,visitedCps:void 0,boundaries:void 0,traces:void 0});const e=n[n.length-1];e.boundaries=[];for(const n of t){const t=[];e.boundaries.push(t);for(const e of n){const n=Jp(e.curve.ps,e.ts[0],e.ts[1]);t.push(n)}}e.traces=[]}}(e);const r=[];let o,i,c=Number.POSITIVE_INFINITY;for(let s=1;s<t.length-1;s++)for(let u=0;u<3;u++){jd();const f=Qd(t,s,u,e,n);if(!f)continue;const{circle:l,ps:h,error:p,δ3s:a}=f;Ud(r,l,h),p<c&&(c=p,i=s-1,o={circle:l,ps:h,δ3s:a})}return function(t,n,e,r){if("undefined"!=typeof _debug_){const o=_debug_.generated.elems.threeProng,i=o[o.length-1];i.generated=_debug_.generated,void 0!==t&&(i.circle=t.circle,i.poss=t.ps,i.cp3ss=t.δ3s),i.cpss=n,i.bestIndx=e,i.candidateThreeProngs=r}}(o,t,i,r),o}(r,e),i=[];for(let t=0;t<3;t++)i.push(jp(o.circle,o.ps[t]));const c=function(t,n,e){const{circle:r,ps:o,δ3s:i}=e;return Kd(t,o[0],r,n[0],0,1e3),Kd(t,o[1],r,n[1],0,1e3),Kd(t,o[2],r,n[2],0,1e3),Wd(r,n,t,o,i)}(t,i,o);return"undefined"!=typeof _debug_&&3===c.length&&function(t,n){const e=_debug_.generated.elems.threeProng,r=e[e.length-1];r.visitedCps=n,r.circle=t}(c[0].cp.circle,n),c}function rg(t,n,e){function r(n,e){let r=t.get(n);r||(r=new Set,t.set(n,r)),r.add(e)}void 0!==n&&(r(n,e),r(e,n))}function og(t,n,e){let r;r=t.get(n);const o=r&&r.has(e);r=t.get(e);const i=r&&r.has(n);return o||i}const ig=-1,cg=1,sg=0;class ug{constructor(t){this.datum=t,this.color=sg}}function fg(t){return!!t&&t.color===sg}class lg{constructor(t,n=!0,e){if(this.compare=t,this.duplicatesAllowed=n,this.getMinNode=this.getMinOrMaxNode(ig),this.getMaxNode=this.getMinOrMaxNode(cg),this.root=void 0,this.nodeCount=0,this.valueCount=0,e)for(const t of e)this.insert(t)}isEmpty(){return!this.root}find(t){const n=this;let e=this.root;for(;e;){const r=n.compare(t,e.datum);if(0===r)return e;e=e[r>0?cg:ig]}}toArrayInOrder(){const t=[];return function n(e){e&&(n(e[ig]),t.push(e.datum),void 0!==e.extras&&t.push(...e.extras),n(e[cg]))}(this.root),t}insertMulti(t){const n=this;for(const e of t)n.insert(e)}insert(t){const n=this;n.root=function t(e,r){if(void 0===e)return n.valueCount++,n.nodeCount++,new ug(r);const o=n.compare(r,e.datum);if(0===o&&(n.duplicatesAllowed?(n.valueCount++,void 0===e.extras?e.extras=[r]:e.extras.push(r)):e.datum=r),0!==o){const n=o>0?cg:ig;e[n]=t(e[n],r),e[n].parent=e}return fg(e[cg])&&!fg(e[ig])&&(e=hg(ig,e)),fg(e[ig])&&fg(e[ig][ig])&&(e=hg(cg,e)),fg(e[ig])&&fg(e[cg])&&ag(e),e}(n.root,t),n.root.color=1,n.root.parent=void 0}remove(t,n=!1,e){const r=this;if(void 0===r.root)return;let o;const i=function t(i,c){const s=r.duplicatesAllowed&&void 0!==i.extras;let u=r.compare(c,i.datum);if(u<0&&!i[ig]||u>0&&!i[cg])return i;if(u<0){fg(i[ig])||fg(i[ig][ig])||(i=dg(i));const n=t(i[ig],c);return null===n?null:(i[ig]=n,i[ig]&&(i[ig].parent=i),gg(i))}if(fg(i[ig])&&(i=hg(cg,i),u=r.compare(c,i.datum)),0===u&&!i[cg]){if(s&&!n){if(void 0===e||!0===e(c,i.datum))return o=i.datum,i.datum=i.extras.pop(),r.valueCount--,0===i.extras.length&&(i.extras=void 0),i;{const t=i.extras;for(let n=0;n<t.length;n++)if(!0===e(c,t[n]))return o=t.splice(n,1)[0],r.valueCount--,0===t.length&&(i.extras=void 0),i;return null}}return void 0===e||!0===e(c,i.datum)?(o=i.datum,r.valueCount-=1+(s?i.extras.length:0),void r.nodeCount--):null}if(fg(i[cg])||fg(i[cg][ig])||(i=function(t){return ag(t),fg(t[ig][ig])&&ag(t=hg(cg,t)),t}(i),u=r.compare(c,i.datum)),0===u)if(s&&!n)if(void 0===e||!0===e(c,i.datum))o=i.datum,i.datum=i.extras.pop(),r.valueCount--,0===i.extras.length&&(i.extras=void 0);else{const t=i.extras;let n=!1;for(let s=0;s<t.length;s++)if(!0===e(c,t[s])){o=t.splice(s,1)[0],r.valueCount--,0===t.length&&(i.extras=void 0),n=!0;break}if(!n)return null}else{if(void 0!==e&&!0!==e(c,i.datum))return null;{r.valueCount-=1+(s?i.extras.length:0),o=i.datum;const t=r.getMinNode(i[cg]);i.datum=t?.datum,r.duplicatesAllowed&&(i.extras=t?.extras),i[cg]=pg(i[cg]),r.nodeCount--}}else{const n=t(i[cg],c);if(null===n)return null;i[cg]=n}return i[cg]&&(i[cg].parent=i),gg(i)}(r.root,t);return null!==i?(r.root=i,void 0!==r.root&&(r.root.color=1,r.root.parent=void 0),o):void 0}findBounds(t){const n=this;let e=n.root;const r=[void 0,void 0];if(void 0===e)return r;for(;e;){const o=n.compare(t,e.datum);o>=0?r[0]=e:r[1]=e,e=e[o>=0?cg:ig]}return r}findBoundsExcl(t){const n=this,e=n.root,r=[void 0,void 0];return void 0===e||function e(o){for(;o;){const i=n.compare(t,o.datum);if(0===i)return e(o[ig]),void e(o[cg]);i>0?r[0]=o:i<0&&(r[1]=o),o=o[i>0?cg:ig]}}(e),r}findAll(t){const n=this;let e=this.root;for(;e;){const r=n.compare(t,e.datum);if(0===r)return[e.datum,...e.extras?e.extras:[]];e=e[r>0?cg:ig]}return[]}getMinOrMaxNode(t){return n=>{if(void 0===n&&(n=this.root),n){for(;n[t];)n=n[t];return n}}}min(t){void 0===t&&(t=this.root);const n=this.getMinNode(t);if(void 0!==n)return n.datum}max(t){void 0===t&&(t=this.root);const n=this.getMaxNode(t);if(void 0!==n)return n.datum}}function hg(t,n){const e=n[-t];return n[-t]=e[t],e[t]&&(e[t].parent=n),e[t]=n,n.parent=e,e.color=n.color,n.color=sg,e}function pg(t){if(t[ig])return fg(t[ig])||fg(t[ig][ig])||(t=dg(t)),t[ig]=pg(t[ig]),t[ig]&&(t[ig].parent=t),gg(t)}function ag(t){t.color=(t.color+1)%2,t[ig].color=(t[ig].color+1)%2,t[cg].color=(t[cg].color+1)%2}function dg(t){if(ag(t),fg(t[cg][ig])){const n=hg(cg,t[cg]);t[cg]=n,n.parent=t,ag(t=hg(ig,t))}return t}function gg(t){return fg(t[cg])&&(t=hg(ig,t)),fg(t[ig])&&fg(t[ig][ig])&&(t=hg(cg,t)),fg(t[ig])&&fg(t[cg])&&ag(t),t}const vg=Rr;let mg;const bg=Number.POSITIVE_INFINITY,_g=y((function(t){const n=[[{bezier:void 0,t:void 0,val:bg},{bezier:void 0,t:void 0,val:bg}],[{bezier:void 0,t:void 0,val:-bg},{bezier:void 0,t:void 0,val:-bg}]];return t.curves.forEach((function(t){const e=function(t){const n=w(t),e=Ni(n[0],0,1),r=Ni(n[1],0,1);e.push(0,1),r.push(0,1);let o,i,c,s,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n],[c]=Ja(t,r);c<u&&(u=c,o=r),c>f&&(f=c,i=r)}for(let n=0;n<r.length;n++){const e=r[n],[,o]=Ja(t,e);o<l&&(l=o,c=e),o>h&&(h=o,s=e)}return{ts:[[o,c],[i,s]],box:[[u,l],[f,h]]}}(t.ps);{const r=e.box[0][0],o=n[0][0].val;(r<o||r===o&&e.ts[0][0]>n[0][0].t)&&(n[0][0]={bezier:t,t:e.ts[0][0],val:r})}{const r=e.box[0][1],o=n[0][1].val;(r<o||r===o&&e.ts[0][1]>n[0][1].t)&&(n[0][1]={bezier:t,t:e.ts[0][1],val:r})}{const r=e.box[1][0],o=n[1][0].val;(r>o||r===o&&e.ts[1][0]>n[1][0].t)&&(n[1][0]={bezier:t,t:e.ts[1][0],val:r})}{const r=e.box[1][1],o=n[1][1].val;(r>o||r===o&&e.ts[1][1]>n[1][1].t)&&(n[1][1]={bezier:t,t:e.ts[1][1],val:r})}})),{minY:Se(n[0][1].bezier,n[0][1].t,!0),minX:Se(n[0][0].bezier,n[0][0].t,!0),maxX:Se(n[1][0].bezier,n[1][0].t,!0),maxY:Se(n[1][1].bezier,n[1][1].t,!0)}})),xg=y((function(t){let n,e,r,o,i=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(const f of t){const t=_g(f);t.minX.p[0]<i&&(n=t.minX,i=t.minX.p[0]),t.maxX.p[0]>c&&(e=t.maxX,c=t.maxX.p[0]),t.minY.p[1]<s&&(r=t.minY,s=t.minY.p[1]),t.maxY.p[1]>u&&(o=t.maxY,u=t.maxY.p[1])}return{minX:n,minY:r,maxX:e,maxY:o}})),Ig=oe,Ng=te;function Sg(t,n){let e=[0,0];for(let r=0;r<t.length;r++)e=Ig(t[r],Ng(n,e));return e}Sg([[0,1],[0,1],[0,-2],[0,3]],.25);const Eg=ge,wg=ae,Mg=te,yg=oe,Pg=re;function Tg(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[Mg(3,yg(wg(s,n),Mg(3,wg(r,i)))),Mg(6,Pg(Eg(i,n),-2*r)),Mg(3,wg(r,n))],[Mg(3,yg(wg(u,e),Mg(3,wg(o,c)))),Mg(6,Pg(Eg(c,e),-2*o)),Mg(3,wg(o,e))]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[Pg(Eg(2*i,2*n),-4*r),wg(2*r,2*n)],[Pg(Eg(2*c,2*e),-4*o),wg(2*o,2*e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[wg(r,n)],[wg(o,e)]]}(t);if(1===t.length)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}const Cg=ae,Og=oe,Ag=te,Bg=re;function zg(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[Ag(6,Og(Cg(s,n),Ag(3,Cg(r,i)))),Ag(6,Bg(Cg(i,2*r),n))],[Ag(6,Og(Cg(u,e),Ag(3,Cg(o,c)))),Ag(6,Bg(Cg(c,2*o),e))]]}if(3===t.length){const[[n,e],[r,o],[i,c]]=t;return[[Bg(Cg(2*i,4*r),2*n)],[Bg(Cg(2*c,4*o),2*e)]]}if(t.length<=2)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}const Yg=le,Fg=oe,Vg=ie,kg=P,Lg=at,Xg=Z,Dg=on,qg=pt;function $g(t,n,e=!1){const r=n.curve.ps,{p:o,t:i}=n;let c=-function(t,n){const[e,r]=Tg(t),[o,i]=zg(t),c=Sg(e,n),s=Sg(r,n),u=Sg(o,n),f=Sg(i,n),l=Vg(Yg(c,f),Yg(s,u)),h=Fg(Yg(c,c),Yg(s,s)),p=Yg(h,Yg(h,h)),a=Math.sqrt(p[1]);return l[1]/a}(r,i);(c<t||e)&&(c=t);const s=function(t,n){const[e,r]=function(t){if(4===t.length)return function(t){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[Xg(3,Dg(kg(s,n),Xg(3,kg(r,i)))),Xg(6,qg(Lg(i,n),-2*r)),Xg(3,kg(r,n))],[Xg(3,Dg(kg(u,e),Xg(3,kg(o,c)))),Xg(6,qg(Lg(c,e),-2*o)),Xg(3,kg(o,e))]]}(t);if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[qg(Lg(2*i,2*n),-4*r),kg(2*r,2*n)],[qg(Lg(2*c,2*e),-4*o),kg(2*o,2*e)]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t;return[[kg(r,n)],[kg(o,e)]]}(t);if(1===t.length)return[[[0]],[[0]]];throw new Error("The given bezier curve must be of order <= 3.")}(t);return[Qe(e,n),Qe(r,n)]}(r,i).map((t=>t[t.length-1])),u=[-s[1],s[0]],f=Math.sqrt(u[0]**2+u[1]**2);return{center:[o[0]-u[0]/(c*f),o[1]-u[1]/(c*f)],radius:1/c}}function Qg(t){return t.holeClosing?"twoProng_holeClosing":"twoProng_regular"}const{abs:Hg}=Math,Gg=ae,Rg=de;function jg(t,n,e){const r=Hg(t[1]-n[1])>Hg(t[0]-n[0]);let o,i,c,s,u,f;r?(o=t[1],i=t[0],c=n[1],s=n[0],u=e[1],f=e[0]):(o=t[0],i=t[1],c=n[0],s=n[1],u=e[0],f=e[1]);const l=he(Gg(i,s),Gg(o,c)),h=ie([0,s],ce(c,l)),p=oe(ie(oe(Rg(c,c),Rg(s,s)),oe(Rg(u,u),Rg(f,f))),se(le(h,Gg(f,s)))),a=oe(Gg(c,u),le(l,Gg(s,f))),d=he(p,se(a)),g=oe(le(l,d),h);return r?[g[1],d[1]]:[d[1],g[1]]}function Ug(t,n,e,r){const o=(2**-14*t)**2;if(a(n,r)<o)return;const i=[(n[0]+r[0])/2,(n[1]+r[1])/2],c=[r[0]-n[0],r[1]-n[1]],s=[-c[1],c[0]],u=p([n,e],[i,[i[0]+s[0],i[1]+s[1]]]);return u?b([u[0]-n[0],u[1]-n[1]],[e[0]-n[0],e[1]-n[1]])<0?void 0:u:void 0}function Zg(t,n){const[e,r]=t,[o,i]=n,c=ae(e,o),s=ae(r,i),u=le(c,c),f=le(s,s);return oe(u,f)[1]}function Wg(t,n,e){if(t.length<=1)return t;const r=[];for(const o of t){const t=o.curve.ps;Ad(zd(t),n)<=1.0009765625*e&&r.push(o)}return r}function Jg(t,n,e,r){if(Rp(r))return;const o={radius:t,center:n};if(Kd(e,r,o,jp(o,r),0,1e3))return;const i=Wd(o,[-.5,.5],e,[r,r]);"undefined"!=typeof _debug_&&_debug_.generated.elems.oneProng.push(i)}const{sqrt:Kg,abs:tv,sin:nv,cos:ev}=Math;function rv(t,n,e,r,o,i,c,s,u){const f=(2**-21*e)**2,l=2**-46*e,h=Kg(r),p=1/h;let v;const m=i.p;let b;if(c)v=[m[0],m[1]-h],b=h;else if(0===t)({center:v,radius:b}=$g(p,i));else{({center:v,radius:b}=$g(p,i,!0));const n=d(i.p,v),e=S(nv(t),ev(t))(n);v=I(i.p)(e)}const{bezierPieces:_,δ:x}=function(t,n,e,r,o,i,c){if(n){const t=[];for(let n=0;n<e;n++){const e=r[n].curves.map((t=>({curve:t,ts:[0,1]})));t.push(...e)}return{bezierPieces:t,δ:void 0}}let s;const u=Rp(i)?1===i.t&&0===t?-1:0===i.t?1:jp(c,i):0,f=r[e],l=Zd(o.get(f),i,u,0)[0],h=[l,l];return s=l&&l!==l.next.next?Gd(h):f.curves.map((t=>({curve:t,ts:[0,1]}))),{bezierPieces:s,δ:h}}(t,c,s,n,o,i,{center:v,radius:b});let N=v;const E=Kg(function(t,n,e,r){let o,i=Number.POSITIVE_INFINITY;for(let c=0;c<n.length;c++){const s=n[c],u=s.curve.ps;let f=Number.POSITIVE_INFINITY;const l=Ja(u,s.ts[0]);if(!o||o[0]!==l[0]||o[1]!==l[1]){const n=Ug(t,e,r,l);n&&(f=a(e,n))}let h=Number.POSITIVE_INFINITY;const p=Ja(u,s.ts[1]),d=Ug(t,e,r,p);d&&(h=a(e,d)),o=p;const g=Math.min(f,h);g<i&&(i=g)}return(1+2**-10)*i}(e,_,m,v));b>E&&(N=g(m,v,E/b));const w=[];let M,y,P=_,T=0;for(;T<25;){const n=Zg(N,i.p);if(T<5&&(P=Wg(P,N,n)),M=Xd(P,N,i.curve,i.t,u&&0==T&&b!==1/p,t).map((t=>Se(t.curve,t.t,!1))),y=M[0],void 0===y)return void ov(c);const e=Zg(N,y.p),r=Zg(i.p,y.p);if(0===T&&b<(1-2**-6)*Kg(e))return void Jg(b,v,o,i);if("undefined"!=typeof _debug_&&w.push({x:N,y:i,z:Se(y.curve,y.t,!1),t:i.t}),!c&&r<=f)return;if(N=jg(N,i.p,y.p),tv(Kg(n)-Kg(e))<l)break;if(T++,25===T)return void("undefined"!=typeof _debug_&&console.log("failed (slow): max iterations reached"))}const C={center:N,radius:Qr(N,y.p)};return"undefined"!=typeof _debug_&&function(t,n,e,r,o,i,c,s,u){s.push({x:e,y:r,z:o,t:r.t});const f={generated:_debug_.generated,bezierPieces:t,pos:r,δ:c,z:o?o.p:void 0,circle:i,xs:s,failed:!1,holeClosing:u,notAdded:!1,deleted:!1,cpNode:void 0},l=Qg(f);_debug_.generated.elems[l].push(f)}(_,0,N,i,y,C,x,w,c),{circle:C,zs:[y]}}function ov(t){if("undefined"!=typeof _debug_){const n=_debug_.generated.elems,e=t?n.twoProng_holeClosing:n.twoProng_regular,r=t?"hole-closing: "+e.length:"regular: "+e.length;console.log("failed: no closest point - "+r)}}function iv(t,n,e,r,o,i){let c=e.t;0===c&&(c=1,e=Se(e.curve.prev,c,!0));const s=jp(n,e),u=r.map((t=>jp(n,t)));let f=!1;for(let e=0;e<r.length;e++){const o=r[e],c=u[e];if(Kd(t,o,n,c,0,i)){f=!0;break}}if(Kd(t,e,n,s,0,i)||f)return void("undefined"!=typeof _debug_&&(o?_debug_.generated.elems.twoProng_holeClosing.pop():_debug_.generated.elems.twoProng_regular.pop()));const l=[],h=[],p=[],a=[],d=[];for(let e=0;e<r.length;e++){const i=r[e],c=u[e],s={pointOnShape:i,circle:n,order:c,order2:0};h.push(s);const f=i.curve.loop;d.push(f);const g=t.get(f);p.push(g);const v=Zd(g,i,c,0);a.push(v),l.push(Tn(o,!1,g,s,v[0]))}const g={pointOnShape:e,circle:n,order:s,order2:0},v=e.curve.loop,m=t.get(v),b=Tn(o,!1,m,g,Zd(m,e,s,0)[0]);if(1===l.length)b.prevOnCircle=l[0],b.nextOnCircle=l[0],l[0].prevOnCircle=b,l[0].nextOnCircle=b;else{const t=l.slice();t.push(b),t.sort(function(t){const n=t.center;return function(t,e){let r=t.cp.pointOnShape.p,o=e.cp.pointOnShape.p;r=[r[0]-n[0],r[1]-n[1]],o=[o[0]-n[0],o[1]-n[1]];const i=Math.atan2(r[1],r[0]);return Math.atan2(o[1],o[0])-i}}(n));for(let n=0;n<t.length;n++){const e=n+1===t.length?0:n+1,r=0===n?t.length-1:n-1,o=t[n],i=t[e],c=t[r];o.nextOnCircle=i,o.prevOnCircle=c}}if(o){const t={pointOnShape:r[0],circle:n,order:h[0].order,order2:1},o=Tn(!0,!1,p[0],t,l[0]),i=Tn(!0,!1,m,{pointOnShape:e,circle:n,order:g.order,order2:-1},b.prev);i.prevOnCircle=o,i.nextOnCircle=o,o.prevOnCircle=i,o.nextOnCircle=i,l[0].next=b,b.prev=l[0],i.next=o,o.prev=i}if("undefined"!=typeof _debug_){let t;t=o?_debug_.generated.elems.twoProng_holeClosing:_debug_.generated.elems.twoProng_regular;const n=t[t.length-1];b||console.log("asas"),n.cpNode=b}return b}const{PI:cv,atan2:sv}=Math,uv=15*cv/180;function fv(t,n,e,r,o,i){let c;const s=xg(t),u=(s.maxX.p[0]-s.minX.p[0])**2+(s.maxY.p[1]-s.minY.p[1])**2;for(let s=0;s<r.length;s++){let f=[0];const l=r[s];if(1===l.t){const{curve:t}=l,n=an(t.ps,t.next.ps);if(n.isQuiteDull){const t=Gp(n.tangents[0]),e=Gp(n.tangents[1]),r=(sv(t[1],t[0])+2*cv)%(2*cv),o=((sv(e[1],e[0])+2*cv)%(2*cv)-r+2*cv)%(2*cv);let i=uv;for(;i<=o-uv/2;)f.push(i),i+=uv}}for(let r of f){const f=rv(r,t,o,u,n,l,!1,e,i);if(f){const{circle:t,zs:e}=f,r=iv(n,t,l,e,!1,o);c=c||r}if("undefined"!=typeof _debug_&&s+1===_debug_.directives.stopAfterTwoProngsNum)return}}return c}function lv(t,n,e,r,o,i){for(let c=0;c<r.length;c++){const s=fv(n,e,c,r[c],o,i);t=t||s}return t}const hv=de,pv=oe,av=ie,{atan2:dv}=Math;function gv(t,n){const e=t[0],r=t[1],o=n[0],i=n[1],c=av(hv(i,e),hv(o,r))[1],s=pv(hv(o,e),hv(i,r))[1];return dv(c,s)}const{abs:vv}=Math;function mv(t){const n=[];for(let e=0;e<t.length-1;e++){const r=[t[e+1][0]-t[e][0],t[e+1][1]-t[e][1]];0!==(0!==r[0]||r[1])&&n.push(r)}const e=n.length;let r=0;for(let t=0;t<e-1;t++)r+=vv(gv(n[t],n[t+1]));return r}function bv(t,n=.4,e=10,r=2**-16){const o={r:[0,1]};let i=o;for(;void 0!==i;){const o=i.r,c=Jp(t,o[0],o[1]);if(Yd(c)<=e&&mv(c)<=n||o[1]-o[0]<=r){i=i.next;continue}const s=(o[0]+o[1])/2,u=[o[0],s],f=[s,o[1]];i.r=u,i.next={r:f,next:i.next}}i=o;const c=[];for(;void 0!==i;)c.push(i.r[0]),void 0===i.next&&c.push(i.r[1]),i=i.next;return c}const _v=te,xv=ae,Iv=oe,Nv=te,Sv=se,Ev=ue,wv=te,Mv=le,yv=oe,Pv=ie;const{orient2d:Tv}=un,Cv=Ft,Ov=R,Av=T,Bv=rt,zv=Number.EPSILON/2,Yv=Math.abs,Fv=K,Vv=P,kv=rt,Lv=T,Xv=G,Dv=U,qv=at;const $v=ae,Qv=te,Hv=le,Gv=oe,Rv=ie;function jv(t){if(function(t){if(4===t.length)return 0===Tv(t[0],t[1],t[2])&&0===Tv(t[1],t[2],t[3])&&0===Tv(t[0],t[2],t[3]);if(3===t.length)return 0===Tv(t[0],t[1],t[2]);if(t.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}(t))return{minima:[],maxima:[],inflections:[]};if(4===t.length&&function(t){const[[n,e],[r,o],[i,c],[s,u]]=t,f=s+3*r,l=n+3*i,h=f-l,p=Yv(3*r)+Yv(f)+(Yv(3*i)+Yv(l))+Yv(h);if(Yv(h)-zv*p>0)return!1;const a=u+3*o,d=e+3*c,g=a-d,v=Yv(3*o)+Yv(a)+(Yv(3*c)+Yv(d))+Yv(g);return!(Yv(g)-zv*v>0)&&0===Av(Bv(Ov([s],Cv(3,r)),Ov([n],Cv(3,i))))&&0===Av(Bv(Ov([u],Cv(3,o)),Ov([e],Cv(3,c))))}(t)&&(t=function(t,n=!1){if(!n){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[n,e],[Xv(kv(Dv(qv(r/4,i/4),3),qv(n/4,s/4))),Xv(kv(Dv(qv(o/4,c/4),3),qv(e/4,u/4)))],[s,u]]}const[e,r,o,i]=t,c=function(t,n){const[[e,r],[o,i]]=t,[[c,s],[u,f]]=n,l=Vv(o,e),h=Vv(i,r),p=Vv(u,c),a=Vv(f,s),d=kv(Fv(p,h),Fv(a,l));if(0===Lv(d))return;const g=Vv(c,e),v=Vv(s,r),m=kv(Fv(v,l),Fv(g,h)),b=Xv(m)/Xv(d);return[c+b*Xv(p),s+b*Xv(a)]}([e,r],[i,o]);if(void 0!==c)return[e,c,i]}(t)),3===t.length){const n=function(t){const[[n,e],[r,o],[i,c]]=t,s=$v(r,n),u=$v(i,r),f=Rv(u,s),l=$v(o,e),h=$v(c,o),p=Rv(h,l),a=Gv(Rv(Qv(n,Rv(f,[0,-r])),Qv(r,Rv(u,[0,-r]))),Rv(Qv(e,Rv(p,[0,-o])),Qv(o,Rv(h,[0,-o]))));return[Gv(Hv(f,f),Hv(p,p)),pe(a)]}(t);return{minima:[],maxima:Nr(n,0,1).map((t=>(t.tS+t.tE)/2)),inflections:[]}}const n=function(t){const[[n,e,r],[o,i,c]]=Tg(t),[[s,u],[f,l]]=zg(t),[[h],[p]]=function(t){if(4===t.length){const[[n,e],[r,o],[i,c],[s,u]]=t;return[[Nv(6,Iv(xv(s,n),Nv(3,xv(r,i))))],[Nv(6,Iv(xv(u,e),Nv(3,xv(o,c))))]]}if(t.length<=3)return[[[0,0]],[[0,0]]];throw new Error("The given bezier curve must be of order <= 3.")}(t),a=Mv(h,i),d=Mv(p,e),g=Mv(u,c),v=Mv(u,i),m=Mv(f,f),b=Mv(s,c),_=Mv(l,r),x=Mv(l,e),I=Mv(f,r),N=Mv(r,e),S=Mv(r,n),E=Mv(r,o),w=Mv(e,e),M=Mv(e,n),y=Mv(e,i),P=Mv(n,c),T=Mv(n,o),C=Mv(n,n),O=Mv(c,i),A=Mv(c,o),B=Mv(i,i),z=Mv(i,o),Y=Mv(o,o),F=Pv(Mv(h,c),Mv(p,r)),V=Pv(a,d),k=yv(Mv(u,r),Mv(l,c)),L=yv(yv(Mv(u,e),Mv(s,r)),yv(Mv(l,i),Mv(f,c))),X=Pv(g,_),D=Pv(yv(v,b),yv(x,I)),q=yv(Mv(r,r),Mv(c,c)),$=yv(N,O),Q=yv(y,P),H=yv(A,B),G=yv(S,w),R=yv(Mv(e,o),Mv(n,i)),j=Pv(C,Y),U=Pv(M,z),Z=yv(E,y),W=Pv(N,O),J=yv(Mv(r,i),Mv(e,c)),K=yv(A,H),tt=yv(S,G),nt=yv(E,Q),et=yv(y,Q),rt=Pv(tt,K),ot=yv(Q,P),it=yv(Z,P),ct=yv(se(x),I),st=Mv(C,Pv(a,wv(3,d))),ut=Mv(Y,Pv(wv(3,a),d)),ft=se(yv(Mv(T,yv(Pv(Mv(h,e),Mv(p,i)),wv(3,Pv(Mv(l,f),Mv(u,s))))),wv(3,Mv(Mv(s,f),U)))),lt=wv(3,yv(Mv(R,Pv(m,Mv(s,s))),Mv(j,yv(Mv(u,f),Mv(l,s))))),ht=yv(yv(st,ut),yv(ft,lt)),pt=Mv(h,yv(Mv(o,yv(tt,wv(3,H))),Mv(n,et))),at=Mv(p,yv(yv(Mv(r,yv(wv(3,C),Y)),Mv(e,yv(wv(3,M),Sv(z)))),Mv(n,K))),dt=wv(3,yv(yv(Mv(u,yv(Pv(Mv(l,j),Mv(u,T)),Sv(Pv(Mv(f,U),Mv(s,R))))),Mv(s,Pv(yv(Sv(Mv(l,U)),Mv(f,yv(Sv(Pv(S,A)),Pv(w,B)))),Mv(s,it)))),yv(Mv(l,yv(Mv(l,T),Sv(Mv(f,R)))),Mv(m,nt)))),gt=yv(Pv(pt,at),dt),vt=Mv(h,yv(yv(Sv(Mv(r,R)),Mv(e,ot)),Mv(i,yv(Ev(A),K)))),mt=Mv(p,yv(yv(Sv(Mv(r,yv(wv(3,M),z))),Mv(e,yv(w,Sv(A)))),Mv(i,ot))),bt=wv(3,yv(yv(Mv(u,Pv(yv(Sv(Pv(Mv(l,U),Mv(s,it))),Mv(f,rt)),Mv(u,R))),Mv(s,Pv(Sv(Mv(f,W)),Mv(s,J)))),yv(Mv(l,yv(yv(Mv(l,R),Sv(Mv(f,nt))),Mv(s,rt))),Mv(m,J)))),_t=yv(Pv(vt,mt),bt),xt=Mv(h,yv(Mv(r,yv(E,Sv(Q))),Mv(c,yv(w,wv(3,H))))),It=Mv(p,yv(Mv(r,yv(wv(3,G),K)),Mv(c,et))),Nt=wv(3,yv(yv(Mv(u,yv(Pv(Mv(l,rt),Mv(u,nt)),Sv(Pv(Mv(f,W),Mv(s,J))))),Mv(s,Pv(Mv(r,Pv(ct,Mv(s,c))),Mv(c,yv(Sv(Mv(l,i)),Mv(f,c)))))),yv(Mv(l,yv(Mv(l,Q),Mv(r,yv(Sv(Mv(f,i)),Mv(l,o))))),Mv(f,Mv(c,ct))))),St=yv(Pv(xt,It),Nt),Et=Pv(yv(Mv(q,V),Sv(Mv($,F))),wv(3,yv(Mv(k,D),Mv(L,X)))),wt=Pv(Mv(F,q),wv(3,Mv(k,X)));return{inflectionPoly:[Pv(Mv(s,o),Mv(f,n)),Pv(yv(Mv(u,o),Mv(s,i)),yv(Mv(l,n),Mv(f,e))),Pv(yv(v,b),yv(x,I)),Pv(g,_)],otherExtremaPoly:[ht,gt,_t,St,Et,wt]}}(t),e=n.inflectionPoly,r=n.otherExtremaPoly,o=Nr(r,0,1),i=function(t){const n=[],e=t.length-1;for(let r=0;r<e;r++)n.push(_v(e-r,t[r]));return n}(r),c=[],s=[];for(let t=0;t<o.length;t++){const n=(o[t].tS+o[t].tE)/2,r=Qe(i,n),u=Qe(e,n);T(cn(u,r))>=0?c.push(n):s.push(n)}return{minima:c,maxima:s,inflections:Nr(e,0,1).map((t=>(t.tS+t.tE)/2))}}function Uv(t){return _g(t).minY}function Zv(t,n,e,r,o){!function(t){if("undefined"==typeof _debug_)return;mg=performance.now();for(const n of t)_debug_.fs.nameObj(n,"l|");const n=_debug_.generated;for(const e of t){let t=0;e.curves.forEach((function(e){const r=e.ps,o=vg(r);n.elems.boundingHull.push(o);const i=zd(r);n.elems.looseBoundingBox.push(i);const c=Fd(r);n.elems.tightBoundingBox.push(c);const s=dn(e);s.isQuiteSharp?n.elems.sharpCorner.push(e):s.isQuiteDull&&n.elems.dullCorner.push(e),t++}))}}(t);const i=function(t){return n=>{const e=[];for(let r=0;r<n.curves.length;r++){const o=n.curves[r];Yd(o.ps)<t||dn(o).isQuiteSharp&&e.push(Se(o,1,!0))}return e}}(n),c=function(t){return n=>{const e=[];for(let r=0;r<n.curves.length;r++){const o=n.curves[r];Yd(o.ps)<t||dn(o).isQuiteDull&&(e.push(Se(o,1,!0)),e.push(Se(o.next,0,!0)))}return e}}(n),s=t.map(i),u=t.map(c),f=new Map;if(function(t,n,e){let r;for(let o=0;o<e.length;o++){const i=e[o],c=new lg(wn,!1);let s,u;for(const t of i){t.curve.next.ps;const n={center:t.p,radius:0},e={pointOnShape:t,circle:n,order:1,order2:0};s=Tn(!1,!1,c,{pointOnShape:t,circle:n,order:-1,order2:0},u),u=Tn(!1,!1,c,e,s),s.prevOnCircle=u,u.prevOnCircle=s,s.nextOnCircle=u,u.nextOnCircle=s}r||(r=s);const f=t[o];n.set(f,c)}}(t,f,s),function(t,n,e){const r=xg(t),o=(r.maxX.p[0]-r.minX.p[0])**2+(r.maxY.p[1]-r.minY.p[1])**2,i=t.map(Uv);for(let r=1;r<i.length;r++){const c=i[r],s=rv(0,t,e,o,n,c,!0,r,!1);if(!s)throw new Error("Unable to find hole-closing 2-prong");const{circle:u,zs:f}=s;iv(n,u,c,[f[0]],!0,e)}}(t,f,o),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterHoleClosers)return;!function(){if("undefined"==typeof _debug_)return;const t=_debug_.generated.timing,n=performance.now();t.holeClosers+=n-mg,mg=n}();const l=t.map(function(t){return function(n){const e=[];for(let r=0;r<n.curves.length;r++){const o=n.curves[r];if(Yd(o.ps)<t)continue;const{minima:i,maxima:c}=jv(o.ps),s=[...i,...c].map((t=>Se(o,t,!0)));e.push(...s)}return e}}(n)),h=t.map(function(t,n,e){return function(r){const o=[];for(let i=0;i<r.curves.length;i++){const c=r.curves[i];if(Yd(c.ps)<t)continue;let s=bv(c.ps,n,e);2===s.length&&(s=[0,.5,1]);const u=s.slice(1,s.length-1).map((t=>Se(c,t,!0)));o.push(...u)}return o}}(n,e,r));let p;if(p=lv(p,t,f,u,o,!1),p=lv(p,t,f,l,o,!0),p=lv(p,t,f,h,o,!1),function(){if("undefined"==typeof _debug_)return;const t=_debug_.generated.timing,n=performance.now();t.oneAnd2Prongs+=n-mg,mg=n}(),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterTwoProngs)return;if(void 0===p)return;if(function(t,n,e){const r=new Map,o=[{fromCpNode:void 0,cpStart:n}];for(;o.length;){const{fromCpNode:n,cpStart:i}=o.shift();rg(r,n,i);for(const n of Cn(i)){if(!mn(n.cp.pointOnShape)&&void 0===ng(t,n,e))return void console.log("Unable to find 3-prong");og(r,n,n.next)||o.push({fromCpNode:i,cpStart:n.next})}}}(f,p,o),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterThreeProngs)return;const a={cpNode:p,cpTrees:f};return function(t){if("undefined"==typeof _debug_)return;const n=_debug_.generated,e=n.timing;n.elems.mat.push(t),e.threeProngs+=performance.now()-mg}(a),a}const Wv=Math.max,Jv=Math.abs;function Kv(t,n=.4,r=4){let o,i;({maxCurviness:n,maxLength:r,maxCoordinate:o,minBezLength:i}=function(t,n,e){const{maxCoordinate:r,maxRadius:o}=function(t){let n=0,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(const c of t)for(const t of c)for(const c of t){const t=c[0],s=c[1],u=Wv(Jv(t),Jv(s));u>n&&(n=u),t<e&&(e=t),t>r&&(r=t),s<o&&(o=s),s>i&&(i=s)}return{maxCoordinate:n,maxRadius:Wv(r-e,i-o)}}(t),i=2**Math.ceil(Math.log2(r))*2**-16;return n<.05&&(n=.05),n>3&&(n=3),e<.1&&(e=.1),e>100&&(e=100),{maxCurviness:n,maxLength:e*=2**Math.ceil(Math.log2(o))*2**-10,maxCoordinate:r,minBezLength:i}}(t,n,r));const c=function(t,n){let r;"undefined"!=typeof _debug_&&(r=performance.now()),n=n||Dp(t);const o=Math.ceil(Math.log2(n)),i=2**o*2**-46*64;(function(t){if("undefined"!=typeof _debug_){if("undefined"!=typeof document){const n=function(t){let n="";for(const r of t)n=n+e(r)+"\n";return n}(t);document.getElementsByClassName("shape")[0].setAttributeNS(null,"d",n)}for(const n of t){_debug_.generated.elems.loopPre.push(...t),_debug_.generated.elems.loopsPre.push(t);for(const t of n){const n=yi(t),e=Hr(t),r=jr(t);_debug_.generated.elems.bezier_.push(t),_debug_.generated.elems.looseBoundingBox_.push(n),_debug_.generated.elems.tightBoundingBox_.push(e),_debug_.generated.elems.boundingHull_.push(r)}}}})(t=Xp(t,46,o,!1,!0)),t.sort(Ai);const c=t.map(((t,n)=>Cp(t,n))),{extremes:s}=Mp(c,i,o),u={dir:void 0,idx:0,parent:void 0,children:new Set,windingNum:0,p:void 0,_x_:void 0,container:void 0},f=new Set,l=new Set;for(const t of c){if(f.has(t))continue;f.add(t);const n=Oi(u,t),e=s.get(t)[0].container;if(!e.inOuts.length)continue;const r=Tp(e);r.parent=n,r.windingNum=n.windingNum+r.orientation,r.children=new Set,Jo(0,Tp(e),f,l)}const h=function(t){const n=[],e=[t];for(;e.length;){const t=e.pop();t.children=t.children||new Set;for(const r of t.children)0===t.windingNum&&n.push(r),e.push(r);0===t.windingNum&&(t.children=new Set)}return n}(u).map(zi).map((t=>t.map(((n,e)=>function(t,n,e){const r=n<0?Cp(t.beziers,e):function(t){const n=[],e=t.curves;for(let t=e.length-1;t>=0;t--){const r=e[t].ps.slice().reverse();n.push(r)}return Cp(n,void 0)}(Cp(t.beziers,e));return r}(n,t[0].orientation,e))))),p=(2**o*2**-12)**2,a=[];for(let t=0;t<h.length;t++){const n=h[t].filter((t=>Math.abs(Hp(t))>p));n.length&&(n.sort(((t,n)=>Ai(t.beziers,n.beziers))),a.push(n))}return function(t){if("undefined"!=typeof _debug_)for(const n of t)_debug_.generated.elems.loop.push(...n),_debug_.generated.elems.loops.push(n)}(a),"undefined"!=typeof _debug_&&(_debug_.generated.timing.simplifyPaths=performance.now()-r),a}(t),s=[];for(const t of c){const e=Zv(t,i,n,r,o);e&&s.push(e)}return s}function tm(t){const n=new Map;return Pn(t).forEach((function(t){const e=t.cp.pointOnShape.curve.loop;let r=n.get(e);r||(r=new lg(wn,!1),n.set(e,r)),r.insert(t)})),n}function nm(t){const n=[],e=Pn(t);for(const t of e)An(t)&&n.push(t);return n}const em=["prev","next","prevOnCircle","nextOnCircle"];function rm(t){const n=new Map,e=Sn(t.cp,t.isHoleClosing,t.isIntersection);n.set(t,e);const r=[{cpNode:t,newCpNode:e}];for(;r.length;){const{cpNode:t,newCpNode:e}=r.pop();for(const o of em){const i=t[o];let c=n.get(i);c||(c=Sn(i.cp,i.isHoleClosing,i.isIntersection),n.set(i,c),r.push({cpNode:i,newCpNode:c})),e[o]=c}}return e}function om(t){const n=function(t){let n=t;const e=nm(t);for(;e.length;){const r=e.pop();if(r.isHoleClosing||r.isIntersection)continue;let o=r.next;for(;;){o=o.next;let e=!1;const r=o.prevOnCircle;if(Fn(o)>2){const n=o.nextOnCircle;On(o,t)?e=!0:o.next===n?o=n:n.next!==r&&(e=!0)}else if(An(o)&&!o.isIntersection)return void(n=o);if(e){r.next=o,o.prev=r,n=o;break}}}return n}(rm(t.cpNode));if(n)return{cpNode:n,cpTrees:tm(n)}}function im(t,n,e=16){if(n[0]===n[1])return 0;const{weights:r,abscissas:o}=cm[e],[i,c]=n;let s=0;const u=(c-i)/2,f=(c+i)/2;for(let n=0;n<=e-1;n++)s+=r[n]*t(u*o[n]+f);return u*s}const cm={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]},64:{weights:[.048690957009139724,.048690957009139724,.04857546744150343,.04857546744150343,.048344762234802954,.048344762234802954,.04799938859645831,.04799938859645831,.04754016571483031,.04754016571483031,.04696818281621002,.04696818281621002,.046284796581314416,.046284796581314416,.04549162792741814,.04549162792741814,.044590558163756566,.044590558163756566,.04358372452932345,.04358372452932345,.04247351512365359,.04247351512365359,.04126256324262353,.04126256324262353,.03995374113272034,.03995374113272034,.038550153178615626,.038550153178615626,.03705512854024005,.03705512854024005,.035472213256882386,.035472213256882386,.033805161837141606,.033805161837141606,.03205792835485155,.03205792835485155,.030234657072402478,.030234657072402478,.028339672614259483,.028339672614259483,.02637746971505466,.02637746971505466,.024352702568710874,.024352702568710874,.022270173808383253,.022270173808383253,.02013482315353021,.02013482315353021,.017951715775697343,.017951715775697343,.015726030476024718,.015726030476024718,.013463047896718643,.013463047896718643,.011168139460131128,.011168139460131128,.008846759826363947,.008846759826363947,.006504457968978363,.006504457968978363,.004147033260562468,.004147033260562468,.001783280721696433,.001783280721696433],abscissas:[-.024350292663424433,.024350292663424433,-.07299312178779904,.07299312178779904,-.12146281929612056,.12146281929612056,-.16964442042399283,.16964442042399283,-.21742364374000708,.21742364374000708,-.2646871622087674,.2646871622087674,-.31132287199021097,.31132287199021097,-.3572201583376681,.3572201583376681,-.4022701579639916,.4022701579639916,-.4463660172534641,.4463660172534641,-.48940314570705296,.48940314570705296,-.5312794640198946,.5312794640198946,-.571895646202634,.571895646202634,-.6111553551723933,.6111553551723933,-.6489654712546573,.6489654712546573,-.6852363130542333,.6852363130542333,-.7198818501716109,.7198818501716109,-.7528199072605319,.7528199072605319,-.7839723589433414,.7839723589433414,-.8132653151227975,.8132653151227975,-.8406292962525803,.8406292962525803,-.8659993981540928,.8659993981540928,-.8893154459951141,.8893154459951141,-.9105221370785028,.9105221370785028,-.9295691721319396,.9295691721319396,-.9464113748584028,.9464113748584028,-.9610087996520538,.9610087996520538,-.973326827789911,.973326827789911,-.983336253884626,.983336253884626,-.9910133714767443,.9910133714767443,-.9963401167719553,.9963401167719553,-.9993050417357722,.9993050417357722]}};function sm(t){const[n,e]=w(t);return function(t){const r=E(n,t),o=E(e,t);return Math.sqrt(r*r+o*o)}}function um(t,n=.4,e=2**-16){const r={r:[0,1]};let o=r;for(;void 0!==o;){const r=o.r;if(mv(Jp(t,r[0],r[1]))<=n||r[1]-r[0]<=e){o=o.next;continue}const i=(r[0]+r[1])/2,c=[r[0],i],s=[i,r[1]];o.r=c,o.next={r:s,next:o.next}}o=r;const i=[];for(;void 0!==o;)i.push(o.r[0]),void 0===o.next&&i.push(o.r[1]),o=o.next;return i}function fm(t,n){const e=Cn(t);for(;e.length;){const t=e.pop();n(t),An(t)||e.push(...Mn(t))}}function lm(t,n){n(t),Cn(t).filter((t=>!An(t))).map((t=>t.next)).forEach((function(t){const e=[t];for(;e.length;){const t=e.pop();n(t),e.push(...yn(t))}}))}function hm(t,n){let e=0;if("undefined"!=typeof _debug_){e=performance.now();const n=nm(t.cpNode);_debug_.generated.elems.leaves.push(n)}const r=[];lm(rm(t.cpNode),(t=>{r.push(t)}));const o=function(t){return t.reduce((function(t,n){return t.cp.circle.radius>=n.cp.circle.radius?t:n}),t[0])}(r);"undefined"!=typeof _debug_&&_debug_.generated.elems.maxVertex.push(o);const i=new Set,c=new Map;fm(o,(function(t){const e=c.get(t)||n*t.cp.circle.radius,r=t.next,o=function(t,n,e=.4,r=16){if(4===n.length)return function(t,n,e=.4,r=16){const o=t[0],i=t[1];if(o===i)return 0;const[[c,s],[u,f],[l,h],[p,a]]=n;if(c===u&&u===l&&l===p&&s===f&&f===h&&h===a)return 0;const d=rd(n,o,i).ps,g=um(d,e);let v=0;for(let t=0;t<g.length-1;t++){const n=g[t],e=g[t+1];v+=im(sm(d),[n,e],r)}return v}(t,n,e,r);if(3===n.length)return function(t,n,e=.4,r=16){const o=t[0],i=t[1];if(o===i)return 0;const[[c,s],[u,f],[l,h]]=n;if(c===u&&u===l&&s===f&&f===h)return 0;const p=cd(n,o,i).ps,a=um(p,e);let d=0;for(let t=0;t<a.length-1;t++){const n=a[t],e=a[t+1];d+=im(sm(p),[n,e],r)}return d}(t,n,e,r);if(2===n.length)return function(t,n){const[e,r]=t,[[o,i],[c,s]]=n;return Qr([o+e*(c-o),i+e*(s-i)],[o+r*(c-o),i+r*(s-i)])}(t,n);if(1===n.length)return 0;throw new Error("The given bezier curve must be of order <= 3.")}([0,1],Nn(t)),s=r.cp.circle.radius;if(e-o>n*s){for(const t of Cn(r))c.set(t,e-o);i.add(r.cp.circle)}})),function(t,n){const e=nm(n);function r(t){let n=t;const e=[];do{n.next!==n.nextOnCircle&&e.push(n),n=n.nextOnCircle}while(n!==t.prevOnCircle);return e}for(;e.length;){const o=e.pop();if(o.isHoleClosing||o.isIntersection)continue;if(!t.has(o.cp.circle))continue;let i=o.next;for(;;){i=i.next;let e=!1;const o=i.prevOnCircle;if(t.has(i.cp.circle))if(On(i,n))e=!0;else{const t=r(i);1===t.length?i=t[0]:e=!0}else e=!0;if(e){o.next=i,i.prev=o;break}}}}(i,o),"undefined"!=typeof _debug_&&_debug_.generated.elems.culls.push(Array.from(i));const s={cpNode:o,cpTrees:void 0};return function(t,n){"undefined"!=typeof _debug_&&(_debug_.generated.elems.sat.push(t),_debug_.generated.timing.sats=performance.now()-n)}(s,e),s}const pm=1;function am(t,n=pm){for(;!Bn(t);)t=t.next;const e=[],r=[t.prevOnCircle];let o=[];for(;r.length;){const t=r.pop();o.push(t);let i=Mn(t);if(Bn(t)){o.length>1&&e.push(o),o=[];continue}if(1===i.length){r.push(i[0]);continue}if(i=i.filter((t=>!An(t))),0===i.length){e.push(o),o=[];continue}if(i.length>1){e.push(o),o=[],r.push(...i);continue}const c=x(N(M(Nn(t.next.prevOnCircle),0)),N(M(Nn(i[0]),0)));Math.abs(Math.asin(c)*(180/Math.PI))>n&&(e.push(o),o=[]),r.push(i[0])}return o.length&&e.push(o),e}let dm=0;function gm(t){return t.map((t=>{return(n=t.cp.pointOnShape).p[0]+", "+n.p[1]+" | bz: "+n.curve.idx+" | t: "+n.t;var n}))}function vm(t,n=3){return t[0].toFixed(n)+", "+t[1].toFixed(n)}const mm={δToString:gm,δsToString:function(t){return t.map(gm)},pointToStr:vm,pointsToStr:function(t,n=3){return t.map((t=>vm(t,n)))},nameObj:function(t,n=""){t.name=""+n+dm++}},bm="red thin10 nofill ",_m="http://www.w3.org/2000/svg";function xm(t,n,e=bm,r){const o=n.center,i=n.radius,c=document.createElementNS(_m,"circle");return c.setAttributeNS(null,"cx",o[0].toString()),c.setAttributeNS(null,"cy",o[1].toString()),c.setAttributeNS(null,"r",i.toString()),c.setAttributeNS(null,"class",e),t.appendChild(c),r&&setTimeout((()=>c.remove()),r),[c]}function Im(t,n,e=bm,r){const o=document.createElementNS(_m,"line");return o.setAttributeNS(null,"x1",n[0][0].toString()),o.setAttributeNS(null,"y1",n[0][1].toString()),o.setAttributeNS(null,"x2",n[1][0].toString()),o.setAttributeNS(null,"y2",n[1][1].toString()),o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout((()=>o.remove()),r),[o]}function Nm(t,n,e=bm,r=3,o){const i=xm(t,{center:n,radius:r},e),c=[[n[0]-r,n[1]],[n[0]+r,n[1]]],s=[[n[0],n[1]-r],[n[0],n[1]+r]],u=Im(t,c,e),f=Im(t,s,e);return o&&setTimeout((()=>{i.forEach((t=>t.remove())),u.forEach((t=>t.remove())),f.forEach((t=>t.remove()))}),o),[...i,...u,...f]}function Sm(t){return 2===t?"L":3===t?"Q":4===t?"C":void 0}function Em(t,n,e=bm,r){const[[o,i],[c,s],[u,f]]=n,l=document.createElementNS(_m,"path");return l.setAttributeNS(null,"d",`M${o} ${i} Q${c} ${s} ${u} ${f}`),e&&l.setAttributeNS(null,"class",e),t.appendChild(l),r&&setTimeout((()=>l.remove()),r),[l]}function wm(t,n,e=bm,r){const[[o,i],[c,s],[u,f],[l,h]]=n;if(o===l&&c===l&&u===l&&i===h&&s===h&&f===h)return Nm(t,[o,i],e,.2,r);const p=document.createElementNS(_m,"path");return p.setAttributeNS(null,"d",`M${o} ${i} C${c} ${s} ${u} ${f} ${l} ${h}`),p.setAttributeNS(null,"class",e),t.appendChild(p),r&&setTimeout((()=>p.remove()),r),[p]}function Mm(t,n,e=bm,r){return 2===n.length?Im(t,n,e,r):3===n.length?Em(t,n,e,r):4===n.length?wm(t,n,e,r):[]}const ym=["red","green","cyan","blue"];function Pm(t,n){const e=1-n;if(4===t.length){const[[r,o],[i,c],[s,u],[f,l]]=t;return[r*e**3+3*i*e**2*n+3*s*e*n**2+f*n**3,o*e**3+3*c*e**2*n+3*u*e*n**2+l*n**3]}if(3===t.length){const[[r,o],[i,c],[s,u]]=t;return[r*e**2+2*i*e*n+s*n**2,o*e**2+2*c*e*n+u*n**2]}if(2===t.length){const[[r,o],[i,c]]=t;return[r*e+i*n,o*e+c*n]}return[NaN,NaN]}function Tm(t,n){return 2===t.length?function(t,n){const[[e,r],[o,i]]=t,c=1-n,s=[c*e+n*o,c*r+n*i];return[[[e,r],s],[s,[o,i]]]}(t,n):3===t.length?function(t,n){const[[e,r],[o,i],[c,s]]=t,u=1-n,f=[u*u*e+2*u*n*o+n*n*c,u*u*r+2*u*n*i+n*n*s];return[[[e,r],[u*e+n*o,u*r+n*i],f],[f,[u*o+n*c,u*i+n*s],[c,s]]]}(t,n):4===t.length?function(t,n){const[[e,r],[o,i],[c,s],[u,f]]=t,l=1-n,h=n*n,p=h*n,a=l*l,d=a*l,g=[p*u+3*l*h*c+3*a*n*o+d*e,p*f+3*l*h*s+3*a*n*i+d*r];return[[[e,r],[n*o+l*e,n*i+l*r],[h*c+2*l*n*o+a*e,h*s+2*l*n*i+a*r],g],[g,[h*u+2*n*l*c+a*o,h*f+2*n*l*s+a*i],[n*u+l*c,n*f+l*s],[u,f]]]}(t,n):[]}const Cm={circle:xm,crossHair:Nm,dot:function(t,n,e=3,r="red",o){const[i]=xm(t,{center:n,radius:e},"dot "+r,o);return o&&setTimeout((()=>i.remove()),o),[i]},line:Im,rect:function(t,n,e=bm,r){const[[o,i],[c,s]]=n,u=o<c?o:c,f=i<s?i:s,l=Math.abs(o-c),h=Math.abs(i-s),p=document.createElementNS(_m,"rect");return p.setAttributeNS(null,"x",u.toString()),p.setAttributeNS(null,"y",f.toString()),p.setAttributeNS(null,"width",l.toString()),p.setAttributeNS(null,"height",h.toString()),e&&p.setAttributeNS(null,"class",e),t.appendChild(p),r&&setTimeout((()=>p.remove()),r),[p]},beziers:function(t,n,e,r){const o=void 0===e,i=[];for(let r=0;r<n.length;r++){const c=n[r],s=o?"thin5 nofill "+ym[r%ym.length]:e;i.push(...Mm(t,c,s))}return r&&setTimeout((()=>i.forEach((t=>t.remove()))),r),i},bezier:Mm,bezierPiece:function(t,n,e,r=bm,o){const i=e[0]===e[1]?Nm(t,Pm(n,e[0]),r,1.5):Mm(t,function(t,n){if(0===n[0]&&1===n[1])return t;if(n[0]===n[1]){const e=Pm(t,n[0]);return[e,e,e,e]}return 0===n[0]?Tm(t,n[1])[0]:1===n[1]?Tm(t,n[0])[1]:Tm(Tm(t,n[0])[1],(n[1]-n[0])/(1-n[0]))[0]}(n,e),r);return o&&setTimeout((()=>i.forEach((t=>t.remove()))),o),i},quadBezier:Em,cubicBezier:wm,polygon:function(t,n,e=bm,r){const o=document.createElementNS(_m,"path");let i=`M${n[0][0]} ${n[0][1]} L`;for(let t=0;t<n.length;t++)i+=`${n[t][0]} ${n[t][1]} `;return i+=" z",o.setAttributeNS(null,"d",i),e&&o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout((()=>o.remove()),r),[o]},loop:function(t,n,e=bm,r){if(!n.length)return[];const o=document.createElementNS(_m,"path");let i=`M${n[0][0][0]} ${n[0][0][1]} `;for(let t=0;t<n.length;t++){const e=n[t];i+=`${Sm(e.length)} `;for(let t=1;t<e.length;t++)i+=`${e[t][0]} ${e[t][1]} `}return i+=" z",o.setAttributeNS(null,"d",i),e&&o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout((()=>o.remove()),r),[o]},polyline:function(t,n,e=bm,r){if(n.length<2)return[];const o=document.createElementNS(_m,"path");let i=`M${n[0][0]} ${n[0][1]} L`;for(let t=0;t<n.length;t++)i+=`${n[t][0]} ${n[t][1]} `;return o.setAttributeNS(null,"d",i),e&&o.setAttributeNS(null,"class",e),t.appendChild(o),r&&setTimeout((()=>o.remove()),r),[o]},text:function(t,n,e,r,o=bm,i){const c=document.createElementNS(_m,"text");return c.setAttributeNS(null,"x",n[0].toString()),c.setAttributeNS(null,"y",n[1].toString()),c.setAttributeNS(null,"font-size",r.toString()),c.setAttributeNS(null,"class",o),c.textContent=e,t.appendChild(c),i&&setTimeout((()=>c.remove()),i),[c]}};function Om(t,n,e=1e3,r=1){const o=n.xs;console.log(n),console.log(n.xs.map((t=>({x:t.x,y:t.y,z:t.z,d:t.z?a(t.y.p,t.z.p):0,t:t.t})))),console.log(o.length);for(let i=0;i<o.length;i++){const o=n.xs[i],c={center:o.x,radius:Qr(o.x,o.y.p)};Cm.crossHair(t,o.x,"red thin10 nofill",.002*r,e),Cm.circle(t,c,"blue thin10 nofill",e),void 0!==o.z&&Cm.crossHair(t,o.z.p,"yellow thin10 nofill",.001*r,e)}}const Am={logδ:function(t,n="twoProng_regular"){const e=_debug_.generated.elems[n][t].δ;console.log(e)},log:function(t,n="twoProng_regular"){const e=_debug_.generated.elems[n][t];console.log(e)},drawNormal:function(t,n,e=1e3){Cm.line(t,[n.pos.p,n.circle.center],"thin10 blue",e)},logδBasic:function(t,n="twoProng_regular"){const e=_debug_.generated.elems[n][t].δ;function r(t){const n=t.cp.pointOnShape;return{bez:n.curve.ps,t:n.t}}console.log(r(e[0])),console.log(r(e[1]))},traceConvergence:Om,logNearest:function(t,n,e){return(e,r,o=1e3,i=1)=>{const c=m(r,_debug_.generated.elems.twoProng_regular,(t=>t.circle.center));let s;[].push(c),console.log(c);for(let t=0;t<_debug_.generated.elems.twoProng_regular.length;t++)if(_debug_.generated.elems.twoProng_regular[t]===c){s=t;break}t&&function(t,n,e=1e3){const r=n.circle.center,{pos:o,circle:i,cpNode:c,xs:s,z:u,δ:f}=n;Cm.line(t,[o.p,r],"thin5 red",e),Cm.line(t,[u,r],"thin5 red",e)}(e,c,o),void 0!==s&&n&&Om(e,c,o,i)}}},Bm={drawSpokes:function(t,n){const e=_debug_.generated.elems.threeProng[n],r=e.circle.center,o=e.poss;for(let n=0;n<o.length;n++){const e=o[n];Cm.line(t,[e.p,r],"thin5 red")}},traceConvergence:function(t,n,e){let r,o;void 0===n?(r=0,o=_debug_.generated.elems.threeProng.length):(r=n,o=n+1);for(let i=r;i<o;i++){const r=_debug_.generated.elems.threeProng[i];console.log(r);const o=r.candidateThreeProngs;let c,s;void 0===n||-1===e?(c=r.bestIndx,s=r.bestIndx+1):void 0===e?(c=0,s=o.length):(c=e,s=e+1);for(let n=c;n<s;n++){const e=o[n].circle;r.bestIndx===n?(Cm.dot(t,e.center,.2,"green"),Cm.circle(t,e,"black thin10 nofill")):(Cm.dot(t,e.center,.2,"cyan"),Cm.circle(t,e,"cyan thin5 nofill"))}}},showBoundary:function(t,n,e){const r=_debug_.generated.elems.threeProng[n],o=r.candidateThreeProngs,i=void 0===e?0:e,c=void 0===e?o.length:e,s=r.cpss;let u=0;for(let n=1;n<s.length-1;n++){if(!(u>=i&&u<=c)){u++;continue}const e=[s[0],s[n],s[s.length-1]];for(let n=0;n<3;n++){const r=e[n],o=r[0],i=r[1],c=o.cp.pointOnShape,s=i.cp.pointOnShape,u=c.p,f=s.p,l=1+.5*n;v(u,f)?Cm.crossHair(t,u,"red thin10 nofill",l):(Cm.crossHair(t,u,"green thin10 nofill",l),Cm.crossHair(t,f,"blue thin10 nofill",l))}u++}},logδs:function(t){const n=_debug_.generated.elems.threeProng[t];console.log(n.cpss)},logNearest:function(t=!0,n=!0,e=!0){return function(r,o,i=1e3){const c=m(o,_debug_.generated.elems.threeProng,(t=>t.circle?t.circle.center:[0,0])),s=c.circle;console.log(c);const u={center:s.center,radius:s.radius||1};if(Cm.circle(r,u,"blue thin10 nofill",i),Cm.crossHair(r,s.center,"red thin2 nofill",2,i),t&&(Cm.line(r,[c.poss[0].p,s.center],"blue thin5 nofill",i),Cm.line(r,[c.poss[1].p,s.center],"blue thin5 nofill",i),Cm.line(r,[c.poss[2].p,s.center],"blue thin5 nofill",i)),e){const t=c.boundaries,n=t[0],e=t[t.length-1];Cm.beziers(r,n,"red thin20 nofill",i);for(let n=1;n<t.length-1;n++){const e=t[n];Cm.beziers(r,e,"green thin20 nofill",i)}Cm.beziers(r,e,"blue thin20 nofill",i)}if(n){const t=c.traces;for(const n of t)Cm.polyline(r,n,"red thin5 nofill",i)}}}};function zm(t,n,e,r=0,o=1){let i,c,s=[],u=[],f=[],l=[],h=[];switch(Qg(n)){case"twoProng_regular":i="red ",c="2";break;case"twoProng_holeClosing":i="cyan ",c="10"}return n.failed?s=Cm.dot(t,n.pos.p,1*o,"black",r):n.failed||(u=Cm.dot(t,n.circle.center,.01*o,"yellow",r),f=Cm.circle(t,n.circle,i+"thin"+c+" nofill",r),l=Cm.dot(t,n.pos.p,.0175*o,i,r),h=Cm.dot(t,n.z,.035*o,i,r)),[...s,...u,...f,...l,...h]}function Ym(t){const n="mat"===t?"thin5 purple nofill":"thin10 red nofill";return(t,e,r,o=0,i=1)=>{const c=e.cpNode;if(!c)return[];const s=[];return fm(c,(e=>{if(An(e))return;const r=Nn(e);r&&s.push(...Cm.bezier(t,r,n,o))})),s}}function Fm(t,n,e,r){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",n[0].toString()),o.setAttributeNS(null,"cy",n[1].toString()),o.setAttributeNS(null,"r",e.toString()+"%"),o.setAttributeNS(null,"class",r),t.appendChild(o),o}function Vm(t,n,e,r){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",n[0].toString()),o.setAttributeNS(null,"cy",n[1].toString()),o.setAttributeNS(null,"r",e.toString()+"%"),o.setAttributeNS(null,"class",r),t.appendChild(o),o}const km={oneProng:function(t,n,e,r=0,o=1){const i=n[0].cp,{circle:c,pointOnShape:s}=i;return[...Cm.dot(t,s.p,.02*o,"deeppink",r),...Cm.dot(t,c.center,.05*o,"deeppink",r),...Cm.circle(t,c,"deeppink thin5 nofill",r)]},oneProngAtDullCorner:function(t,n,e,r=1e3,o=1){const i=$g(Number.POSITIVE_INFINITY,n);return[...Cm.dot(t,n.p,.1,"orange"),...Cm.dot(t,i.center,.25,"orange"),...Cm.circle(t,i,"orange thin10 nofill")]},twoProng_regular:zm,twoProng_failed:zm,twoProng_notAdded:zm,twoProng_deleted:zm,twoProng_holeClosing:zm,threeProng:function(t,n,e,r=0,o=1){const i=function(t,n){return{center:t.center,radius:1*t.radius}}(n.circle),c=n.poss,s=Cm.dot(t,c[0].p,.01*o,"blue",r),u=Cm.dot(t,c[1].p,.02*o,"blue",r),f=Cm.dot(t,c[2].p,.03*o,"blue",r);return[...Cm.dot(t,i.center,.03*o,"blue",r),...s,...u,...f,...Cm.circle(t,i,"blue thin2 nofill",r)]},boundingHull:function(t,n,e="thin5 black nofill",r=0,o=1){return Cm.polygon(t,n,e,r)},looseBoundingBox:function(t,n,e="thin5 brown nofill",r=0,o=1){const[[i,c],[s,u]]=n;return n=[[i,c],[s,c],[s,u],[i,u]],Cm.polygon(t,n,e,r)},tightBoundingBox:function(t,n,e="thin5 pinker nofill",r=0,o=1){return Cm.polygon(t,n,"thin5 pinker nofill",r)},sharpCorner:function(t,n,e="green",r=0,o=1){const i=n.ps[n.ps.length-1];return Cm.dot(t,i,.6*o,"green",r)},dullCorner:function(t,n,e="orange",r=0,o=1){const i=n.ps,c=n.ps[i.length-1];return Cm.dot(t,c,.05*o,e,r)},vertex:function(t,n,e,r,o=1){const i=n.cp.circle,c="thin20",s=Cn(n);console.log(s);let u=[];u=[...Cm.circle(t,i,"red "+c+" nofill ",r),...Cm.crossHair(t,i.center,"red "+c+" nofill ",3,r)];for(let n=0;n<s.length;n++){const e=s[n].next.cp.circle,o=Cm.circle(t,e,"pink "+c+" nofill ",r),f=Cm.crossHair(t,e.center,"pink "+c+" nofill ",3,r);u.push(...o,...f);const l=i.center,h=e.center,p=0===n?"thin10":1===n?"thin20":"thin35",a=Cm.line(t,[l,h],"yellow "+p+" nofill ",r);u.push(...a)}return u},mat:Ym("mat"),sat:Ym("sat"),maxVertex:function(t,n){const e=n.cp.circle;return Cm.circle(t,e,"brown thin10 nofill")},leaves:function(t,n){const e=[];for(const r of n){const n=r.cp.circle.center;e.push(Fm(t,n,.5,"pinker thin5 nofill"))}return e},culls:function(t,n){const e=[];for(const r of n){const n=r.center;e.push(Vm(t,n,.4,"cyan thin5 nofill"))}return e},cpNode:function(t,n){return[]}};function Lm(t){if(!t)return void(window._debug_=void 0);let n=window._debug_;n={...n,generated:{...n&&n.generated?n.generated:{},elems:{...n&&n.generated&&n.generated.elems?n.generated.elems:{},oneProng:[],oneProngAtDullCorner:[],twoProng_regular:[],twoProng_failed:[],twoProng_notAdded:[],twoProng_deleted:[],twoProng_holeClosing:[],looseBoundingBox:[],tightBoundingBox:[],sharpCorner:[],dullCorner:[],vertex:[],threeProng:[],boundingHull:[],mat:[],sat:[],cpNode:[],maxVertex:[],leaves:[],culls:[]},timing:{...n&&n.generated&&n.generated.timing?n.generated.timing:{},holeClosers:0,oneAnd2Prongs:0,threeProngs:0,sats:0,simplifyMat:0}},fs:{...n&&n.fs?n.fs:{},drawElem:{...n&&n.fs&&n.fs.drawElem?n.fs.drawElem:{},...km},...mm,twoProng:Am,threeProng:Bm},directives:{...n&&n.directives?n.directives:{},stopAfterHoleClosers:!1,stopAfterHoleClosersNum:void 0,stopAfterTwoProngs:!1,stopAfterTwoProngsNum:void 0,stopAfterThreeProngs:!1,stopAfterThreeProngsNum:void 0}},window._debug_=n}function Xm(t,n,e){const r=[];for(const o of n){if(An(o))continue;const n=Nn(o);n&&r.push(...Cm.bezier(t,n,"thin5 purple nofill",e))}return r}function Dm(t,n,e,r,o,i){n=Ld(n,e);let c,s=Number.POSITIVE_INFINITY;for(let u=0;u<n.length;u++){const f=n[u],l=m(e,Cd(f.curve,e,f.ts,r,o,i,t),(t=>t.p));if(void 0===l)continue;const h=Zg(l.p,e);let p=f.curve,a=l.t;h<s&&(0===a&&(a=1,p=f.curve.prev),c=Se(p,a,!1),s=h)}return c}function qm(t){const n=t,e=t.next,r=n.cp.pointOnShape,o=e.cp.pointOnShape,i=r.curve,c=o.curve;if(i.loop!==c.loop)return;const s=[];return c===i?s.push(Jp(r.curve.ps,r.t,o.t)):(s.push(Jp(r.curve.ps,r.t,1)),function(t,n,e,r){let o=n;do{o=o.next;const n=o===e?r:1;t.push(Jp(o.ps,0,n))}while(o!==e)}(s,r.curve,o.curve,o.t)),s}function $m(t){const n=t,e=t.next,r=n.cp.pointOnShape,o=e.cp.pointOnShape,i=r.curve,c=o.curve;if(i.loop!==c.loop)return;const s=[];return c===i?s.push({ps:r.curve.ps,ts:[r.t,o.t]}):(s.push({ps:r.curve.ps,ts:[r.t,1]}),function(t,n,e,r){let o=n;do{o=o.next;const n=o===e?{ps:o.ps,ts:[0,r]}:{ps:o.ps,ts:[0,1]};t.push(n)}while(o!==e)}(s,r.curve,o.curve,o.t)),s}function Qm(t,n){const e=t[0],r=t[1],o=t[2],i=t[3],c=e[0],s=e[1],u=r[0],f=r[1],l=o[0],h=o[1],p=i[0],a=i[1],d=n[0],g=n[1],v=c-d,m=u-d,b=l-d,_=p-d,x=s-g,I=f-g,N=h-g,S=a-g,E=v*v,w=6*v*m,M=6*b*_,y=x*x,P=6*x*I,T=6*N*S,C=6*m*_+9*b*b,O=2*v*_+18*m*b,A=6*v*b+9*m*m,B=6*I*S+9*N*N,z=2*x*S+18*I*N,Y=6*x*N+9*I*I;return[6*(_*_-M+(E-w)+C+(A-O)+(S*S-T+(y-P)+B+(Y-z))),5*(M+5*w+3*O-2*(C+2*A+3*E)+(T+5*P+3*z-2*(B+2*Y+3*y))),4*(C-3*(O-2*A)-5*(2*w-3*E)+(B-3*(z-2*Y)-5*(2*P-3*y))),3*(O-2*(2*A-5*(w-2*E))+(z-2*(2*Y-5*(P-2*y)))),2*(A-5*(w-3*E)+(Y-5*(P-3*y))),w-6*E+(P-6*y)]}function Hm(t,n){const e=t[0],r=t[1],o=t[2],i=e[0],c=e[1],s=r[0],u=r[1],f=o[0],l=o[1],h=n[0],p=n[1],a=i-h,d=s-h,g=f-h,v=c-p,m=u-p,b=l-p,_=a*a,x=a*d,I=d*g,N=v*v,S=v*m,E=m*b,w=v*b+m*m*2,M=a*g+d*d*2;return[b*b+N+2*w-4*(E+S)+(g*g+_+2*M-4*(I+x)),3*(E-w+(3*S-N)+(I-M+(3*x-_))),w-3*(2*S-N)+(M-3*(2*x-_)),S-N+(x-_)]}function Gm(t,n){const[[e,r],[o,i]]=t,[c,s]=n,u=e-c,f=o-c,l=r-s,h=i-s,p=u*f+l*h,a=l*l+u*u;return[f*f+h*h+(a-2*p),p-a]}const Rm=Math.sqrt;function jm(t,n){let e;if(4===t.length)e=Qm(t,n);else if(3===t.length)e=Hm(t,n);else{if(2!==t.length){if(1===t.length)return{p:t[0],t:0,d:Qr(t[0],n)};throw new Error("The given bezier curve must be of order <= 3.")}e=Gm(t,n)}const r=Ni(e,0,1);r.push(0),r.push(1);let o,i=Number.POSITIVE_INFINITY;for(const e of r){const r=Ja(t,e),c=a(r,n);c<i&&(i=c,o={p:r,t:e,d:Rm(c)})}return o}const Um=Math.sqrt;function Zm(t){let n=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;e++){const r=t[e],o=Math.abs(r[0]),i=Math.abs(r[1]);o>n&&(n=o),i>n&&(n=i)}return n}function Wm(t){return Math.max(t.hL+t.hEL,t.hR+t.hER)}function Jm(t,n){const e=Wm(t)-Wm(n);return 0!==e?e:t.tS-n.tS}class Km{compare;heap=[];constructor(t){this.compare=t}insert(t){const n=this.heap;n.push(t);let e=n.length-1;for(;;){const r=(e-1-(e+1)%2)/2;if(-1===r)return;const o=n[r];if(this.compare(t,o)<0)break;n[r]=t,n[e]=o,e=r}}popMax(){const t=this.heap,n=t[0];return t[0]=t[t.length-1],t.length--,this.swimDown(),n}swimDown(){const t=this.heap,n=t.length;let e=0;for(;;){const r=2*e+1;if(r>=n)break;const o=2*e+2,i=o>=n||this.compare(t[r],t[o])>0?r:o,c=t[i],s=t[e];if(this.compare(s,c)>0)break;t[i]=s,t[e]=c,e=i}}swapMinOrMax(t){this.heap[0]=t,this.swimDown()}static getParentIdx(t){return(t-1-(t+1)%2)/2}static getLeftChild(t){return 2*t+1}static getRightChild(t){return 2*t+2}}const tb=Math.max;function nb(t,n,e,r=50){if(1===t.length)return jm(n,t[0]).d;if(1===n.length)return function(t,n){let e;if(4===t.length)e=Qm(t,n);else if(3===t.length)e=Hm(t,n);else{if(2!==t.length){if(1===t.length)return{p:t[0],t:0,d:Qr(t[0],n)};throw new Error("The given bezier curve must be of order <= 3.")}e=Gm(t,n)}const r=Ni(e,0,1);r.push(0),r.push(1);let o,i=Number.NEGATIVE_INFINITY;for(const e of r){const r=Ja(t,e),c=a(r,n);c>i&&(i=c,o={p:r,t:e,d:Um(c)})}return o}(t,n[0]).d;if(2===t.length&&2===n.length){const e=jm(n,t[0]).d,r=jm(n,t[t.length-1]).d;return e>r?e:r}const o=tb(Zm(t),Zm(n));e=e||o/1e6;const[i,c]=eb(t,0,1),s={tS:0,tE:1,hL:jm(n,t[0]).d,hR:jm(n,t[t.length-1]).d,hEL:i,hER:c},u=new Km(Jm);u.insert(s);let f=0,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(;;){const o=u.heap[0],{tS:i,tE:c,hL:s,hR:p}=o,a=(i+c)/2,[d,g]=eb(t,i,a),[v,m]=eb(t,a,c),b=Ja(t,a),_=Qr(b,jm(n,b).p),x=tb(s,_,p);if(x>h&&(h=x),l=Wm(o),l-h<e)return h;if(f++>r)return h;const I={tS:i,tE:a,hL:s,hR:_,hEL:d,hER:g},N={tS:a,tE:c,hL:_,hR:p,hEL:v,hER:m};u.swapMinOrMax(I),u.insert(N)}}function eb(t,n,e){const r=(e+n)/2,o=Jp(t,n,r),i=Jp(t,r,e);return[Yd(o),Yd(i)]}const rb=Math.max;function ob(t,n,e,r){const o=nb(t,n,e,r),i=nb(n,t,e,r);return rb(o,i)}function ib(t,n=15,e=.125,r=50){let o=t.cpNode;for(;!An(o);)o=o.next;const i=am(o,n),c=[];for(let t=0;t<i.length;t++){const n=i[t];let o=0;for(;o<n.length;){const t=o;for(;(o++,o!==n.length)&&!(cb(t,o,n,r)>e);)c.push(n[o]);if(t+1===o)break}}for(const t of c){const n=An(t),e=Cn(t).length;n||2!==e||kn(t)}return{cpNode:o,cpTrees:void 0}}function cb(t,n,e,r){const o=[],i=In(e[t],e[n].next);for(;t<n+1;t++)o.push(ob(Nn(e[t]),i,r));return Math.max(...o)}function sb(t){if(4===t.length)return t;if(3===t.length)return function(t){const[[n,e],[r,o],[i,c]]=t;return[[n,e],[1/3*n+2/3*r,1/3*e+2/3*o],[2/3*r+1/3*i,2/3*o+1/3*c],[i,c]]}(t);if(2===t.length)return function(t){const[[n,e],[r,o]]=t,i=(r-n)/3,c=(o-e)/3;return[[n,e],[n+i,e+c],[n+2*i,e+2*c],[r,o]]}(t);if(1===t.length){const n=t[0];return[n,n,n,n]}throw new Error("The given bezier curve must be of order <= 3.")}function ub(t,n=15,e=.1,r=1){const o=new Map;for(;!An(t);)t=t.next;const i=am(t,n),c=[];for(let t=0;t<i.length;t++){const n=i[t];let s=0;for(;s<n.length;){const t=s;for(;(s++,s!==n.length)&&!(fb(t,s,n,r)>e);)c.push(n[s]);if(t+1===s);else{const e=n[t],r=n[s-1],i=sb(In(e,r.next)),c=i.slice().reverse();let u=e,f=0;for(;u!==r;){const t=jm(i,u.next.cp.circle.center).t;o.set(u,{ps:i,ts:[f,t]});const n=u.nextOnCircle.prev;o.set(n,{ps:c,ts:[1-t,1-f]}),f=t,u=u.next}o.set(u,{ps:i,ts:[f,1]});const l=u.nextOnCircle.prev;o.set(l,{ps:c,ts:[0,1-f]})}}}return{simpleMap:o,cpNode:t}}function fb(t,n,e,r){const o=[],i=In(e[t],e[n].next);for(let c=t;c<n+1;c++)o.push(ob(Nn(e[c]),i,r));return Math.max(...o)}const lb=0,hb=1;function pb(t,n,e,r){const o=[];for(const r of t)o.push({type:lb,item:r,x:n(r)}),o.push({type:hb,item:r,x:e(r)});o.sort(ab);const i=new Set,c=[];for(const t of o){const{item:n}=t;if(t.type===lb){for(const t of i.values())r(n,t)&&c.push([n,t]);i.add(n)}else t.type===hb&&i.delete(t.item)}return c}function ab(t,n){const e=t.x-n.x;return 0!==e?e:t.type===lb?-1:1}return n})()));